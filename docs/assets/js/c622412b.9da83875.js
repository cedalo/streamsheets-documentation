"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[45753],{3905:(e,t,i)=>{i.d(t,{Zo:()=>u,kt:()=>f});var n=i(67294);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}var s=n.createContext({}),l=function(e){var t=n.useContext(s),i=t;return e&&(i="function"==typeof e?e(t):o(o({},t),e)),i},u=function(e){var t=l(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var i=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),m=l(i),f=a,d=m["".concat(s,".").concat(f)]||m[f]||p[f]||r;return i?n.createElement(d,o(o({ref:t},u),{},{components:i})):n.createElement(d,o({ref:t},u))}));function f(e,t){var i=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=i.length,o=new Array(r);o[0]=m;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var l=2;l<r;l++)o[l]=i[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,i)}m.displayName="MDXCreateElement"},25678:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>g,contentTitle:()=>f,default:()=>C,frontMatter:()=>m,metadata:()=>d,toc:()=>k});var n=i(3905),a=Object.defineProperty,r=Object.defineProperties,o=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,u=(e,t,i)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,p=(e,t)=>{for(var i in t||(t={}))s.call(t,i)&&u(e,i,t[i]);if(c)for(var i of c(t))l.call(t,i)&&u(e,i,t[i]);return e};const m={id:"mc-custom-client-certificates-and-ca",title:"Client Certificates and Custom CAs",sidebar_label:"Client Certificates and Custom CAs \u2b50"},f=void 0,d={unversionedId:"mc-custom-client-certificates-and-ca",id:"version-2.5/mc-custom-client-certificates-and-ca",title:"Client Certificates and Custom CAs",description:"This page describes how to use the Client Certificates and Custom CAs Plugin that is provided by the Management Center for the Pro Edition of Eclipse Mosquitto.",source:"@site/management-center_versioned_docs/version-2.5/custom-client-certificates-and-ca.md",sourceDirName:".",slug:"/mc-custom-client-certificates-and-ca",permalink:"/management-center/mc-custom-client-certificates-and-ca",draft:!1,tags:[],version:"2.5",frontMatter:{id:"mc-custom-client-certificates-and-ca",title:"Client Certificates and Custom CAs",sidebar_label:"Client Certificates and Custom CAs \u2b50"},sidebar:"someSidebar",previous:{title:"High Availability",permalink:"/management-center/mmc-high-availability"},next:{title:"Inspect Cleints \u2b50",permalink:"/management-center/mc-inspect-clients"}},g={},k=[{value:"Client Certificates and Custom CAs Overview \u2b50",id:"client-certificates-and-custom-cas-overview-",level:2},{value:"Enable Custom Certificates Plugin \u2b50",id:"enable-custom-certificates-plugin-",level:2},{value:"Use Custom Certificates with a specific Connection \u2b50",id:"use-custom-certificates-with-a-specific-connection-",level:2}],I={toc:k};function C(e){var t,a=e,{components:u}=a,m=((e,t)=>{var i={};for(var n in e)s.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&c)for(var n of c(e))t.indexOf(n)<0&&l.call(e,n)&&(i[n]=e[n]);return i})(a,["components"]);return(0,n.kt)("wrapper",(t=p(p({},I),m),r(t,o({components:u,mdxType:"MDXLayout"}))),(0,n.kt)("p",null,"This page describes how to use the ",(0,n.kt)("strong",{parentName:"p"},"Client Certificates and Custom CAs Plugin")," that is provided by the Management Center for the Pro Edition of Eclipse Mosquitto."),(0,n.kt)("admonition",p({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Custom Certificates Feature can only be accessed by users who can create connections. So, only by ",(0,n.kt)("em",{parentName:"p"},"admin")," users.")),(0,n.kt)("h2",p({},{id:"client-certificates-and-custom-cas-overview-"}),"Client Certificates and Custom CAs Overview \u2b50"),(0,n.kt)("p",null,"The User Client Certificates Feature provides an alternative to password authentication when connecting to your Mosquitto brokers. If your Mosquitto instance uses a certificate signed by a custom CA, you can still establish an encrypted connection using MMC with it. For that CA certificate can be uploaded for the given broker connection."),(0,n.kt)("h2",p({},{id:"enable-custom-certificates-plugin-"}),"Enable Custom Certificates Plugin \u2b50"),(0,n.kt)("p",null,"To enable Custom Certificates Feature, make sure you are using the Pro Edition of Mosquitto and that you have the feature enabled in your license. Also, ensure that your config file (specified with ",(0,n.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_PROXY_CONFIG")," environmental variable or by default saved in ",(0,n.kt)("inlineCode",{parentName:"p"},"management-center/config/config.json"),") contains the following entry inside of the ",(0,n.kt)("inlineCode",{parentName:"p"},"plugins")," array:"),(0,n.kt)("pre",null,(0,n.kt)("code",p({parentName:"pre"},{}),'    {\n      "name": "tls"\n    }\n')),(0,n.kt)("p",null,"On start-up, the Management Center will print a message that the ",(0,n.kt)("inlineCode",{parentName:"p"},"tls")," plugin is enabled and loaded into the console:"),(0,n.kt)("pre",null,(0,n.kt)("code",p({parentName:"pre"},{}),'Loaded plugin: "application_tokens" (Cedalo Application tokens)\n')),(0,n.kt)("h2",p({},{id:"use-custom-certificates-with-a-specific-connection-"}),"Use Custom Certificates with a specific Connection \u2b50"),(0,n.kt)("p",null,'To use a client certificate and/or custom CA certificate, go to the Create Connection Tab by selecting Connections view in the left menu bar, and in the top left, click "New Connection" button.'),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image",src:i(42749).Z,width:"112",height:"257"})),(0,n.kt)("p",null,"In the bottom of the Create Connection Tab, you will see the fields for uploading your certificates:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image",src:i(35509).Z,width:"1508",height:"950"})),(0,n.kt)("p",null,'You can see two sections: "Server certificate" and "Client certificate", and the following fields:'),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Server certificate"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("em",{parentName:"p"},"Verify server certificate")," switch makes Management Center validate Mosquitto broker server certificate. We recommend always leaving it on.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("em",{parentName:"p"},"CA Certificates")," is a Certificate Authority Certificate. The Management Center will trust the authority whose certificate you upload in this field. Upload a certificate here in case your broker instance uses a certificate signed by an unknown/custom CA.")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Client certificate"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("em",{parentName:"p"},"Cetificate")," upload a certificate to be used by the Management Center when connecting to the broker. This certificate will be validated by the broker")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("em",{parentName:"p"},"Private Key")," required field if you uploaded a client certificate using ",(0,n.kt)("em",{parentName:"p"},"Certificate")," option. This is a private key that will be used by the Management Center to handle encryption with a given broker.  "))))),(0,n.kt)("admonition",p({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Certificates can also be downloaded by clicking on the download cloud icon next to the certificate field.")),(0,n.kt)("admonition",p({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},'In case you want to use certificates with an existing connection, just click on this connection in the Connections view and make the appropriate changes to the "Server certificate" and "Client certificate" sections')))}C.isMDXComponent=!0},42749:(e,t,i)=>{i.d(t,{Z:()=>n});const n="data:image/png;base64,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"},35509:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/customcerts-002_create-fb076f7c019d23ddadbea8ebc5a4a7f4.png"}}]);