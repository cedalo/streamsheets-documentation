"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[89856],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>m});var r=t(67294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var u=r.createContext({}),i=function(e){var n=r.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},d=function(e){var n=i(e.components);return r.createElement(u.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},c=r.forwardRef((function(e,n){var t=e.components,l=e.mdxType,a=e.originalType,u=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=i(t),m=l,k=c["".concat(u,".").concat(m)]||c[m]||p[m]||a;return t?r.createElement(k,s(s({ref:n},d),{},{components:t})):r.createElement(k,s({ref:n},d))}));function m(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var a=t.length,s=new Array(a);s[0]=c;var o={};for(var u in n)hasOwnProperty.call(n,u)&&(o[u]=n[u]);o.originalType=e,o.mdxType="string"==typeof e?e:l,s[1]=o;for(var i=2;i<a;i++)s[i]=t[i];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}c.displayName="MDXCreateElement"},71868:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>g,contentTitle:()=>m,default:()=>f,frontMatter:()=>c,metadata:()=>k,toc:()=>h});var r=t(3905),l=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,d=(e,n,t)=>n in e?l(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,p=(e,n)=>{for(var t in n||(n={}))u.call(n,t)&&d(e,t,n[t]);if(o)for(var t of o(n))i.call(n,t)&&d(e,t,n[t]);return e};const c={id:"restapi-cluster-management",title:"Cluster Management",sidebar_label:"Cluster Management"},m=void 0,k={unversionedId:"api/restapis/restapi-cluster-management",id:"version-2.8/api/restapis/restapi-cluster-management",title:"Cluster Management",description:"Cluster Management operations",source:"@site/mosquitto_versioned_docs/version-2.8/api/restapis/cluster-management.md",sourceDirName:"api/restapis",slug:"/api/restapis/restapi-cluster-management",permalink:"/mosquitto/2.8/api/restapis/restapi-cluster-management",draft:!1,tags:[],version:"2.8",frontMatter:{id:"restapi-cluster-management",title:"Cluster Management",sidebar_label:"Cluster Management"},sidebar:"someSidebar",previous:{title:"User Management",permalink:"/mosquitto/2.8/api/restapis/restapi-user-management"},next:{title:"Profile Edit",permalink:"/mosquitto/2.8/api/restapis/restapi-profile-edit"}},g={},h=[{value:"Available API Paths",id:"available-api-paths",level:2},{value:"Path: /api/cluster-management/clusters",id:"path-apicluster-managementclusters",level:2},{value:"Methods",id:"methods",level:3},{value:"GET",id:"get",level:4},{value:"Path: /api/cluster-management/status/clusters",id:"path-apicluster-managementstatusclusters",level:2},{value:"Methods",id:"methods-1",level:3},{value:"GET",id:"get-1",level:4},{value:"Path: /api/cluster-management/clusters/{clusterName}",id:"path-apicluster-managementclustersclustername",level:2},{value:"Methods",id:"methods-2",level:3},{value:"GET",id:"get-2",level:4},{value:"Path: /api/cluster-management/mqtt",id:"path-apicluster-managementmqtt",level:2},{value:"Methods",id:"methods-3",level:3},{value:"POST",id:"post",level:4}],N={toc:h};function f(e){var n,t=e,{components:l}=t,d=((e,n)=>{var t={};for(var r in e)u.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&o)for(var r of o(e))n.indexOf(r)<0&&i.call(e,r)&&(t[r]=e[r]);return t})(t,["components"]);return(0,r.kt)("wrapper",(n=p(p({},N),d),a(n,s({components:l,mdxType:"MDXLayout"}))),(0,r.kt)("p",null,"Cluster Management operations"),(0,r.kt)("h2",p({},{id:"available-api-paths"}),"Available API Paths"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",p({parentName:"li"},{href:"#apicluster-managementclusters"}),"/api/cluster-management/clusters"),(0,r.kt)("br",null)),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",p({parentName:"li"},{href:"#apicluster-managementstatusclusters"}),"/api/cluster-management/status/clusters"),(0,r.kt)("br",null)),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",p({parentName:"li"},{href:"#apicluster-managementclustersclustername"}),"/api/cluster-management/clusters/{clusterName}"),(0,r.kt)("br",null)),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",p({parentName:"li"},{href:"#apicluster-managementmqtt"}),"/api/cluster-management/mqtt"),(0,r.kt)("br",null))),(0,r.kt)("hr",null),(0,r.kt)("h2",p({},{id:"path-apicluster-managementclusters"}),"Path: /api/cluster-management/clusters"),(0,r.kt)("h3",p({},{id:"methods"}),"Methods"),(0,r.kt)("h4",p({},{id:"get"}),"GET"),(0,r.kt)("p",null,"Retrieve a list of all clusters. Can be accessed by viewer, editor, admin, and monitoringViewer"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Responses")),(0,r.kt)("table",null,(0,r.kt)("colgroup",null,(0,r.kt)("col",null),(0,r.kt)("col",{style:{minWidth:"250px"}})),(0,r.kt)("tbody",null,(0,r.kt)("tr",null,(0,r.kt)("td",null," Status "),(0,r.kt)("td",null," Description "),(0,r.kt)("td",null," Response Content or Scheme")),(0,r.kt)("tr",null,(0,r.kt)("td",null," 200 "),(0,r.kt)("td",null," An array of all clusters "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "clustername": {\n    "type": "string"\n  },\n  "description": {\n    "type": "string"\n  },\n  "nodes": {\n    "type": "array",\n    "description": "array with all the nodes of the cluster",\n    "items": {\n      "$ref": "#/components/schemas/HAClusterNode"\n    }\n  },\n  "state": {\n    "type": "string",\n    "description": "State of the cluster. Either active when all nodes are healthy, inactive when cluster doesn\'t respond, or degraded when one or more ndoes are down",\n    "enum": [\n      "active",\n      "inactive",\n      "degraded"\n    ]\n  }\n} \n')))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example")),(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{}),'{\n  "clustername": "promosquittoha3",\n  "description": "Pro Mosquitto HA 3-Node Cluster",\n  "nodes": [\n    {\n      "port": 7000,\n      "nodeid": 1,\n      "address": "111.111.5.1",\n      "broker": "mosquitto1",\n      "connection": {\n        "url": "mqtt://111.111.5.1:1885"\n      },\n      "ha": {\n        "clustername": "promosquittoha3",\n        "uuid": "E4F345F8-6905-1ED4-16B9-0C9028761AE1",\n        "nodes": [\n          {\n            "address": "111.111.5.2",\n            "port": 7000,\n            "nodeid": 2\n          },\n          {\n            "address": "111.111.5.3",\n            "port": 7000,\n            "nodeid": 3\n          },\n          {\n            "address": "111.111.5.1",\n            "port": 7000,\n            "nodeid": 1\n          }\n        ],\n        "version": 1,\n        "syncmode": "full"\n      },\n      "leader": true,\n      "clustername": "promosquittoha3",\n      "uuid": "E4F345F8-6905-1ED4-16B9-0C9028761AE1",\n      "log_index": 96\n    },\n    {\n      "port": 7000,\n      "nodeid": 2,\n      "address": "111.111.5.2",\n      "broker": "mosquitto2",\n      "connection": {\n        "url": "mqtt://111.111.5.2:1885"\n      },\n      "ha": {\n        "clustername": "promosquittoha3",\n        "uuid": "E4F345F8-6905-1ED4-16B9-0C9028761AE1",\n        "nodes": [\n          {\n            "address": "111.111.5.3",\n            "port": 7000,\n            "nodeid": 3\n          },\n          {\n            "address": "111.111.5.1",\n            "port": 7000,\n            "nodeid": 1\n          },\n          {\n            "address": "111.111.5.2",\n            "port": 7000,\n            "nodeid": 2\n          }\n        ],\n        "version": 1,\n        "syncmode": "full"\n      },\n      "leader": false,\n      "clustername": "promosquittoha3",\n      "uuid": "E4F345F8-6905-1ED4-16B9-0C9028761AE1"\n    },\n    {\n      "port": 7000,\n      "nodeid": 3,\n      "address": "111.111.5.3",\n      "broker": "mosquitto3",\n      "connection": {\n        "url": "mqtt://111.111.5.3:1885"\n      },\n      "ha": {\n        "clustername": "promosquittoha3",\n        "uuid": "E4F345F8-6905-1ED4-16B9-0C9028761AE1",\n        "nodes": [\n          {\n            "address": "111.111.5.2",\n            "port": 7000,\n            "nodeid": 2\n          },\n          {\n            "address": "111.111.5.1",\n            "port": 7000,\n            "nodeid": 1\n          },\n          {\n            "address": "111.111.5.3",\n            "port": 7000,\n            "nodeid": 3\n          }\n        ],\n        "version": 1,\n        "syncmode": "full"\n      },\n      "leader": false,\n      "clustername": "promosquittoha3",\n      "uuid": "E4F345F8-6905-1ED4-16B9-0C9028761AE1"\n    }\n  ],\n  "state": "active"\n}\n')),(0,r.kt)("table",null,(0,r.kt)("colgroup",null,(0,r.kt)("col",null),(0,r.kt)("col",{style:{minWidth:"250px"}})),(0,r.kt)("tbody",null,(0,r.kt)("tr",null,(0,r.kt)("td",null," Status "),(0,r.kt)("td",null," Description "),(0,r.kt)("td",null," Response Content or Scheme")),(0,r.kt)("tr",null,(0,r.kt)("td",null," 401 "),(0,r.kt)("td",null," Access to resource is denied. User not authenticated (logged in) or session expired "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "UNAUTHORIZED"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Unauthorized"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 403 "),(0,r.kt)("td",null," User does not have enough permissions to access the resource "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "NOT_ALLOWED"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Not allowed",\n      "You don\'t have enough user rights to perform this operation. You might not have permission to access the brokers"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 404 "),(0,r.kt)("td",null," Plugin is not enabled or not found "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "NOT_FOUND"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Plugin not found"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 410 "),(0,r.kt)("td",null," Requested entity does not exists or was removed "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "GONE"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Broker \\"<brokerId>\\" not found",\n      "Cluster does not exist"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 500 "),(0,r.kt)("td",null," An internal server error has occured "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "INTERNAL_ERROR",\n      "SOMETHING_WRONG"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "An internal server error occurred",\n      "Cluster node assiciated with broker \\"<brokerId>\\" not connected"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))))),(0,r.kt)("hr",null),(0,r.kt)("h2",p({},{id:"path-apicluster-managementstatusclusters"}),"Path: /api/cluster-management/status/clusters"),(0,r.kt)("h3",p({},{id:"methods-1"}),"Methods"),(0,r.kt)("h4",p({},{id:"get-1"}),"GET"),(0,r.kt)("p",null,"Retrieve the status of all clusters. Can be accessed by viewer, editor, admin, and monitoringViewer"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Responses")),(0,r.kt)("table",null,(0,r.kt)("colgroup",null,(0,r.kt)("col",null),(0,r.kt)("col",{style:{minWidth:"250px"}})),(0,r.kt)("tbody",null,(0,r.kt)("tr",null,(0,r.kt)("td",null," Status "),(0,r.kt)("td",null," Description "),(0,r.kt)("td",null," Response Content or Scheme")),(0,r.kt)("tr",null,(0,r.kt)("td",null," 200 "),(0,r.kt)("td",null," Object containing an array of cluster statuses "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "clusters": {\n    "type": "array",\n    "items": {\n      "$ref": "#/components/schemas/HAClusterStatus"\n    }\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 401 "),(0,r.kt)("td",null," Access to resource is denied. User not authenticated (logged in) or session expired "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "UNAUTHORIZED"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Unauthorized"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 403 "),(0,r.kt)("td",null," User does not have enough permissions to access the resource "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "NOT_ALLOWED"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Not allowed",\n      "You don\'t have enough user rights to perform this operation. You might not have permission to access the brokers"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 404 "),(0,r.kt)("td",null," Plugin is not enabled or not found "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "NOT_FOUND"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Plugin not found"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 410 "),(0,r.kt)("td",null," Requested entity does not exists or was removed "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "GONE"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Broker \\"<brokerId>\\" not found",\n      "Cluster does not exist"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 500 "),(0,r.kt)("td",null," An internal server error has occured "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "INTERNAL_ERROR",\n      "SOMETHING_WRONG"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "An internal server error occurred",\n      "Cluster node assiciated with broker \\"<brokerId>\\" not connected"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))))),(0,r.kt)("hr",null),(0,r.kt)("h2",p({},{id:"path-apicluster-managementclustersclustername"}),"Path: /api/cluster-management/clusters/{clusterName}"),(0,r.kt)("h3",p({},{id:"methods-2"}),"Methods"),(0,r.kt)("h4",p({},{id:"get-2"}),"GET"),(0,r.kt)("p",null,"Retrieve a specific cluster by its clustername. Can be accessed by viewer, editor, admin, and monitoringViewer"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",p({parentName:"tr"},{align:null}),"Name"),(0,r.kt)("th",p({parentName:"tr"},{align:null}),"Location"),(0,r.kt)("th",p({parentName:"tr"},{align:null}),"Type"),(0,r.kt)("th",p({parentName:"tr"},{align:null}),"Required"),(0,r.kt)("th",p({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",p({parentName:"tr"},{align:null}),(0,r.kt)("strong",{parentName:"td"},"clusterName")),(0,r.kt)("td",p({parentName:"tr"},{align:null}),"path"),(0,r.kt)("td",p({parentName:"tr"},{align:null}),"string"),(0,r.kt)("td",p({parentName:"tr"},{align:null}),"true"),(0,r.kt)("td",p({parentName:"tr"},{align:null}),"Name of the cluster to retrieve")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Responses")),(0,r.kt)("table",null,(0,r.kt)("colgroup",null,(0,r.kt)("col",null),(0,r.kt)("col",{style:{minWidth:"250px"}})),(0,r.kt)("tbody",null,(0,r.kt)("tr",null,(0,r.kt)("td",null," Status "),(0,r.kt)("td",null," Description "),(0,r.kt)("td",null," Response Content or Scheme")),(0,r.kt)("tr",null,(0,r.kt)("td",null," 200 "),(0,r.kt)("td",null," Object which represents a cluster with all it's nodes "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "json": {\n    "$ref": "#/components/schemas/HACluster"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 401 "),(0,r.kt)("td",null," Access to resource is denied. User not authenticated (logged in) or session expired "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "UNAUTHORIZED"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Unauthorized"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 403 "),(0,r.kt)("td",null," User does not have enough permissions to access the resource "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "NOT_ALLOWED"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Not allowed",\n      "You don\'t have enough user rights to perform this operation. You might not have permission to access the brokers"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 404 "),(0,r.kt)("td",null," Plugin is not enabled or not found "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "NOT_FOUND"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Plugin not found"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 410 "),(0,r.kt)("td",null," Requested entity does not exists or was removed "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "GONE"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Broker \\"<brokerId>\\" not found",\n      "Cluster does not exist"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 500 "),(0,r.kt)("td",null," An internal server error has occured "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "INTERNAL_ERROR",\n      "SOMETHING_WRONG"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "An internal server error occurred",\n      "Cluster node assiciated with broker \\"<brokerId>\\" not connected"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))))),(0,r.kt)("hr",null),(0,r.kt)("h2",p({},{id:"path-apicluster-managementmqtt"}),"Path: /api/cluster-management/mqtt"),(0,r.kt)("h3",p({},{id:"methods-3"}),"Methods"),(0,r.kt)("h4",p({},{id:"post"}),"POST"),(0,r.kt)("p",null,"Send a command to a cluster node (commands get redirected to the leader) as defined in Mosquitto HA Cedalo documentation. Must be admin to access"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",p({parentName:"tr"},{align:null}),"Name"),(0,r.kt)("th",p({parentName:"tr"},{align:null}),"Location"),(0,r.kt)("th",p({parentName:"tr"},{align:null}),"Type"),(0,r.kt)("th",p({parentName:"tr"},{align:null}),"Required"),(0,r.kt)("th",p({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",p({parentName:"tr"},{align:null}),(0,r.kt)("strong",{parentName:"td"},"body")),(0,r.kt)("td",p({parentName:"tr"},{align:null}),"body"),(0,r.kt)("td",p({parentName:"tr"},{align:null}),"undefined"),(0,r.kt)("td",p({parentName:"tr"},{align:null}),"true"),(0,r.kt)("td",p({parentName:"tr"},{align:null}),"Broker ID and command to send")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Responses")),(0,r.kt)("table",null,(0,r.kt)("colgroup",null,(0,r.kt)("col",null),(0,r.kt)("col",{style:{minWidth:"250px"}})),(0,r.kt)("tbody",null,(0,r.kt)("tr",null,(0,r.kt)("td",null," Status "),(0,r.kt)("td",null," Description "),(0,r.kt)("td",null," Response Content or Scheme")),(0,r.kt)("tr",null,(0,r.kt)("td",null," 200 "),(0,r.kt)("td",null," Result from the cluster "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "json": {\n    "$ref": "#/components/schemas/HAClusterCommandResponse"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 400 "),(0,r.kt)("td",null," Input data invalid "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "INVALID"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Invalid",\n      "Broker \\"<brokerId>\\" not found",\n      "BaseMosquittoClient: Timeout"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 401 "),(0,r.kt)("td",null," Access to resource is denied. User not authenticated (logged in) or session expired "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "UNAUTHORIZED"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Unauthorized"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 403 "),(0,r.kt)("td",null," User does not have enough permissions to access the resource "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "NOT_ALLOWED"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Not allowed",\n      "You don\'t have enough user rights to perform this operation. You might not have permission to access the brokers"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 404 "),(0,r.kt)("td",null," Plugin is not enabled or not found "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "NOT_FOUND"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Plugin not found"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 410 "),(0,r.kt)("td",null," Requested entity does not exists or was removed "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "GONE"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "Broker \\"<brokerId>\\" not found",\n      "Cluster does not exist"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 500 "),(0,r.kt)("td",null," An internal server error has occured "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-json"}),'{\n  "code": {\n    "type": "string",\n    "enum": [\n      "INTERNAL_ERROR",\n      "SOMETHING_WRONG"\n    ],\n    "description": "Name of the error"\n  },\n  "message": {\n    "type": "string",\n    "enum": [\n      "An internal server error occurred",\n      "Cluster node assiciated with broker \\"<brokerId>\\" not connected"\n    ],\n    "description": "Message of the error"\n  }\n} \n')))))),(0,r.kt)("hr",null))}f.isMDXComponent=!0}}]);