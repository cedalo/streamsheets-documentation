(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[46548],{83166:(e,n,t)=>{"use strict";var i=t(64836);n.Z=void 0;var a=i(t(64938)),o=t(85893),r=(0,a.default)((0,o.jsx)("path",{d:"M12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm-1.06 13.54L7.4 12l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41-5.64 5.66z"}),"GppGood");n.Z=r},13328:(e,n,t)=>{"use strict";var i=t(64836);n.Z=void 0;var a=i(t(64938)),o=t(85893),r=(0,a.default)((0,o.jsx)("path",{d:"m23 12-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"}),"NewReleases");n.Z=r},64938:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=t(22236)},22236:(e,n,t)=>{"use strict";t.r(n),t.d(n,{capitalize:()=>a.Z,createChainedFunction:()=>o,createSvgIcon:()=>r.Z,debounce:()=>s,deprecatedPropType:()=>l,isMuiElement:()=>m,ownerDocument:()=>p,ownerWindow:()=>h,requirePropFactory:()=>g,setRef:()=>f,unstable_ClassNameGenerator:()=>w,unstable_useEnhancedEffect:()=>v,unstable_useId:()=>C,unsupportedProp:()=>b,useControlled:()=>O,useEventCallback:()=>y.Z,useForkRef:()=>_.Z,useIsFocusVisible:()=>N.Z});var i=t(37078),a=t(36622);const o=function(...e){return e.reduce(((e,n)=>null==n?e:function(...t){e.apply(this,t),n.apply(this,t)}),(()=>{}))};var r=t(58175);const s=function(e,n=166){let t;function i(...i){clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return i.clear=()=>{clearTimeout(t)},i};const l=function(e,n){return()=>null};var u=t(67294),d=t.t(u,2);const m=function(e,n){return u.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)};function c(e){return e&&e.ownerDocument||document}const p=c;const h=function(e){return c(e).defaultView||window};t(87462);const g=function(e,n){return()=>null};const f=t(7960).Z;const v=t(16600).Z;let S=0;const k=d.useId;const C=function(e){if(void 0!==k){const n=k();return null!=e?e:n}return function(e){const[n,t]=u.useState(e),i=e||n;return u.useEffect((()=>{null==n&&(S+=1,t(`mui-${S}`))}),[n]),i}(e)};const b=function(e,n,t,i,a){return null};const O=function({controlled:e,default:n,name:t,state:i="value"}){const{current:a}=u.useRef(void 0!==e),[o,r]=u.useState(n);return[a?e:o,u.useCallback((e=>{a||r(e)}),[])]};var y=t(66875),_=t(78155),N=t(51625);const w={configure:e=>{console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),i.Z.configure(e)}}},25852:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>v,contentTitle:()=>g,default:()=>C,frontMatter:()=>h,metadata:()=>f,toc:()=>S});var i=t(3905),a=t(78901),o=t(49044),r=Object.defineProperty,s=Object.defineProperties,l=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,c=(e,n,t)=>n in e?r(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,p=(e,n)=>{for(var t in n||(n={}))d.call(n,t)&&c(e,t,n[t]);if(u)for(var t of u(n))m.call(n,t)&&c(e,t,n[t]);return e};const h={id:"mc-single-sign-on",title:"Single Sign-On",sidebar_label:"Single Sign-On"},g=void 0,f={unversionedId:"management-center/guides/mc-single-sign-on",id:"version-2.8/management-center/guides/mc-single-sign-on",title:"Single Sign-On",description:"This page describes how to use the Single Sign-On Plugin that is provided by the Management Center for the Pro",source:"@site/mosquitto_versioned_docs/version-2.8/management-center/guides/single-sign-on.md",sourceDirName:"management-center/guides",slug:"/management-center/guides/mc-single-sign-on",permalink:"/mosquitto/2.8/management-center/guides/mc-single-sign-on",draft:!1,tags:[],version:"2.8",frontMatter:{id:"mc-single-sign-on",title:"Single Sign-On",sidebar_label:"Single Sign-On"},sidebar:"someSidebar",previous:{title:"HTTPS (TLS)",permalink:"/mosquitto/2.8/management-center/guides/mc-https"},next:{title:"Mosquitto MQTT Compliance",permalink:"/mosquitto/2.8/broker/mosquitto-mqtt-compliance"}},v={},S=[{value:"Overview",id:"overview",level:2},{value:"Enable SSO Plugin",id:"enable-sso-plugin",level:2},{value:"SSO Environment variables",id:"sso-environment-variables",level:2},{value:"Disabling SSO",id:"disabling-sso",level:2}],k={toc:S};function C(e){var n,t=e,{components:r}=t,c=((e,n)=>{var t={};for(var i in e)d.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&u)for(var i of u(e))n.indexOf(i)<0&&m.call(e,i)&&(t[i]=e[i]);return t})(t,["components"]);return(0,i.kt)("wrapper",(n=p(p({},k),c),s(n,l({components:r,mdxType:"MDXLayout"}))),(0,i.kt)("span",null),(0,i.kt)(a.Z,{version:"2.5",mdxType:"SinceVersion"}),(0,i.kt)(o.Z,{mdxType:"PremiumFeature"}),(0,i.kt)("br",null),(0,i.kt)("br",null),(0,i.kt)("p",null,"This page describes how to use the ",(0,i.kt)("strong",{parentName:"p"},"Single Sign-On Plugin")," that is provided by the Management Center for the Pro\nEdition of Eclipse Mosquitto (MMC)."),(0,i.kt)("h2",p({},{id:"overview"}),"Overview"),(0,i.kt)("p",null,"Single Sign-On is a widely accepted authentication scheme that allows the login process in the Management Center to\nhappen on the side of your identity provider of choice.\nThis allows your users to have only a single account for all of your internal systems, which boosts user experience and\ntransfers the responsibility of handling user credentials to the identity provider, which is specifically designed to\nstore user accounts data with the maximum possible security level."),(0,i.kt)("p",null,"Management Center currently supports a SAML-based SSO."),(0,i.kt)("admonition",p({},{type:"info"}),(0,i.kt)("p",{parentName:"admonition"},"Mosquitto Management Center uses the ",(0,i.kt)("inlineCode",{parentName:"p"},"mail")," field of the user object passed from the identity provider as a unique\nusername for logging this user in. No more data for the user object from the Identity Provider is required.\nThis can, however, be changed if your requirements are different.")),(0,i.kt)("h2",p({},{id:"enable-sso-plugin"}),"Enable SSO Plugin"),(0,i.kt)("p",null,"To enable the plugin, you should make sure you are using Pro Edition of Mosquitto and that you have the User Management\nfeature enabled in your license. Also, ensure that your config file (specified with ",(0,i.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_PROXY_CONFIG"),"\nenvironmental variable or by default saved in ",(0,i.kt)("inlineCode",{parentName:"p"},"management-center/config/config.json"),") contains the following entry\ninside of the ",(0,i.kt)("inlineCode",{parentName:"p"},"plugins")," array:"),(0,i.kt)("pre",null,(0,i.kt)("code",p({parentName:"pre"},{className:"language-json"}),'    {\n  "name": "saml-sso"\n}\n')),(0,i.kt)("p",null,"Also, you need to specify the following environmental variables for the SAML SSO configuration:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CEDALO_MC_SSO_USERNAME")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CEDALO_MC_SSO_ENTRY_POINT_URL")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CEDALO_MC_SSO_LOGOUT_URL")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CEDALO_MC_SSO_HOST_URL")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CEDALO_MC_SSO_ISSUER")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CEDALO_MC_SSO_ISSUER")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CEDALO_MC_SSO_KEY_PATH"))),(0,i.kt)("p",null,"You can read more about these variables below."),(0,i.kt)("admonition",p({},{type:"info"}),(0,i.kt)("p",{parentName:"admonition"},"SSO plugin needs to have an initial admin user configured, using which you will be able to access the Management Center\ninitially. You can configure this user using ",(0,i.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_SSO_USERNAME")," variable")),(0,i.kt)("p",null,"On start-up, the Management Center will print a message that the ",(0,i.kt)("inlineCode",{parentName:"p"},"saml-sso")," plugin is enabled and loaded into the\nconsole:"),(0,i.kt)("pre",null,(0,i.kt)("code",p({parentName:"pre"},{}),'Loaded plugin: "saml_sso" (Cedalo SAML SSO)\n')),(0,i.kt)("admonition",p({},{type:"info"}),(0,i.kt)("p",{parentName:"admonition"},"To use the users coming from the Identity Provider with the Management Center, you will need to populate\nthe ",(0,i.kt)("inlineCode",{parentName:"p"},"users.json")," file with valid user objects that have ",(0,i.kt)("inlineCode",{parentName:"p"},"username")," filed equal to the mail field in your identity\nprovider (this is the only field which is required). Meaning that you have to tell Mangement Center which users coming\nfrom your Identity Provider can access it. The populating can be done through the normal user creation process in the\nUser Management tab or using the User Management REST API.")),(0,i.kt)("h2",p({},{id:"sso-environment-variables"}),"SSO Environment variables"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_SSO_USERNAME")," - As per default configuration this should be an email address of the user that exists in your\nIdentity provider and will be used as an admin to initially access the Management Center."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_SSO_ENTRY_POINT_URL")," - Path to where the Service Provider should send the Login Request (URL used for logging\nin). You can get it from your Identity Provider."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_SSO_LOGOUT_URL")," - Path to where the Service Provider should send the Logout Request (in AzureAD, it's usually\nthe same as the URL used for login, e. i. ",(0,i.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_SSO_ENTRY_POINT_URL"),")"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_SSO_HOST_URL")," - Host URL of the Service Provider (to what host should the Identity Provider redirect the\nLogin Response)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_SSO_ISSUER")," - Issuer field in the Identity provider (Entity ID in AzureAD)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_SSO_KEY_PATH ")," - Required if you want to use client assertion flow. Path to key file (.pem). (In case of the\nAzureAD, it can be downloaded from the AzureAD SP metadata page)"),(0,i.kt)("h2",p({},{id:"disabling-sso"}),"Disabling SSO"),(0,i.kt)("admonition",p({},{type:"info"}),(0,i.kt)("p",{parentName:"admonition"},"Note that SSO plugin does not work together with the base login plugin.")),(0,i.kt)("p",null,"If you want to disable SSO for some reason and enable base login, you will need to find the config file located in the\npath specified with ",(0,i.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_PROXY_CONFIG")," environmental variable or by default stored\nin ",(0,i.kt)("inlineCode",{parentName:"p"},"management-center/config/config.json")," or if you are using rpm\npackage: ",(0,i.kt)("inlineCode",{parentName:"p"},"/var/opt/cedalo/management-center/config/config.json")," and manually delete ",(0,i.kt)("inlineCode",{parentName:"p"},"saml-sso")," entry under ",(0,i.kt)("inlineCode",{parentName:"p"},"plugins"),"."))}C.isMDXComponent=!0},49044:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var i=t(67294),a=t(39082),o=t(62659),r=t(83166);function s({inline:e}){return i.createElement(a.Z,{sx:{margin:e?"0px 5px":"0px 5px 5px 10px",height:e?"22px":void 0,color:"#ffffff",backgroundColor:o.Z[500]},size:"small",icon:i.createElement(r.Z,{style:{color:"white"},size:"small"}),label:"Premium"})}},78901:(e,n,t)=>{"use strict";t.d(n,{Z:()=>r});var i=t(67294),a=t(39082),o=t(13328);function r({version:e}){return e?i.createElement(a.Z,{sx:{margin:"0px 5px 5px 10px"},color:"info",size:"small",icon:i.createElement(o.Z,{size:"small"}),label:`${e}`}):i.createElement(i.Fragment,null)}},64836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);