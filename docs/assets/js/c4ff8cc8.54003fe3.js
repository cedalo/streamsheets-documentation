"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[10320],{83166:(e,n,t)=>{var a=t(64836);n.Z=void 0;var l=a(t(64938)),o=t(85893),r=(0,l.default)((0,o.jsx)("path",{d:"M12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm-1.06 13.54L7.4 12l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41-5.64 5.66z"}),"GppGood");n.Z=r},4505:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>k,default:()=>C,frontMatter:()=>d,metadata:()=>g,toc:()=>N});var a=t(3905),l=t(49044),o=Object.defineProperty,r=Object.defineProperties,s=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,c=(e,n,t)=>n in e?o(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,u=(e,n)=>{for(var t in n||(n={}))p.call(n,t)&&c(e,t,n[t]);if(i)for(var t of i(n))m.call(n,t)&&c(e,t,n[t]);return e};const d={id:"mc-dynamic-security-rest-api",title:"Dynamic Security REST API"},k=void 0,g={unversionedId:"mc-dynamic-security-rest-api",id:"version-2.5/mc-dynamic-security-rest-api",title:"Dynamic Security REST API",description:"This page describes how to use the Dynamic Security REST API that is provided by the Management Center for Eclipse Mosquitto (MMC).",source:"@site/management-center_versioned_docs/version-2.5/dynamic-security-rest-api.md",sourceDirName:".",slug:"/mc-dynamic-security-rest-api",permalink:"/management-center/mc-dynamic-security-rest-api",draft:!1,tags:[],version:"2.5",frontMatter:{id:"mc-dynamic-security-rest-api",title:"Dynamic Security REST API"},sidebar:"someSidebar",previous:{title:"Dynamic Security",permalink:"/management-center/mc-dynamic-security"},next:{title:"Client Certificates and Custom CAs \u2b50",permalink:"/management-center/mc-custom-client-certificates-and-ca"}},h={},N=[{value:"Enable Dynamic Security REST API",id:"enable-dynamic-security-rest-api",level:2},{value:"Authenticate / Login",id:"authenticate--login",level:2},{value:"Sending command requests",id:"sending-command-requests",level:2},{value:"List clients",id:"list-clients",level:3},{value:"Get clients",id:"get-clients",level:3},{value:"Create clients",id:"create-clients",level:3},{value:"Delete clients",id:"delete-clients",level:3},{value:"List groups",id:"list-groups",level:3},{value:"Get groups",id:"get-groups",level:3},{value:"Create groups",id:"create-groups",level:3},{value:"Delete groups",id:"delete-groups",level:3},{value:"Add clients to groups",id:"add-clients-to-groups",level:3},{value:"Remove clients from groups",id:"remove-clients-from-groups",level:3},{value:"List roles",id:"list-roles",level:3},{value:"Get roles",id:"get-roles",level:3},{value:"Create roles",id:"create-roles",level:3},{value:"Delete roles",id:"delete-roles",level:3},{value:"Add roles to clients",id:"add-roles-to-clients",level:3},{value:"Remove roles from clients",id:"remove-roles-from-clients",level:3},{value:"Add roles to groups",id:"add-roles-to-groups",level:3},{value:"Remove roles from groups",id:"remove-roles-from-groups",level:3},{value:"Add ACLs to roles",id:"add-acls-to-roles",level:3},{value:"Remove ACLs from roles",id:"remove-acls-from-roles",level:3},{value:"Deauthenticate / Logout",id:"deauthenticate--logout",level:2}],y={toc:N};function C(e){var n,t=e,{components:o}=t,c=((e,n)=>{var t={};for(var a in e)p.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&i)for(var a of i(e))n.indexOf(a)<0&&m.call(e,a)&&(t[a]=e[a]);return t})(t,["components"]);return(0,a.kt)("wrapper",(n=u(u({},y),c),r(n,s({components:o,mdxType:"MDXLayout"}))),(0,a.kt)(l.Z,{mdxType:"PremiumFeature"}),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,"This page describes how to use the ",(0,a.kt)("strong",{parentName:"p"},"Dynamic Security REST API")," that is provided by the Management Center for Eclipse Mosquitto (MMC)."),(0,a.kt)("admonition",u({},{type:"info"}),(0,a.kt)("p",{parentName:"admonition"},"Before sending command request make sure that you have been authenticated.")),(0,a.kt)("h2",u({},{id:"enable-dynamic-security-rest-api"}),"Enable Dynamic Security REST API"),(0,a.kt)("p",null,"To enable the Dynamic Security REST API, make sure you are using the Pro Edition of Mosquitto and that you have the feature enabled in your license. Also, ensure that your config file (specified with ",(0,a.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_PROXY_CONFIG")," environmental variable or by default saved in ",(0,a.kt)("inlineCode",{parentName:"p"},"management-center/config/config.json"),") contains the following entry inside of the ",(0,a.kt)("inlineCode",{parentName:"p"},"plugins")," array:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{}),'    {\n      "name": "dynamic-security-rest-api"\n    }\n')),(0,a.kt)("p",null,"On start-up, the Management Center will print a message that the ",(0,a.kt)("inlineCode",{parentName:"p"},"dynamic-security-rest-api")," plugin is enabled and loaded into the console:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{}),'Loaded plugin: "cedalo_dynamic_security_rest_api" (Cedalo Dynamic Security REST API)\n')),(0,a.kt)("h2",u({},{id:"authenticate--login"}),"Authenticate / Login"),(0,a.kt)("p",null,"In order to use the REST API you first need to authenticate. Note that after a successful login a cookie is created that contains the session id. This cookie needs to be passed to any further request to the API. For example when using the ",(0,a.kt)("inlineCode",{parentName:"p"},"curl")," command you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"--cookie-jar")," option for storing that cookie automatically and the ",(0,a.kt)("inlineCode",{parentName:"p"},"--cookie")," option for further requests to automatically read that cookie and pass it with the request."),(0,a.kt)("p",null,"The following command shows how to authenticate using ",(0,a.kt)("inlineCode",{parentName:"p"},"curl"),". Please replace the ",(0,a.kt)("inlineCode",{parentName:"p"},"<BASE_URL>"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"<USERNAME>")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"<PASSWORD>")," placeholders accordingly:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"<BASE_URL>"),": The base URL where the installation of the Management Center is hosted (including the protocol and base path, e.g., ",(0,a.kt)("a",u({parentName:"li"},{href:"https://mosquitto.cedalo.com"}),"https://mosquitto.cedalo.com"),")."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"<USERNAME>"),": The name of the user which has access to the REST API."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"<PASSWORD>"),": The password of the user which has access to the REST API.")),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"curl --cookie-jar .cookies \\\n    --request POST <BASE_URL>/auth \\\n    -H 'Content-Type: application/x-www-form-urlencoded' \\\n    -d \"username=<USERNAME>&password=<PASSWORD>\" \n")),(0,a.kt)("p",null,"You can check if authentication worked by issuing the following request:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"curl --cookie .cookies \\\n    --request GET http://localhost:8088/api/profile \\\n    -H 'Content-Type: application/json'\n")),(0,a.kt)("h2",u({},{id:"sending-command-requests"}),"Sending command requests"),(0,a.kt)("p",null,"The following command shows how to send command requests using ",(0,a.kt)("inlineCode",{parentName:"p"},"curl"),". Please replace the ",(0,a.kt)("inlineCode",{parentName:"p"},"<BASE_URL>"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"<BROKER_ID>")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"<JSON_COMMAND>")," placeholders accordingly."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"<BASE_URL>"),": The base URL where the installation of the Management Center is hosted."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"<BROKER_ID>"),": The id of the broker where the command should be send to (as defined via the Management Center)."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"<JSON_COMMAND>"),": The JSON that should be send to the broker (see command documentation).")),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"curl --cookie .cookies \\\n    --request POST <BASE_URL>/api/dynamic-security/<BROKER_ID>/command \\\n    -H 'Content-Type: application/json' \\\n    -d '<JSON_COMMAND>'\n")),(0,a.kt)("admonition",u({},{type:"info"}),(0,a.kt)("p",{parentName:"admonition"},"For the following command documentation, note that we assume that you store the JSON command that you send in a separate JSON file and reference it in the ",(0,a.kt)("inlineCode",{parentName:"p"},"curl")," command as follows:"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"curl --cookie .cookies \\\n    --request POST <BASE_URL>/api/dynamic-security/<BROKER_ID>/command \\\n    -H 'Content-Type: application/json' \\\n    -d @command.json\n")),(0,a.kt)("p",{parentName:"admonition"},"We therefore only list the content of that JSON file in the following sections.")),(0,a.kt)("h3",u({},{id:"list-clients"}),"List clients"),(0,a.kt)("p",null,"In order to send the ",(0,a.kt)("inlineCode",{parentName:"p"},"listClients")," command to a broker with the id ",(0,a.kt)("inlineCode",{parentName:"p"},"mosquitto-2.0")," on the ",(0,a.kt)("a",u({parentName:"p"},{href:"https://mosquitto.cedalo.com"}),"https://mosquitto.cedalo.com")," installation you would use the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "listClients",\n  "verbose": true\n}\n')),(0,a.kt)("p",null,"The response looks like the following (formatted into readable JSON):"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "listClients",\n  "data": {\n    "totalCount": 1,\n    "clients": [\n      {\n        "username": "admin",\n        "textname": "MMC admin user",\n        "roles": [\n          {\n            "rolename": "dynsec-admin"\n          },\n          {\n            "rolename": "license-admin"\n          },\n          {\n            "rolename": "sys-observe"\n          },\n          {\n            "rolename": "topic-observe"\n          }\n        ],\n        "groups": []\n      }\n    ]\n  }\n}\n')),(0,a.kt)("h3",u({},{id:"get-clients"}),"Get clients"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "getClient",\n  "username": "admin"\n}\n')),(0,a.kt)("p",null,"Response"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "getClient",\n  "data": {\n    "client": {\n      "username": "admin",\n      "textname": "MMC admin user",\n      "roles": [\n        {\n          "rolename": "dynsec-admin"\n        },\n        {\n          "rolename": "license-admin"\n        },\n        {\n          "rolename": "sys-observe"\n        },\n        {\n          "rolename": "topic-observe"\n        }\n      ],\n      "groups": []\n    }\n  }\n}\n')),(0,a.kt)("h3",u({},{id:"create-clients"}),"Create clients"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "createClient",\n  "username": "max",\n  "password": "5eCret",\n  "clientid": "some-id",\n  "rolename": "some-role",\n  "textname": "Max Mustermann",\n  "textdescription": "This is just a dummy user"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "createClient"\n}\n')),(0,a.kt)("h3",u({},{id:"delete-clients"}),"Delete clients"),(0,a.kt)("p",null,"Commands:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "deleteClient",\n  "username": "max"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "deleteClient"\n}\n')),(0,a.kt)("h3",u({},{id:"list-groups"}),"List groups"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "listGroups",\n  "verbose": true\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "listGroups",\n  "data": {\n    "totalCount": 0,\n    "groups": []\n  }\n}\n')),(0,a.kt)("h3",u({},{id:"get-groups"}),"Get groups"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "getGroup",\n  "groupname": "example-group"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "getGroup",\n  "data": {\n    "group": {\n      "groupname": "example-group",\n      "textname": "Example Group",\n      "textdescription": "An example group",\n      "clients": [],\n      "roles": []\n    }\n  }\n}\n')),(0,a.kt)("h3",u({},{id:"create-groups"}),"Create groups"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "createGroup",\n  "groupname": "example-group",\n  "rolename": "example-role",\n  "textname": "Example Group",\n  "textdescription": "An example group"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "createGroup"\n}\n')),(0,a.kt)("h3",u({},{id:"delete-groups"}),"Delete groups"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "deleteGroup",\n  "groupname": "example-group"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "deleteGroup"\n}\n')),(0,a.kt)("h3",u({},{id:"add-clients-to-groups"}),"Add clients to groups"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "addGroupClient",\n  "username": "max",\n  "groupname": "example-group"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "addGroupClient"\n}\n')),(0,a.kt)("h3",u({},{id:"remove-clients-from-groups"}),"Remove clients from groups"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "removeGroupClient",\n  "username": "max",\n  "groupname": "example-group"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "removeGroupClient"\n}\n')),(0,a.kt)("h3",u({},{id:"list-roles"}),"List roles"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "listRoles",\n  "verbose": true\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "listRoles",\n  "data": {\n    "totalCount": 5,\n    "roles": [\n      {\n        "rolename": "client",\n        "textdescription": "Read/write access to the full application topic hierarchy (note: please create ACLs to restrict access as required by your application).",\n        "allowwildcardsubs": true,\n        "acls": [\n          {\n            "acltype": "publishClientSend",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "publishClientReceive",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "subscribePattern",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "unsubscribePattern",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          }\n        ]\n      },\n      {\n        "rolename": "dynsec-admin",\n        "textname": "",\n        "textdescription": "Grants access to administer clients/groups/roles.",\n        "allowwildcardsubs": true,\n        "acls": [\n          {\n            "acltype": "publishClientSend",\n            "topic": "$CONTROL/dynamic-security/#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "publishClientReceive",\n            "topic": "$CONTROL/dynamic-security/#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "subscribePattern",\n            "topic": "$CONTROL/dynamic-security/#",\n            "priority": 0,\n            "allow": true\n          }\n        ]\n      },\n      {\n        "rolename": "license-admin",\n        "textname": "",\n        "textdescription": "Grants access to administer licenses.",\n        "allowwildcardsubs": true,\n        "acls": [\n          {\n            "acltype": "publishClientSend",\n            "topic": "$CONTROL/cedalo/license/#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "publishClientReceive",\n            "topic": "$CONTROL/cedalo/license/#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "subscribePattern",\n            "topic": "$CONTROL/cedalo/license/#",\n            "priority": 0,\n            "allow": true\n          }\n        ]\n      },\n      {\n        "rolename": "sys-observe",\n        "textname": "",\n        "textdescription": "Observe the $SYS topic hierarchy.",\n        "allowwildcardsubs": true,\n        "acls": [\n          {\n            "acltype": "publishClientReceive",\n            "topic": "$SYS/#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "subscribePattern",\n            "topic": "$SYS/#",\n            "priority": 0,\n            "allow": true\n          }\n        ]\n      },\n      {\n        "rolename": "topic-observe",\n        "textdescription": "Read only access to the full application topic hierarchy.",\n        "allowwildcardsubs": true,\n        "acls": [\n          {\n            "acltype": "publishClientReceive",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "subscribePattern",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "unsubscribePattern",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          }\n        ]\n      }\n    ]\n  }\n}\n')),(0,a.kt)("h3",u({},{id:"get-roles"}),"Get roles"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "getRole",\n  "rolename": "example-role"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "getRole",\n  "data": {\n    "role": {\n      "rolename": "example-role",\n      "textname": "Example Role",\n      "textdescription": "An example role",\n      "allowwildcardsubs": true,\n      "acls": []\n    }\n  }\n}\n')),(0,a.kt)("h3",u({},{id:"create-roles"}),"Create roles"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "createRole",\n  "rolename": "example-role",\n  "textname": "Example Role",\n  "textdescription": "An example role"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "createRole"\n}\n')),(0,a.kt)("h3",u({},{id:"delete-roles"}),"Delete roles"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "deleteRole",\n  "rolename": "example-role"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "deleteRole"\n}\n')),(0,a.kt)("h3",u({},{id:"add-roles-to-clients"}),"Add roles to clients"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "addClientRole",\n  "username": "max",\n  "rolename": "example-role"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "addClientRole"\n}\n')),(0,a.kt)("h3",u({},{id:"remove-roles-from-clients"}),"Remove roles from clients"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "removeClientRole",\n  "username": "max",\n  "rolename": "example-role"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "removeClientRole"\n}\n')),(0,a.kt)("h3",u({},{id:"add-roles-to-groups"}),"Add roles to groups"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "addGroupRole",\n  "username": "example-group",\n  "rolename": "example-role",\n  "priority": 5\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "addGroupRole"\n}\n')),(0,a.kt)("h3",u({},{id:"remove-roles-from-groups"}),"Remove roles from groups"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "removeGroupRole",\n  "username": "example-group",\n  "rolename": "example-role"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "removeGroupRole"\n}\n')),(0,a.kt)("h3",u({},{id:"add-acls-to-roles"}),"Add ACLs to roles"),(0,a.kt)("admonition",u({},{type:"info"}),(0,a.kt)("p",{parentName:"admonition"},"See also the ",(0,a.kt)("a",u({parentName:"p"},{href:"/mosquitto/2.5/broker-dynamic-security/"}),"ACL documentation")," for a basic description of the different ACL types.")),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "addRoleACL",\n  "rolename": "example-role",\n  "acltype": "publishClientSend",\n  "priority": 5,\n  "topic": "/some/topic/structure",\n  "allow": true\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "addRoleACL"\n}\n')),(0,a.kt)("h3",u({},{id:"remove-acls-from-roles"}),"Remove ACLs from roles"),(0,a.kt)("p",null,"Command:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "removeRoleACL",\n  "rolename": "example-role",\n  "acltype": "publishClientSend",\n  "topic": "/some/topic/structure"\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "command": "removeRoleACL"\n}\n')),(0,a.kt)("h2",u({},{id:"deauthenticate--logout"}),"Deauthenticate / Logout"),(0,a.kt)("p",null,"To logout your client from the REST API you simply need to send the following request to the ",(0,a.kt)("inlineCode",{parentName:"p"},"/logout")," endpoint:"),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"curl --cookie .cookies \\\n    --request GET <BASE_URL>/logout\n")))}C.isMDXComponent=!0},49044:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(67294),l=t(39082),o=t(62659),r=t(83166);function s({inline:e}){return a.createElement(l.Z,{sx:{margin:e?"0px 5px":"5px",height:e?"22px":void 0,color:"#ffffff",backgroundColor:o.Z[500]},size:"small",icon:a.createElement(r.Z,{style:{color:"white"},size:"small"}),label:"Premium"})}}}]);