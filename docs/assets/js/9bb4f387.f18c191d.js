"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[9253],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>c});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),d=p(a),c=r,f=d["".concat(s,".").concat(c)]||d[c]||u[c]||o;return a?n.createElement(f,i(i({ref:t},m),{},{components:a})):n.createElement(f,i({ref:t},m))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},80869:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>g,contentTitle:()=>c,default:()=>y,frontMatter:()=>d,metadata:()=>f,toc:()=>h});var n=a(3905),r=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(e,t,a)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,u=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&m(e,a,t[a]);if(l)for(var a of l(t))p.call(t,a)&&m(e,a,t[a]);return e};const d={id:"versions",title:"Update Pro Mosquitto",sidebar_label:"Update Pro Mosquitto"},c="Updating Pro Mosquitto",f={unversionedId:"deployment/on-premises/deployment/administrating/versions",id:"version-3.0/deployment/on-premises/deployment/administrating/versions",title:"Update Pro Mosquitto",description:"Updating Pro Mosquitto is usually a straightforward process. When a new version is available, download the latest version from our Cedalo platform.",source:"@site/mosquitto_versioned_docs/version-3.0/deployment/on-premises/deployment/administrating/versions.md",sourceDirName:"deployment/on-premises/deployment/administrating",slug:"/deployment/on-premises/deployment/administrating/versions",permalink:"/mosquitto/3.0/deployment/on-premises/deployment/administrating/versions",draft:!1,tags:[],version:"3.0",frontMatter:{id:"versions",title:"Update Pro Mosquitto",sidebar_label:"Update Pro Mosquitto"},sidebar:"someSidebar",previous:{title:"Logs",permalink:"/mosquitto/3.0/deployment/on-premises/deployment/administrating/logs"},next:{title:"Platform - Configure Broker",permalink:"/mosquitto/3.0/deployment/on-premises/configure-broker-onpremises"}},g={},h=[],k={toc:h};function y(e){var t,a=e,{components:r}=a,m=((e,t)=>{var a={};for(var n in e)s.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&l)for(var n of l(e))t.indexOf(n)<0&&p.call(e,n)&&(a[n]=e[n]);return a})(a,["components"]);return(0,n.kt)("wrapper",(t=u(u({},k),m),o(t,i({components:r,mdxType:"MDXLayout"}))),(0,n.kt)("h1",u({},{id:"updating-pro-mosquitto"}),"Updating Pro Mosquitto"),(0,n.kt)("p",null,"Updating Pro Mosquitto is usually a straightforward process. When a new version is available, download the latest version from our Cedalo platform.\nDepending on the update and the platform you are using, your existing setup may continue to function correctly, and you can simply adapt to certain changes. Please refer to the migration information for each version for more details. Be aware, that new features may need activation in the configuration file of Pro Mosquitto. See the release notes for more details. "),(0,n.kt)("p",null,"If there are no changes that require reconfiguration of your current setup, the following steps should be taken for the update:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Docker"),": "),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},"Update the version number in the ",(0,n.kt)("inlineCode",{parentName:"li"},"docker-compose.yml")," file to the latest version."),(0,n.kt)("li",{parentName:"ol"},"Run the following commands to update the images:",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"docker-compose down\ndocker-compose up\n"))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"OpenShift"),": "),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},"Uncompress the helm package:",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"tar -xzvf <helm-package-name>\n"))),(0,n.kt)("li",{parentName:"ol"},"Open and edit the ",(0,n.kt)("inlineCode",{parentName:"li"},"values.yaml")," file present inside the package and update the ",(0,n.kt)("inlineCode",{parentName:"li"},"mosquitto.image.tag")," field in the ",(0,n.kt)("inlineCode",{parentName:"li"},"values.yaml")," file to latest version number."),(0,n.kt)("li",{parentName:"ol"},"Go one level back to the parent directory and package the folder back to its compressed form using:",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"helm package  <helm-package-folder-name>\n"))),(0,n.kt)("li",{parentName:"ol"},"Redeploy your updated setup using the same credentials which you used while installing the setup using ",(0,n.kt)("inlineCode",{parentName:"li"},"helm install")," command the first time. Below command is just a template:",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"helm upgrade <helm-package-name>   --set repoPath=<path-to-your-folder>  --set runAsUser=<user-id> -n <namespace> --set namespace=<namespace> --set nfs=<nfs-ip-if-required> --set imageCredentials.registry=registry.cedalo.com --set imageCredentials.username=<username> --set imageCredentials.password=<password> --set imageCredentials.email=<email>\n"))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Kubernetes"),": "),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},"Uncompress the helm package:",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"tar -xzvf <helm-package-name>\n"))),(0,n.kt)("li",{parentName:"ol"},"Open and edit the ",(0,n.kt)("inlineCode",{parentName:"li"},"values.yaml")," file present inside the package and update the ",(0,n.kt)("inlineCode",{parentName:"li"},"mosquitto.image.tag")," field in the ",(0,n.kt)("inlineCode",{parentName:"li"},"values.yaml")," file to latest version number."),(0,n.kt)("li",{parentName:"ol"},"Go one level back to the parent directory and package the folder back to its compressed form using:",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"helm package  <helm-package-folder-name>\n"))),(0,n.kt)("li",{parentName:"ol"},"Redeploy your updated setup using the same credentials which you used while installing the setup using ",(0,n.kt)("inlineCode",{parentName:"li"},"helm install")," command the first time. Below command is just a template:",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"helm upgrade <helm-package-name>   --set repoPath=<path-to-your-folder>   -n <namespace> --set namespace=<namespace> --set nfs=<nfs-ip-if-required> --set imageCredentials.registry=registry.cedalo.com --set imageCredentials.username=<username> --set imageCredentials.password=<password> --set imageCredentials.email=<email>\n"))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Portainer"),": "),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},"Update the version number in the ",(0,n.kt)("inlineCode",{parentName:"li"},"docker-compose.yml")," file to the latest version."),(0,n.kt)("li",{parentName:"ol"},"Run the following commands to update the images:",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"docker-compose down\ndocker-compose up\n"))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Native Linux on RHEL (Red Hat Enterprise Linux)"),": "),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Follow the appropriate update procedures for your Linux distribution."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Native Windows"),": "),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},"Download the new ",(0,n.kt)("inlineCode",{parentName:"li"},".exe")," file."),(0,n.kt)("li",{parentName:"ol"},"Stop the Mosquitto service."),(0,n.kt)("li",{parentName:"ol"},"Install the new version over the current installation.")))),(0,n.kt)("p",null,"Make sure to verify your configurations after the update to ensure everything is functioning as expected."),(0,n.kt)("h1",u({},{id:"cluster-updates"}),"Cluster Updates"),(0,n.kt)("p",null,"In a cluster update one broker after the other starting with the two follower nodes. This way the cluster stays intact while updating."))}y.isMDXComponent=!0}}]);