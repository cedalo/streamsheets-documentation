(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[55633],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return d}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(n),d=a,N=c["".concat(l,".").concat(d)]||c[d]||m[d]||s;return n?r.createElement(N,i(i({ref:t},u),{},{components:n})):r.createElement(N,i({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,i=new Array(s);i[0]=c;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var p=2;p<s;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},44004:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return i},metadata:function(){return o},toc:function(){return l},default:function(){return u}});var r=n(22122),a=n(19756),s=(n(67294),n(3905)),i={id:"opcuarespond",title:"OPCUA.RESPOND",sidebar_label:"OPCUA.RESPOND"},o={unversionedId:"functions/streams/opcuarespond",id:"version-2.4/functions/streams/opcuarespond",isDocsHomePage:!1,title:"OPCUA.RESPOND",description:"star This is a premium feature.",source:"@site/streamsheets_versioned_docs/version-2.4/functions/streams/opcuarespond.md",sourceDirName:"functions/streams",slug:"/functions/streams/opcuarespond",permalink:"/streamsheets/2.4/functions/streams/opcuarespond",version:"2.4",sidebar_label:"OPCUA.RESPOND",frontMatter:{id:"opcuarespond",title:"OPCUA.RESPOND",sidebar_label:"OPCUA.RESPOND"},sidebar:"version-2.4/someSidebar",previous:{title:"OPCUA.READ",permalink:"/streamsheets/2.4/functions/streams/opcuaread"},next:{title:"OPCUA.VARIABLES",permalink:"/streamsheets/2.4/functions/streams/opcuavariables"}},l=[],p={toc:l};function u(e){var t=e.components,i=(0,a.Z)(e,["components"]);return(0,s.kt)("wrapper",(0,r.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"star",src:n(41582).Z})," This is a ",(0,s.kt)("a",{parentName:"p",href:"https://cedalo.com/pricing/streamsheets/"},"premium")," feature."),(0,s.kt)("p",null,"Sends a response directly, i.e. without any Consumer, to an OPC UA\nservice. The data to be send can be either arbitrary JSON data or a\nmessage from the outbox or inbox. Usually this function is used to\nrespond to a previously received ",(0,s.kt)("em",{parentName:"p"},"request"),"-message. "),(0,s.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"A ",(0,s.kt)("em",{parentName:"p"},"request"),"-message must provide a requestId property within its\n",(0,s.kt)("em",{parentName:"p"},"Metadata")," object."))),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Syntax")),(0,s.kt)("p",null,"=OPCUA.RESPOND(requestId, MessageOrJSON)"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments")),(0,s.kt)("table",null,(0,s.kt)("thead",{parentName:"table"},(0,s.kt)("tr",{parentName:"thead"},(0,s.kt)("th",{parentName:"tr",align:null},"Name"),(0,s.kt)("th",{parentName:"tr",align:null},"Description"))),(0,s.kt)("tbody",{parentName:"table"},(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null},"requestId"),(0,s.kt)("td",{parentName:"tr",align:null},"The ",(0,s.kt)("em",{parentName:"td"},"requestId")," as provided by a previously received ",(0,s.kt)("em",{parentName:"td"},"request"),"-message")),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null},"MessageOrJSON"),(0,s.kt)("td",{parentName:"tr",align:null},"Data to send as response.")))),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Return Value")),(0,s.kt)("p",null,"Color switch to blue on success. Otherwise to red with an\n",(0,s.kt)("a",{parentName:"p",href:"../../other#error-codes"},"error")," code."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example")),(0,s.kt)("p",null,"We assume that a ",(0,s.kt)("em",{parentName:"p"},"request"),"-message was received and that it provides a\n",(0,s.kt)("em",{parentName:"p"},"requestId")," which we store to cell B1 by using the read function as\nfollows: ",(0,s.kt)("inlineCode",{parentName:"p"},' READ(INBOXMETADATA(,,"requestId"), B1, "String")')),(0,s.kt)("table",null,(0,s.kt)("thead",{parentName:"table"},(0,s.kt)("tr",{parentName:"thead"},(0,s.kt)("th",{parentName:"tr",align:null},"Function"),(0,s.kt)("th",{parentName:"tr",align:null},"Result"),(0,s.kt)("th",{parentName:"tr",align:null},"Comment"))),(0,s.kt)("tbody",{parentName:"table"},(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null},'=OPCUA.RESPOND(B1, OUTBOX("Message"))'),(0,s.kt)("td",{parentName:"tr",align:null},"TRUE"),(0,s.kt)("td",{parentName:"tr",align:null},"Sends the message with id ",(0,s.kt)("em",{parentName:"td"},"Message")," from the outbox to an OPCUA Service using the ",(0,s.kt)("em",{parentName:"td"},"requestId")," in B1")),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:null},"=OPCUA.RESPOND(B1, DICTIONARY(A3:C5))"),(0,s.kt)("td",{parentName:"tr",align:null},"TRUE"),(0,s.kt)("td",{parentName:"tr",align:null},"Sends the JSON data provided by the Dictionary function to an OPCUA Service using the ",(0,s.kt)("em",{parentName:"td"},"requestId")," in B1")))))}u.isMDXComponent=!0},41582:function(e,t){"use strict";t.Z="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTExLjk5IDJDNi40NyAyIDIgNi40OCAyIDEyczQuNDcgMTAgOS45OSAxMEMxNy41MiAyMiAyMiAxNy41MiAyMiAxMlMxNy41MiAyIDExLjk5IDJ6bTQuMjQgMTZMMTIgMTUuNDUgNy43NyAxOGwxLjEyLTQuODEtMy43My0zLjIzIDQuOTItLjQyTDEyIDVsMS45MiA0LjUzIDQuOTIuNDItMy43MyAzLjIzTDE2LjIzIDE4eiIvPjwvc3ZnPg=="}}]);