"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[6253],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return h}});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=i.createContext({}),s=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return i.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),m=s(n),h=a,p=m["".concat(c,".").concat(h)]||m[h]||d[h]||r;return n?i.createElement(p,o(o({ref:t},u),{},{components:n})):i.createElement(p,o({ref:t},u))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var s=2;s<r;s++)o[s]=n[s];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},41836:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return d},default:function(){return g}});var i=n(87462),a=n(63366),r=(n(67294),n(3905)),o=n(25108),l=["components"],c={id:"mmc-high-availability",title:"High Availability \u2b50",sidebar_label:"High Availability \u2b50"},s=void 0,u={unversionedId:"mmc-high-availability",id:"version-2.4/mmc-high-availability",title:"High Availability \u2b50",description:"Introduction",source:"@site/management-center_versioned_docs/version-2.4/high-availability.md",sourceDirName:".",slug:"/mmc-high-availability",permalink:"/management-center/2.4/mmc-high-availability",tags:[],version:"2.4",frontMatter:{id:"mmc-high-availability",title:"High Availability \u2b50",sidebar_label:"High Availability \u2b50"},sidebar:"someSidebar",previous:{title:"REST API",permalink:"/management-center/2.4/user-management-rest-api"},next:{title:"Terminal Commands",permalink:"/management-center/2.4/mc-terminal"}},d=[{value:"Introduction",id:"introduction",children:[],level:2},{value:"Create Cluster",id:"create-cluster",children:[],level:2},{value:"Cluster details",id:"cluster-details",children:[],level:2},{value:"Remove nodes from a cluster",id:"remove-nodes-from-a-cluster",children:[],level:2},{value:"Delete a Cluster",id:"delete-a-cluster",children:[],level:2}],m=function(e){return function(t){return o.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",t)}},h=m("SinceVersion"),p=m("PremiumFeature"),v={toc:d};function g(e){var t=e.components,o=(0,a.Z)(e,l);return(0,r.kt)("wrapper",(0,i.Z)({},v,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)(h,{version:"2.3",mdxType:"SinceVersion"}),(0,r.kt)(p,{mdxType:"PremiumFeature"}),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"The Cedalo high availability feature provides the ability to run a cluster of Mosquitto nodes with a single leader and multiple followers, so that broker availability can be ensured even if a single node becomes unavailable through fault or for an upgrade. This document describes the recommended cluster architecture and how to configure the cluster for first use, and in the future."),(0,r.kt)("p",null,"To understand more about the underlying architecture and configuration visit the ",(0,r.kt)("a",{parentName:"p",href:"/mosquitto/broker-dynamic-security"},"Mosquitto documentation")),(0,r.kt)("h2",{id:"create-cluster"},"Create Cluster"),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Before creating a cluster it is necessary to connect your future cluster nodes to the Management Center. Make sure to be connected via Port 1885, to allow direct communication to the individual nodes, using a client with ACLs to read and write on the ",(0,r.kt)("em",{parentName:"p"},"$CONTROL")," topic of the broker."))),(0,r.kt)("p",null,'To navigate to the High Availability Cluster overview, select the "Cluster Management" menu entry from the left main menu.'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(40426).Z,width:"1277",height:"810"})),(0,r.kt)("p",null,'To create a new high availability cluster, click on the button "New cluster".'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(63139).Z,width:"1282",height:"900"})),(0,r.kt)("p",null,"On the following page you can enter the detail information about the cluster that you want to create."),(0,r.kt)("p",null,"Select a unique Node ID, enter the IP address of the broker with in its private network and select the preconfigured connection. "),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(48550).Z,width:"1277",height:"955"})),(0,r.kt)("p",null,'When you have entered all the necessary information, click on "Save" to the cluster configuration. The new cluster configuration will now appear in the overview list.'),(0,r.kt)("h2",{id:"cluster-details"},"Cluster details"),(0,r.kt)("p",null,"Select your created cluster to see its current\nIn order to add a Mosquitto node to a cluster, select the cluster in the overview list. This will navigate you to the detail view of the cluster."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(35692).Z,width:"2870",height:"1642"})),(0,r.kt)("p",null,'To add a new node, first switch into edit mode by clicking on the button "Edit".'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(39530).Z,width:"2872",height:"1636"})),(0,r.kt)("p",null,'Then, click on "Add node", which will open a select dialog that lists all available Mosquitto connections.'),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"See here for a description on how to create new Mosquitto connections in the Management Center."))),(0,r.kt)("p",null,'In the dialog, select the node you want to add to the cluster and confirm by clicking "Add node".'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(63589).Z,width:"2872",height:"1632"})),(0,r.kt)("p",null,"The node now appears as part of the cluster:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(90763).Z,width:"2866",height:"1632"})),(0,r.kt)("h2",{id:"remove-nodes-from-a-cluster"},"Remove nodes from a cluster"),(0,r.kt)("p",null,'Navigate to the cluster detail page (e.g., by selecting it in the overview list) and click the "Edit" button. Then in order to remove a node click on the "Remove" button next to that node.'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(91689).Z,width:"2870",height:"1636"})),(0,r.kt)("h2",{id:"delete-a-cluster"},"Delete a Cluster"),(0,r.kt)("p",null,'Delete the Cluster by clicking the "bin" icon in the overview menu.'))}g.isMDXComponent=!0},35692:function(e,t,n){t.Z=n.p+"assets/images/HA-cluster_006-detail-cluster-3ffc27e45df27410c394a5a0665e70b8.png"},39530:function(e,t,n){t.Z=n.p+"assets/images/HA-cluster_007-edit-cluster-ef6f3c276ee11747088b8f36aa6e8123.png"},63589:function(e,t,n){t.Z=n.p+"assets/images/HA-cluster_008-add-node-301c405dfe2ebfc08f284514098703d5.png"},90763:function(e,t,n){t.Z=n.p+"assets/images/HA-cluster_009-node-added-5655e11e1e55bc20151a0f3d1b19abd9.png"},91689:function(e,t,n){t.Z=n.p+"assets/images/HA-cluster_012-remove-node-089b0b46c2c1858e7888dc98582d49c3.png"},40426:function(e,t,n){t.Z=n.p+"assets/images/clusteroverview-92819e8851d67112801935972d5f3f18.png"},63139:function(e,t,n){t.Z=n.p+"assets/images/createCluster-c9852b481002f4cfe80d86afb2194df3.png"},48550:function(e,t,n){t.Z=n.p+"assets/images/createClusterex-b8498ed5da0dc16020b79e8bc085fa2f.png"}}]);