"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[84118],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(n),m=r,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||i;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},992:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>f,contentTitle:()=>m,default:()=>y,frontMatter:()=>d,metadata:()=>h,toc:()=>k});var a=n(3905),r=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&c(e,n,t[n]);if(s)for(var n of s(t))p.call(t,n)&&c(e,n,t[n]);return e};const d={id:"restapis-index",title:"MMC Rest APIs",sidebar_label:"MMC Rest APIs"},m=void 0,h={unversionedId:"api/restapis/restapis-index",id:"version-2.8/api/restapis/restapis-index",title:"MMC Rest APIs",description:"The Management Center for Mosquitto REST API (MMC) provides endpoints to return status data and allows active management",source:"@site/mosquitto_versioned_docs/version-2.8/api/restapis/index.md",sourceDirName:"api/restapis",slug:"/api/restapis/",permalink:"/mosquitto/2.8/api/restapis/",draft:!1,tags:[],version:"2.8",frontMatter:{id:"restapis-index",title:"MMC Rest APIs",sidebar_label:"MMC Rest APIs"},sidebar:"someSidebar",previous:{title:"MQTT API Overview",permalink:"/mosquitto/2.8/api/overview"},next:{title:"Connections",permalink:"/mosquitto/2.8/api/restapis/restapi-connections"}},f={},k=[{value:"Authenticate / Login",id:"authenticate--login",level:2},{value:"MMC credentials",id:"mmc-credentials",level:3},{value:"API Token",id:"api-token",level:3},{value:"Available APIs",id:"available-apis",level:2}],v={toc:k};function y(e){var t,n=e,{components:r}=n,c=((e,t)=>{var n={};for(var a in e)l.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&s)for(var a of s(e))t.indexOf(a)<0&&p.call(e,a)&&(n[a]=e[a]);return n})(n,["components"]);return(0,a.kt)("wrapper",(t=u(u({},v),c),i(t,o({components:r,mdxType:"MDXLayout"}))),(0,a.kt)("p",null,"The Management Center for Mosquitto REST API (MMC) provides endpoints to return status data and allows active management\nof the Mosquitto DynSec Plugin and the User Management. Mosquitto administrators can use the REST API to perform\nautomated actions, which would normally be administered via the Management Center."),(0,a.kt)("h2",u({},{id:"authenticate--login"}),"Authenticate / Login"),(0,a.kt)("h3",u({},{id:"mmc-credentials"}),"MMC credentials"),(0,a.kt)("p",null,"In order to use the REST API you first need to authenticate. Note that after a successful login a cookie is created that\ncontains the session id. This cookie needs to be passed to any further request to the API. For example when using\nthe ",(0,a.kt)("inlineCode",{parentName:"p"},"curl")," command you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"--cookie-jar")," option for storing that cookie automatically and the ",(0,a.kt)("inlineCode",{parentName:"p"},"--cookie")," option\nfor further requests to automatically read that cookie and pass it with the request."),(0,a.kt)("p",null,"The following command shows how to authenticate using ",(0,a.kt)("inlineCode",{parentName:"p"},"curl"),". Please replace the ",(0,a.kt)("inlineCode",{parentName:"p"},"<BASE_URL>"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"<USERNAME>"),"\nand ",(0,a.kt)("inlineCode",{parentName:"p"},"<PASSWORD>")," placeholders accordingly:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"<BASE_URL>"),": The base URL where the installation of the Management Center is hosted (including the protocol and base\npath, e.g., ",(0,a.kt)("a",u({parentName:"li"},{href:"https://mosquitto.cedalo.com"}),"https://mosquitto.cedalo.com"),")."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"<USERNAME>"),": The name of the user which has access to the REST API."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"<PASSWORD>"),": The password of the user which has access to the REST API.")),(0,a.kt)("pre",null,(0,a.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"curl --cookie-jar .cookies \\\n    --request POST <BASE_URL>/auth \\\n    -H 'Content-Type: application/x-www-form-urlencoded' \\\n    -d \"username=<USERNAME>&password=<PASSWORD>\" \n")),(0,a.kt)("h3",u({},{id:"api-token"}),"API Token"),(0,a.kt)("p",null,"Besides the approach of using user credentials of the MMC another way of authenticating is the use of API Tokens.\nThese can either be created via the MMC directly or using the REST API and can have different access level. "),(0,a.kt)("p",null,"Add created token to API requests as bearer token for authentication. "),(0,a.kt)("h2",u({},{id:"available-apis"}),"Available APIs"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",u({parentName:"li"},{href:"./restapi-connections"}),"Connections")),(0,a.kt)("li",{parentName:"ul"},"Dynamic Security"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",u({parentName:"li"},{href:"./restapi-monitoring"}),"Monitoring")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",u({parentName:"li"},{href:"./restapi-system-status"}),"System Status")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",u({parentName:"li"},{href:"./restapi-tokens"}),"Tokens")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",u({parentName:"li"},{href:"./restapi-user-management"}),"User Management"))))}y.isMDXComponent=!0}}]);