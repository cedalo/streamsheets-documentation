"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[12347],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>k});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),u=s(n),k=i,c=u["".concat(p,".").concat(k)]||u[k]||d[k]||r;return n?a.createElement(c,o(o({ref:t},m),{},{components:n})):a.createElement(c,o({ref:t},m))}));function k(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},97271:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>N,contentTitle:()=>k,default:()=>h,frontMatter:()=>u,metadata:()=>c,toc:()=>f});var a=n(3905),i=Object.defineProperty,r=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&m(e,n,t[n]);if(l)for(var n of l(t))s.call(t,n)&&m(e,n,t[n]);return e};const u={id:"manpage-mosquitto-passwd",title:"mosquitto_passwd man page",sidebar_label:"mosquitto_passwd"},k=void 0,c={unversionedId:"manpage-mosquitto-passwd",id:"version-2.0/manpage-mosquitto-passwd",title:"mosquitto_passwd man page",description:"Name",source:"@site/mosquitto_versioned_docs/version-2.0/manpage-mosquitto-passwd.md",sourceDirName:".",slug:"/manpage-mosquitto-passwd",permalink:"/mosquitto/2.0/manpage-mosquitto-passwd",draft:!1,tags:[],version:"2.0",frontMatter:{id:"manpage-mosquitto-passwd",title:"mosquitto_passwd man page",sidebar_label:"mosquitto_passwd"},sidebar:"someSidebar",previous:{title:"mosquitto.conf",permalink:"/mosquitto/2.0/manpage-mosquitto-conf"},next:{title:"mosquitto_pub",permalink:"/mosquitto/2.0/manpage-mosquitto-pub"}},N={},f=[{value:"Name",id:"name",level:3},{value:"Synopsis",id:"synopsis",level:3},{value:"Description",id:"description",level:3},{value:"Options",id:"options",level:3},{value:"Exit Status",id:"exit-status",level:3},{value:"Examples",id:"examples",level:3}],C={toc:f};function h(e){var t,n=e,{components:i}=n,m=((e,t)=>{var n={};for(var a in e)p.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&l)for(var a of l(e))t.indexOf(a)<0&&s.call(e,a)&&(n[a]=e[a]);return n})(n,["components"]);return(0,a.kt)("wrapper",(t=d(d({},C),m),r(t,o({components:i,mdxType:"MDXLayout"}))),(0,a.kt)("h3",d({},{id:"name"}),"Name"),(0,a.kt)("p",null,"mosquitto","_","passwd \u2014 manage password files for mosquitto"),(0,a.kt)("h3",d({},{id:"synopsis"}),"Synopsis"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"mosquitto_passwd")," ","["," ",(0,a.kt)("inlineCode",{parentName:"p"},"-H")," ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"hash"))," ","]"," ","["," ",(0,a.kt)("inlineCode",{parentName:"p"},"-c")," | ",(0,a.kt)("inlineCode",{parentName:"p"},"-D")," ","]"," ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"passwordfile"))," ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"username"))),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"mosquitto_passwd")," ","["," ",(0,a.kt)("inlineCode",{parentName:"p"},"-H")," ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"hash"))," ","]"," ",(0,a.kt)("inlineCode",{parentName:"p"},"-b")," ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"passwordfile"))," ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"username"))," ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"password"))),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"mosquitto_passwd")," ",(0,a.kt)("inlineCode",{parentName:"p"},"-U")," ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"passwordfile"))),(0,a.kt)("h3",d({},{id:"description"}),"Description"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"mosquitto","_","passwd")," is a tool for managing password files for the mosquitto MQTT broker."),(0,a.kt)("p",null,'Usernames must not contain ":". Passwords are stored in a similar format to crypt.'),(0,a.kt)("h3",d({},{id:"options"}),"Options"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"-b")),(0,a.kt)("p",null,"Run in batch mode. This allows the password to be provided at the command line which can be convenient but should be used with care because the password will be visible on the command line and in command history."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"-c")),(0,a.kt)("p",null,"Create a new password file. If the file already exists, it will be overwritten."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"-D")),(0,a.kt)("p",null,"Delete the specified user from the password file."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"-H")),(0,a.kt)("p",null,"Choose the hash to use. Can be one of ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"sha512-pbkdf2"))," or ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"sha512")),". Defaults to ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"sha512-pbkdf2")),". The ",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"em"},"sha512"))," option is provided for creating password files for use with Eclipse Mosquitto 1.6 and earlier."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"-U")),(0,a.kt)("p",null,"This option can be used to upgrade/convert a password file with plain text passwords into one using hashed passwords. It will modify the specified file. It does not detect whether passwords are already hashed, so using it on a password file that already contains hashed passwords will generate new hashes based on the old hashes and render the password file unusable."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"passwordfile")),(0,a.kt)("p",null,"The password file to modify."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"username")),(0,a.kt)("p",null,"The username to add/update/delete."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"password")),(0,a.kt)("p",null,"The password to use when in batch mode."),(0,a.kt)("h3",d({},{id:"exit-status"}),"Exit Status"),(0,a.kt)("p",null,"mosquitto","_","sub returns zero on success, or non-zero on error. If the connection is refused by the broker at the MQTT level, then the exit code is the CONNACK reason code. If another error occurs, the exit code is a libmosquitto return value."),(0,a.kt)("p",null,"MQTT v3.1.1 CONNACK codes:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"0")," Success"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"1")," Connection refused: Bad protocol version"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"2")," Connection refused: Identifier rejected"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"3")," Connection refused: Server unavailable"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"4")," Connection refused: Bad username/password"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"5")," Connection refused: Not authorized")),(0,a.kt)("p",null,"MQTT v5 CONNACK codes:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"0")," Success"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"128")," Unspecified error"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"129")," Malformed packet"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"130")," Protocol error"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"131")," Implementation specific error"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"132")," Unsupported protocol version"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"133")," Client ID not valid"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"134")," Bad username or password"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"135")," Not authorized"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"136")," Server unavailable"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"137")," Server busy"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"138")," Banned"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"139")," Server shutting down"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"140")," Bad authentication method"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"141")," Keep alive timeout"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"142")," Session taken over"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"143")," Topic filter invalid"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"144")," Topic name invalid"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"147")," Receive maximum exceeded"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"148")," Topic alias invalid"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"149")," Packet too large"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"148")," Message rate too high"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"151")," Quota exceeded"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"152")," Administrative action"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"153")," Payload format invalid"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"154")," Retain not supported"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"155")," QoS not supported"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"156")," Use another server"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"157")," Server moved"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"158")," Shared subscriptions not supported"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"159")," Connection rate exceeded"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"160")," Maximum connect time"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"161")," Subscription IDs not supported"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"162")," Wildcard subscriptions not supported")),(0,a.kt)("h3",d({},{id:"examples"}),"Examples"),(0,a.kt)("p",null,"Add a user to a new password file:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"mosquitto","_","passwd ",(0,a.kt)("inlineCode",{parentName:"li"},"-c")," /etc/mosquitto/passwd ",(0,a.kt)("inlineCode",{parentName:"li"},"ral"))),(0,a.kt)("p",null,"Delete a user from a password file"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"mosquitto","_","passwd ",(0,a.kt)("inlineCode",{parentName:"li"},"-D")," /etc/mosquitto/passwd ",(0,a.kt)("inlineCode",{parentName:"li"},"ral"))))}h.isMDXComponent=!0}}]);