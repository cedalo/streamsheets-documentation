"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[52629],{3905:(e,t,o)=>{o.d(t,{Zo:()=>d,kt:()=>u});var i=o(67294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function n(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,i,a=function(e,t){if(null==e)return{};var o,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var s=i.createContext({}),p=function(e){var t=i.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):n(n({},t),e)),o},d=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},g=i.forwardRef((function(e,t){var o=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),g=p(o),u=a,m=g["".concat(s,".").concat(u)]||g[u]||c[u]||r;return o?i.createElement(m,n(n({ref:t},d),{},{components:o})):i.createElement(m,n({ref:t},d))}));function u(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=o.length,n=new Array(r);n[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,n[1]=l;for(var p=2;p<r;p++)n[p]=o[p];return i.createElement.apply(null,n)}return i.createElement.apply(null,o)}g.displayName="MDXCreateElement"},82825:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>h,contentTitle:()=>u,default:()=>v,frontMatter:()=>g,metadata:()=>m,toc:()=>f});var i=o(3905),a=Object.defineProperty,r=Object.defineProperties,n=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(e,t,o)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,c=(e,t)=>{for(var o in t||(t={}))s.call(t,o)&&d(e,o,t[o]);if(l)for(var o of l(t))p.call(t,o)&&d(e,o,t[o]);return e};const g={id:"admin-board-audit-trail",title:"Audit Trail Settings",sidebar_label:"Audit Trail"},u=void 0,m={unversionedId:"administration/admin-board/admin-board-audit-trail",id:"version-3.0/administration/admin-board/admin-board-audit-trail",title:"Audit Trail Settings",description:"The audit trail is defined as a tool to track interaction with the Cedalo MQTT Platform. To do this at least one logger",source:"@site/mosquitto_versioned_docs/version-3.0/administration/admin-board/audit-trail.md",sourceDirName:"administration/admin-board",slug:"/administration/admin-board/admin-board-audit-trail",permalink:"/mosquitto/3.0/administration/admin-board/admin-board-audit-trail",draft:!1,tags:[],version:"3.0",frontMatter:{id:"admin-board-audit-trail",title:"Audit Trail Settings",sidebar_label:"Audit Trail"},sidebar:"someSidebar",previous:{title:"Administrators",permalink:"/mosquitto/3.0/administration/admin-board/admin-board-administrators"},next:{title:"Settings",permalink:"/mosquitto/3.0/administration/admin-board/admin-board-settings"}},h={},f=[{value:"App Log Level",id:"app-log-level",level:2},{value:"Overview of existing loggers",id:"overview-of-existing-loggers",level:2},{value:"Adding a new logger",id:"adding-a-new-logger",level:2},{value:"Type",id:"type",level:3},{value:"console",id:"console",level:4},{value:"file",id:"file",level:4},{value:"project",id:"project",level:4},{value:"syslog",id:"syslog",level:4},{value:"Options",id:"options",level:3},{value:"Log Actions",id:"log-actions",level:3},{value:"View or track audit trail logs",id:"view-or-track-audit-trail-logs",level:2}],k={toc:f};function v(e){var t,a=e,{components:d}=a,g=((e,t)=>{var o={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&p.call(e,i)&&(o[i]=e[i]);return o})(a,["components"]);return(0,i.kt)("wrapper",(t=c(c({},k),g),r(t,n({components:d,mdxType:"MDXLayout"}))),(0,i.kt)("p",null,"The audit trail is defined as a tool to track interaction with the Cedalo MQTT Platform. To do this at least one logger\nmust be set up and added to the audit trail. The platform categories each interaction into a create, read, update or\ndelete (CRUD) operation which then gets logged."),(0,i.kt)("h2",c({},{id:"app-log-level"}),"App Log Level"),(0,i.kt)("p",null,"This setting defines the platform-wide log level. Each operation must have at least this log level in order to be logged.\nThe available log levels conform to the standard syslog log levels as defined in ",(0,i.kt)("a",c({parentName:"p"},{href:"https://datatracker.ietf.org/doc/html/rfc5424"}),"RFC 5424"),"\nand are as follows (in order of priority):"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Emergency: system is unusable"),(0,i.kt)("li",{parentName:"ul"},"Alert: action must be taken immediately"),(0,i.kt)("li",{parentName:"ul"},"Critical: critical conditions"),(0,i.kt)("li",{parentName:"ul"},"Error: error conditions"),(0,i.kt)("li",{parentName:"ul"},"Warning: warning conditions"),(0,i.kt)("li",{parentName:"ul"},"Notice: normal but significant condition"),(0,i.kt)("li",{parentName:"ul"},"Info: informational messages"),(0,i.kt)("li",{parentName:"ul"},"Debug: debug-level messages")),(0,i.kt)("p",null,"That means an app log level of (e.g.) 'Warning' will log all operations with a log level of 'Warning', 'Error',\n'Critical', 'Alert' and 'Emergency'."),(0,i.kt)("admonition",c({},{type:"note"}),(0,i.kt)("p",{parentName:"admonition"},"If an operation results in an error this operation will always be logged with an 'Error' log level.")),(0,i.kt)("h2",c({},{id:"overview-of-existing-loggers"}),"Overview of existing loggers"),(0,i.kt)("p",null,"The list of currently added loggers are shown in the table below the App Log Level. Here you can see the type or target of the logger,\nwhich operation(s) the logger is recording and if the logger is active. You can also edit or remove the logger of\na row. The following image shows a sample list with two loggers. The type and log values are described below."),(0,i.kt)("img",{className:"docimagemb",src:o(10100).Z,width:"100%"}),(0,i.kt)("h2",c({},{id:"adding-a-new-logger"}),"Adding a new logger"),(0,i.kt)("p",null,'A new logger can be added by clicking on "Add Logger" at the top right of the page. Then the following dialog will\nopen to present a list of available loggers to choose from and a set of options to set up selected logger.'),(0,i.kt)("img",{className:"docimagemb",src:o(63833).Z,width:"50%"}),(0,i.kt)("p",null,"Following loggers are available:"),(0,i.kt)("h3",c({},{id:"type"}),"Type"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"console"),": the logger info will be output to your service console"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"file"),": the logger info will be written to a file"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"project"),": the logger info will be stored in memory and can be viewed in the project settings"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"syslog"),": the logger will use a syslog target, that has to be specified by the options below")),(0,i.kt)("h4",c({},{id:"console"}),"console"),(0,i.kt)("p",null,"Logs directly to the platform service console for quick and accessible monitoring."),(0,i.kt)("h4",c({},{id:"file"}),"file"),(0,i.kt)("p",null,"Specifies the file and its location where audit trail information will be output.\nMake sure the choosen file path is available and the Cedalo Platform has writing access to the specified file. "),(0,i.kt)("h4",c({},{id:"project"}),"project"),(0,i.kt)("p",null,"This option enables logging of actions on a per-project basis. By enabling this feature, you allow project members to view the configured audit trail logs within the project settings of each project. Add this logger if you wish to monitor and review logs directly from the project settings."),(0,i.kt)("h4",c({},{id:"syslog"}),"syslog"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"host: 'The host running syslogd, defaults to localhost.',"),(0,i.kt)("li",{parentName:"ul"},'port: "The port on the host that syslog is running on, defaults to syslogd\'s default port.",'),(0,i.kt)("li",{parentName:"ul"},"protocol: 'The network protocol to log over (e.g. tcp4, udp4, tls4, unix, unix-connect, etc), defaults to udp4.',"),(0,i.kt)("li",{parentName:"ul"},"protocolOptions: 'Socket connect options. See net.socket.connect for available options.',"),(0,i.kt)("li",{parentName:"ul"},"path: 'The path to the syslog dgram socket (i.e. /dev/log or /var/run/syslog for OS X).',"),(0,i.kt)("li",{parentName:"ul"},"pid: 'PID of the process that log messages are coming from (Default process.pid).',"),(0,i.kt)("li",{parentName:"ul"},"facility: 'Syslog facility to use (Default: local0).',"),(0,i.kt)("li",{parentName:"ul"},"localhost: 'Host to indicate that log messages are coming from (Default: localhost).',"),(0,i.kt)("li",{parentName:"ul"},"type: \"The type of the syslog protocol to use (Default: BSD, also valid: '3164', '5424', 'RFC3164' or 'RFC5424').\","),(0,i.kt)("li",{parentName:"ul"},"app_name: 'The name of the application (Default: process.title).',"),(0,i.kt)("li",{parentName:"ul"},"eol: 'The end of line character to be added to the end of the message (Default: Message without modifications).',"),(0,i.kt)("li",{parentName:"ul"},"secureProtocol: 'See //nodejs.org/api/tls.html#tlscreatesecurecontextoptions for more information on this option, passed through from this constructor.',"),(0,i.kt)("li",{parentName:"ul"},"ciphers: 'See ",(0,i.kt)("a",c({parentName:"li"},{href:"https://nodejs.org/api/tls.html#tlscreatesecurecontextoptions"}),"https://nodejs.org/api/tls.html#tlscreatesecurecontextoptions")," for more information on this option, passed through from this constructor.',"),(0,i.kt)("li",{parentName:"ul"},"ecdhCurve: 'See ",(0,i.kt)("a",c({parentName:"li"},{href:"https://nodejs.org/api/tls.html#tlscreatesecurecontextoptions"}),"https://nodejs.org/api/tls.html#tlscreatesecurecontextoptions")," for more information on this option, passed through from this constructor.',"),(0,i.kt)("li",{parentName:"ul"},"rejectUnauthorized: 'See //nodejs.org/api/tls.html#new-tlstlssocketsocket-options for more information on this option, passed through from this constructor.',"),(0,i.kt)("li",{parentName:"ul"},"requestCert: '",(0,i.kt)("a",c({parentName:"li"},{href:"https://nodejs.org/api/tls.html#new-tlstlssocketsocket-options"}),"https://nodejs.org/api/tls.html#new-tlstlssocketsocket-options")," for more information on this option, passed through from this constructor.',")),(0,i.kt)("h3",c({},{id:"options"}),"Options"),(0,i.kt)("p",null,"Depend on the logger type choosen. "),(0,i.kt)("h3",c({},{id:"log-actions"}),"Log Actions"),(0,i.kt)("p",null,"Each interaction with the platform is categorized into following four log operations:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"create"),": log, if a new item is created"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"read"),": log if an item is read from the repository"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"update"),": log if an item is changed and saved to the repository"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"delete"),": log if an item is deleted from the repository")),(0,i.kt)("p",null,"Any of these operations can be activated for logging or deactivated by clicking the respective checkbox.\nTo reflect the importance of an operation the log level is used to prioritize it. 'Debug' is defined as the lowest\npriority and 'Emergency' as the highest. The other according to their position in between."),(0,i.kt)("admonition",c({},{type:"note"}),(0,i.kt)("p",{parentName:"admonition"},"To log an operation its log level must be equal or higher as the currently used app log level.")),(0,i.kt)("p",null,"Finally, one or more filters can be applied to an operation. The following settings are applicable:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Type"),": 'include' or 'exclude' an operation based on the filter"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Use On"),": This defines, where the filter is applied on. Here you can choose between the 'Request Path', the\n'Username' or the 'E-mail' address. The 'Request Path' relates to the endpoint URL of a REST Api request."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Value"),": This is the filter expression that matched against the 'Use On' string. ",(0,i.kt)("inlineCode",{parentName:"li"},"*")," can be used as a wildcard\ninside the filter expression")),(0,i.kt)("p",null,"If needed, multiple filters can be defined per operation. Use the buttons right next to the filter to add or delete one."),(0,i.kt)("h2",c({},{id:"view-or-track-audit-trail-logs"}),"View or track audit trail logs"),(0,i.kt)("p",null,"The audit trail can be viewed depending on the logger type:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"console")," : observe your service console output"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"file")," : open the file, you defined, when adding the logger"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"project")," : navigate to project settings and then to audit trail"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"syslog")," : open the syslog on the host, port regarding all option you defined, when creating the logger.")))}v.isMDXComponent=!0},63833:(e,t,o)=>{o.d(t,{Z:()=>i});const i=o.p+"assets/images/admin_audit_add-84af5c3eb09cde65ea55c2364e476e35.png"},10100:(e,t,o)=>{o.d(t,{Z:()=>i});const i=o.p+"assets/images/admin_audit_overview-ac845165cffddef73142f5d68647f24f.png"}}]);