"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[72052],{73053:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>b,contentTitle:()=>m,default:()=>j,frontMatter:()=>g,metadata:()=>y,toc:()=>f});var r=n(3905),o=n(43198),l=n(26922),a=Object.defineProperty,i=Object.defineProperties,s=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(t,e,n)=>e in t?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||(e={}))d.call(e,n)&&u(t,n,e[n]);if(p)for(var n of p(e))c.call(e,n)&&u(t,n,e[n]);return t};const g={id:"restapi-tokens",title:"Tokens",sidebar_label:"Tokens"},m=void 0,y={unversionedId:"api/restapis/restapi-tokens",id:"version-3.1/api/restapis/restapi-tokens",title:"Tokens",description:"Available API Paths",source:"@site/mosquitto_versioned_docs/version-3.1/api/restapis/tokens.md",sourceDirName:"api/restapis",slug:"/api/restapis/restapi-tokens",permalink:"/mosquitto/api/restapis/restapi-tokens",draft:!1,tags:[],version:"3.1",frontMatter:{id:"restapi-tokens",title:"Tokens",sidebar_label:"Tokens"},sidebar:"someSidebar",previous:{title:"Streams",permalink:"/mosquitto/api/restapis/restapi-streams"},next:{title:"Topic Tree",permalink:"/mosquitto/api/restapis/restapi-topic-tree"}},b={},f=[{value:"/api/projects/{projectId}/tokens/{tokenId}",id:"apiprojectsprojectidtokenstokenid",level:2},{value:'DELETE <AccessRight access="admin" />',id:"delete-",level:3},{value:"/api/projects/{projectId}/tokens",id:"apiprojectsprojectidtokens",level:2},{value:'GET <AccessRight access="viewer" />',id:"get-",level:3},{value:'POST <AccessRight access="admin" />',id:"post-",level:3}],N={toc:f};function j(t){var e,n=t,{components:a}=n,u=((t,e)=>{var n={};for(var r in t)d.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&p)for(var r of p(t))e.indexOf(r)<0&&c.call(t,r)&&(n[r]=t[r]);return n})(n,["components"]);return(0,r.kt)("wrapper",(e=k(k({},N),u),i(e,s({components:a,mdxType:"MDXLayout"}))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Available API Paths")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",k({parentName:"li"},{href:"#apiprojectsprojectidtokenstokenid"}),"/api/projects/{projectId}/tokens/{tokenId}"),(0,r.kt)("br",null)),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",k({parentName:"li"},{href:"#apiprojectsprojectidtokens"}),"/api/projects/{projectId}/tokens"),(0,r.kt)("br",null))),(0,r.kt)("hr",null),(0,r.kt)("h2",k({},{id:"apiprojectsprojectidtokenstokenid"}),"/api/projects/{projectId}/tokens/{tokenId}"),(0,r.kt)("p",null,"The following methods are available for this path:"),(0,r.kt)("h3",k({},{id:"delete-"}),"DELETE ",(0,r.kt)(l.Z,{access:"admin",mdxType:"AccessRight"})),(0,r.kt)("p",null,"Delete project token specified by passed token id."),(0,r.kt)(o.Z,{title:"Parameters",mdxType:"APIDetails"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",k({parentName:"tr"},{align:null}),"Name"),(0,r.kt)("th",k({parentName:"tr"},{align:null}),"Location"),(0,r.kt)("th",k({parentName:"tr"},{align:null}),"Type"),(0,r.kt)("th",k({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",k({parentName:"tr"},{align:null}),(0,r.kt)("strong",{parentName:"td"},"projectId")),(0,r.kt)("td",k({parentName:"tr"},{align:null}),"path"),(0,r.kt)("td",k({parentName:"tr"},{align:null}),"string"),(0,r.kt)("td",k({parentName:"tr"},{align:null}),"A project id")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",k({parentName:"tr"},{align:null}),(0,r.kt)("strong",{parentName:"td"},"tokenId")),(0,r.kt)("td",k({parentName:"tr"},{align:null}),"path"),(0,r.kt)("td",k({parentName:"tr"},{align:null}),"string"),(0,r.kt)("td",k({parentName:"tr"},{align:null}),"A token id"))))),(0,r.kt)(o.Z,{title:"Responses",mdxType:"APIDetails"},(0,r.kt)("table",null,(0,r.kt)("tbody",null,(0,r.kt)("tr",null,(0,r.kt)("td",null," Status "),(0,r.kt)("td",null," Description "),(0,r.kt)("td",null," Response Content or Scheme")),(0,r.kt)("tr",null,(0,r.kt)("td",null," 200 "),(0,r.kt)("td",null," Flag indicating if deletion was successful or not. "),(0,r.kt)("td",null)),(0,r.kt)("tr",null,(0,r.kt)("td",null," 401 "),(0,r.kt)("td",null," Unauthorized request error "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "message": {\n    "type": "string",\n    "description": "A descriptive error message"\n  },\n  "code": {\n    "type": "string",\n    "description": "A textual error code"\n  },\n  "status": {\n    "type": "integer",\n    "description": "A corresponding HTML status code"\n  },\n  "info": {\n    "type": "object",\n    "description": "An optional info object containing error dependent information"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 403 "),(0,r.kt)("td",null," Request is not allowed error "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "message": {\n    "type": "string",\n    "description": "A descriptive error message"\n  },\n  "code": {\n    "type": "string",\n    "description": "A textual error code"\n  },\n  "status": {\n    "type": "integer",\n    "description": "A corresponding HTML status code"\n  },\n  "info": {\n    "type": "object",\n    "description": "An optional info object containing error dependent information"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 404 "),(0,r.kt)("td",null," Resource is not found error "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "message": {\n    "type": "string",\n    "description": "A descriptive error message"\n  },\n  "code": {\n    "type": "string",\n    "description": "A textual error code"\n  },\n  "status": {\n    "type": "integer",\n    "description": "A corresponding HTML status code"\n  },\n  "info": {\n    "type": "object",\n    "description": "An optional info object containing error dependent information"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 500 "),(0,r.kt)("td",null," Internal server error "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "message": {\n    "type": "string",\n    "description": "A descriptive error message"\n  },\n  "code": {\n    "type": "string",\n    "description": "A textual error code"\n  },\n  "status": {\n    "type": "integer",\n    "description": "A corresponding HTML status code"\n  },\n  "info": {\n    "type": "object",\n    "description": "An optional info object containing error dependent information"\n  }\n} \n'))))))),(0,r.kt)("hr",null),(0,r.kt)("h2",k({},{id:"apiprojectsprojectidtokens"}),"/api/projects/{projectId}/tokens"),(0,r.kt)("p",null,"The following methods are available for this path:"),(0,r.kt)("h3",k({},{id:"get-"}),"GET ",(0,r.kt)(l.Z,{access:"viewer",mdxType:"AccessRight"})),(0,r.kt)("p",null,"Return a list of all currently available project tokens."),(0,r.kt)(o.Z,{title:"Parameters",mdxType:"APIDetails"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",k({parentName:"tr"},{align:null}),"Name"),(0,r.kt)("th",k({parentName:"tr"},{align:null}),"Location"),(0,r.kt)("th",k({parentName:"tr"},{align:null}),"Type"),(0,r.kt)("th",k({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",k({parentName:"tr"},{align:null}),(0,r.kt)("strong",{parentName:"td"},"projectId")),(0,r.kt)("td",k({parentName:"tr"},{align:null}),"path"),(0,r.kt)("td",k({parentName:"tr"},{align:null}),"string"),(0,r.kt)("td",k({parentName:"tr"},{align:null}),"A project id"))))),(0,r.kt)(o.Z,{title:"Responses",mdxType:"APIDetails"},(0,r.kt)("table",null,(0,r.kt)("tbody",null,(0,r.kt)("tr",null,(0,r.kt)("td",null," Status "),(0,r.kt)("td",null," Description "),(0,r.kt)("td",null," Response Content or Scheme")),(0,r.kt)("tr",null,(0,r.kt)("td",null," 200 "),(0,r.kt)("td",null," A list of project tokens. "),(0,r.kt)("td",null)),(0,r.kt)("tr",null,(0,r.kt)("td",null," 401 "),(0,r.kt)("td",null," Unauthorized request error "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "message": {\n    "type": "string",\n    "description": "A descriptive error message"\n  },\n  "code": {\n    "type": "string",\n    "description": "A textual error code"\n  },\n  "status": {\n    "type": "integer",\n    "description": "A corresponding HTML status code"\n  },\n  "info": {\n    "type": "object",\n    "description": "An optional info object containing error dependent information"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 403 "),(0,r.kt)("td",null," Request is not allowed error "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "message": {\n    "type": "string",\n    "description": "A descriptive error message"\n  },\n  "code": {\n    "type": "string",\n    "description": "A textual error code"\n  },\n  "status": {\n    "type": "integer",\n    "description": "A corresponding HTML status code"\n  },\n  "info": {\n    "type": "object",\n    "description": "An optional info object containing error dependent information"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 404 "),(0,r.kt)("td",null," Resource is not found error "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "message": {\n    "type": "string",\n    "description": "A descriptive error message"\n  },\n  "code": {\n    "type": "string",\n    "description": "A textual error code"\n  },\n  "status": {\n    "type": "integer",\n    "description": "A corresponding HTML status code"\n  },\n  "info": {\n    "type": "object",\n    "description": "An optional info object containing error dependent information"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 500 "),(0,r.kt)("td",null," Internal server error "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "message": {\n    "type": "string",\n    "description": "A descriptive error message"\n  },\n  "code": {\n    "type": "string",\n    "description": "A textual error code"\n  },\n  "status": {\n    "type": "integer",\n    "description": "A corresponding HTML status code"\n  },\n  "info": {\n    "type": "object",\n    "description": "An optional info object containing error dependent information"\n  }\n} \n'))))))),(0,r.kt)("hr",null),(0,r.kt)("h3",k({},{id:"post-"}),"POST ",(0,r.kt)(l.Z,{access:"admin",mdxType:"AccessRight"})),(0,r.kt)("p",null,"Create a new project token with given name and valid date."),(0,r.kt)(o.Z,{title:"Parameters",mdxType:"APIDetails"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",k({parentName:"tr"},{align:null}),"Name"),(0,r.kt)("th",k({parentName:"tr"},{align:null}),"Location"),(0,r.kt)("th",k({parentName:"tr"},{align:null}),"Type"),(0,r.kt)("th",k({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",k({parentName:"tr"},{align:null}),(0,r.kt)("strong",{parentName:"td"},"projectId")),(0,r.kt)("td",k({parentName:"tr"},{align:null}),"path"),(0,r.kt)("td",k({parentName:"tr"},{align:null}),"string"),(0,r.kt)("td",k({parentName:"tr"},{align:null}),"A project id"))))),(0,r.kt)(o.Z,{title:"Request Body",mdxType:"APIDetails"},(0,r.kt)("table",null,(0,r.kt)("tbody",null,(0,r.kt)("tr",null,(0,r.kt)("td",null," Name "),(0,r.kt)("td",null," Location "),(0,r.kt)("td",null," Type "),(0,r.kt)("td",null," Description ")),(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("b",null," body ")),(0,r.kt)("td",null,"body"),(0,r.kt)("td",null," object "),(0,r.kt)("td",null,"Properties:",(0,r.kt)("p",null),(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "name": {\n    "type": "string"\n  },\n  "role": {\n    "type": "string",\n    "enum": [\n      "admin",\n      "editor",\n      "viewer"\n    ]\n  },\n  "brokers": {\n    "type": "array",\n    "items": {\n      "type": "string"\n    }\n  },\n  "type": {\n    "type": "string",\n    "enum": [\n      "restricted",\n      "unrestricted"\n    ]\n  },\n  "valid_date": {\n    "type": "string"\n  }\n} \n'))))))),(0,r.kt)(o.Z,{title:"Responses",mdxType:"APIDetails"},(0,r.kt)("table",null,(0,r.kt)("tbody",null,(0,r.kt)("tr",null,(0,r.kt)("td",null," Status "),(0,r.kt)("td",null," Description "),(0,r.kt)("td",null," Response Content or Scheme")),(0,r.kt)("tr",null,(0,r.kt)("td",null," 200 "),(0,r.kt)("td",null," The newly created token. "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "id": {\n    "type": "string"\n  },\n  "project_id": {\n    "type": "string"\n  },\n  "role_id": {\n    "type": "string",\n    "enum": [\n      "admin",\n      "editor",\n      "root",\n      "viewer"\n    ]\n  },\n  "issuer": {\n    "type": "string"\n  },\n  "name": {\n    "type": "string"\n  },\n  "hash": {\n    "type": "string"\n  },\n  "issue_date": {\n    "type": "number"\n  },\n  "valid_date": {\n    "type": "number"\n  },\n  "last_used_date": {\n    "type": "number"\n  },\n  "brokers": {\n    "type": "array",\n    "items": {\n      "type": "string"\n    }\n  },\n  "type": {\n    "type": "string",\n    "enum": [\n      "restricted",\n      "unrestricted"\n    ]\n  },\n  "token": {\n    "type": "string"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 401 "),(0,r.kt)("td",null," Unauthorized request error "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "message": {\n    "type": "string",\n    "description": "A descriptive error message"\n  },\n  "code": {\n    "type": "string",\n    "description": "A textual error code"\n  },\n  "status": {\n    "type": "integer",\n    "description": "A corresponding HTML status code"\n  },\n  "info": {\n    "type": "object",\n    "description": "An optional info object containing error dependent information"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 403 "),(0,r.kt)("td",null," Request is not allowed error "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "message": {\n    "type": "string",\n    "description": "A descriptive error message"\n  },\n  "code": {\n    "type": "string",\n    "description": "A textual error code"\n  },\n  "status": {\n    "type": "integer",\n    "description": "A corresponding HTML status code"\n  },\n  "info": {\n    "type": "object",\n    "description": "An optional info object containing error dependent information"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 404 "),(0,r.kt)("td",null," Resource is not found error "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "message": {\n    "type": "string",\n    "description": "A descriptive error message"\n  },\n  "code": {\n    "type": "string",\n    "description": "A textual error code"\n  },\n  "status": {\n    "type": "integer",\n    "description": "A corresponding HTML status code"\n  },\n  "info": {\n    "type": "object",\n    "description": "An optional info object containing error dependent information"\n  }\n} \n')))),(0,r.kt)("tr",null,(0,r.kt)("td",null," 500 "),(0,r.kt)("td",null," Internal server error "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",k({parentName:"pre"},{className:"language-json"}),'{\n  "message": {\n    "type": "string",\n    "description": "A descriptive error message"\n  },\n  "code": {\n    "type": "string",\n    "description": "A textual error code"\n  },\n  "status": {\n    "type": "integer",\n    "description": "A corresponding HTML status code"\n  },\n  "info": {\n    "type": "object",\n    "description": "An optional info object containing error dependent information"\n  }\n} \n'))))))),(0,r.kt)("hr",null))}j.isMDXComponent=!0},43198:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(67294);function o({children:t,title:e,open:n=!1}){return r.createElement("details",{open:n,style:{background:"none",border:"1px solid silver",borderRadius:"5px",fontWeight:"700",padding:"10px",marginBottom:"10px"}},r.createElement("summary",{style:{cursor:"pointer"}},e),r.createElement("p",null),t)}},26922:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(67294),o=n(39082),l=n(47463),a=n(62659);const i={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"};var s=n(36954),p=n(665);const d=new Map([["admin",{color:l.Z,label:"Admin",tooltip:"Requires admin access rights"}],["editor",{color:a.Z,label:"Editor",tooltip:"Requires editor access rights"}],["owner",{color:i,label:"Owner",tooltip:"Requires owner access rights"}],["rootadmin",{color:s.Z,label:"RootAdmin",tooltip:"Requires root admin access rights"}],["viewer",{color:p.Z,label:"Viewer",tooltip:"Requires viewer access rights"}]]);function c({access:t}){var e;const n=null!=(e=d.get(t))?e:{color:"gray",label:"Unknown"};return r.createElement(o.Z,{sx:{ml:"14px",color:"#ffffff",backgroundColor:n.color[200]},size:"small",label:n.label,title:n.tooltip})}}}]);