(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[88863],{83166:(e,t,n)=>{"use strict";var o=n(64836);t.Z=void 0;var s=o(n(64938)),a=n(85893),r=(0,s.default)((0,a.jsx)("path",{d:"M12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm-1.06 13.54L7.4 12l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41-5.64 5.66z"}),"GppGood");t.Z=r},64938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=n(22236)},22236:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>s.Z,createChainedFunction:()=>a,createSvgIcon:()=>r.Z,debounce:()=>i,deprecatedPropType:()=>c,isMuiElement:()=>d,ownerDocument:()=>f,ownerWindow:()=>m,requirePropFactory:()=>h,setRef:()=>g,unstable_ClassNameGenerator:()=>U,unstable_useEnhancedEffect:()=>b,unstable_useId:()=>w,unsupportedProp:()=>C,useControlled:()=>P,useEventCallback:()=>y.Z,useForkRef:()=>O.Z,useIsFocusVisible:()=>A.Z});var o=n(37078),s=n(36622);const a=function(...e){return e.reduce(((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)}),(()=>{}))};var r=n(58175);const i=function(e,t=166){let n;function o(...o){clearTimeout(n),n=setTimeout((()=>{e.apply(this,o)}),t)}return o.clear=()=>{clearTimeout(n)},o};const c=function(e,t){return()=>null};var u=n(67294),l=n.t(u,2);const d=function(e,t){return u.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function p(e){return e&&e.ownerDocument||document}const f=p;const m=function(e){return p(e).defaultView||window};n(87462);const h=function(e,t){return()=>null};const g=n(7960).Z;const b=n(16600).Z;let v=0;const k=l.useId;const w=function(e){if(void 0!==k){const t=k();return null!=e?e:t}return function(e){const[t,n]=u.useState(e),o=e||t;return u.useEffect((()=>{null==t&&(v+=1,n(`mui-${v}`))}),[t]),o}(e)};const C=function(e,t,n,o,s){return null};const P=function({controlled:e,default:t,name:n,state:o="value"}){const{current:s}=u.useRef(void 0!==e),[a,r]=u.useState(t);return[s?e:a,u.useCallback((e=>{s||r(e)}),[])]};var y=n(66875),O=n(78155),A=n(51625);const U={configure:e=>{console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),o.Z.configure(e)}}},1665:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>m,default:()=>k,frontMatter:()=>f,metadata:()=>h,toc:()=>b});var o=n(3905),s=n(49044),a=Object.defineProperty,r=Object.defineProperties,i=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&d(e,n,t[n]);if(c)for(var n of c(t))l.call(t,n)&&d(e,n,t[n]);return e};const f={id:"opcuareq",title:"OPC UA",sidebar_label:"OPC UA"},m=void 0,h={unversionedId:"guides/connections/opcuareq",id:"version-3.0/guides/connections/opcuareq",title:"OPC UA",description:"OPC UA Connection",source:"@site/streamsheets_versioned_docs/version-3.0/guides/connections/opcuareq.md",sourceDirName:"guides/connections",slug:"/guides/connections/opcuareq",permalink:"/streamsheets/guides/connections/opcuareq",draft:!1,tags:[],version:"3.0",frontMatter:{id:"opcuareq",title:"OPC UA",sidebar_label:"OPC UA"},sidebar:"someSidebar",previous:{title:"MQTT",permalink:"/streamsheets/guides/connections/mqtt"},next:{title:"Protobuf/Sparkplug",permalink:"/streamsheets/guides/connections/protobuf"}},g={},b=[{value:"OPC UA Connection <PremiumFeature />",id:"opc-ua-connection-",level:2},{value:"Settings",id:"settings",level:3},{value:"Subscriptions",id:"subscriptions",level:3},{value:"Logs",id:"logs",level:3},{value:"OPCUA functions",id:"opcua-functions",level:2}],v={toc:b};function k(e){var t,a=e,{components:d}=a,f=((e,t)=>{var n={};for(var o in e)u.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&c)for(var o of c(e))t.indexOf(o)<0&&l.call(e,o)&&(n[o]=e[o]);return n})(a,["components"]);return(0,o.kt)("wrapper",(t=p(p({},v),f),r(t,i({components:d,mdxType:"MDXLayout"}))),(0,o.kt)("h2",p({},{id:"opc-ua-connection-"}),"OPC UA Connection ",(0,o.kt)(s.Z,{mdxType:"PremiumFeature"})),(0,o.kt)("h3",p({},{id:"settings"}),"Settings"),(0,o.kt)("p",null,'Enter your connection details here. An account can be used to bundle the "settings" details in one place. Select an account to use these in your connection.'),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"URL:")," The URL to the OPC UA server."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Username, Password:")," To authenticate a client at a Server, it is common to use a username and password to sign in."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Authorization:"),"There are different possible authorization methods. Depending on the connection a different approach\nwas chosen. Supported authorization methods are: \u201cNone\u201d, \u201cSign\u201d and \u201cSign&Encrypt\u201d."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"OPCUA",src:n(70563).Z,width:"604",height:"478"})),(0,o.kt)("p",null,'The connection can be used via functions or connected to an Inbox.\nUse the "Subscription" menu to set the nodes (e.g. ns=2;s=MyTemperature) you want to listen to and assign them an Inbox:'),(0,o.kt)("h3",p({},{id:"subscriptions"}),"Subscriptions"),(0,o.kt)("p",null,'There are multiple ways to access OPC UA data. Configure an Inbox to poll data in a set interval directly, or use a\nfunction in your sheet to trigger a single request to the OPC UA server. Both approaches will need the specific node ids of your OPC UA parameter. These consist of a namespace indicator and the parameter id. (e.g. ns=2; s="Parameter").'),(0,o.kt)("p",null,"Enter your node id and select the inbox the node payload should be displayed in. The information will be polled or monitored in certain intervals.\nIn a running App, the Inbox will collect the messages in the entered interval."),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"We are working on a feature to directly scan and access existing OPC UA nodes through Streamsheets. Until then, it is\nnecessary to detect the node ids by hand.\nA good tool to identify nodes could be\nthe ",(0,o.kt)("a",p({parentName:"em"},{href:"https://downloads.prosysopc.com/opc-ua-client-downloads.php"}),"Prosys OPC UA Client"),"\nor ",(0,o.kt)("a",p({parentName:"em"},{href:"https://www.unified-automation.com/de/downloads/opc-ua-clients.html"}),"UAexpert"),". You can also use a browser\nclient: ",(0,o.kt)("a",p({parentName:"em"},{href:"https://www.uaclient.com/"}),"https://www.uaclient.com/")," ")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"OPCUA",src:n(42759).Z,width:"609",height:"413"})),(0,o.kt)("h3",p({},{id:"logs"}),"Logs"),(0,o.kt)("p",null,"The Logs inform about the latest feedback of your endpoint. This can be successful or unsuccessful connection attempts. If you have trouble connecting, here is a good place to search for a reason. "),(0,o.kt)("h2",p({},{id:"opcua-functions"}),"OPCUA functions"),(0,o.kt)("p",null,"As all stream functions, OPCUA functions base on a created connection, which is always the first parameter. "),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"OPCUA.READ():")," A second way to request data from an OPC UA server is\nvia ",(0,o.kt)("a",p({parentName:"p"},{href:"../../functions/Connection/opcuaread"}),"OPCUA.READ"),".\nEnter the function in a cell and reference the above-created connection.\nEnter the Node ID and the Target (e.g. ","[INBOX]","(../../functions/stream sheet/inbox))."),(0,o.kt)("p",null,"Every new calculation step now triggers ",(0,o.kt)("a",p({parentName:"p"},{href:"../../functions/Connection/opcuaread"}),"OPCUA.READ")," and therefore a request to\nthe OPC UA server. It will display the function in the assigned Target as soon as the response arrives."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"OPCUA.WRITE:")," It is also possible to update existing OPC UA Variables\nwith the OPCUA.WRITE formula. Similar to before, create the ",(0,o.kt)("a",p({parentName:"p"},{href:"../../functions/Connection/opcuawrite"}),"OPCUA.WRITE"),"\nfunction, select your connection, add the node id, range with your value information and a target.\nThe Node Value Range has to consist of two key-value pairs.\nThe value written on the node id and the data type used. "),(0,o.kt)("img",{src:n(22439).Z,width:"100%"}),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Screenshot shows a OPCUA connection and together with a OPCUA.READ() and OPCUA.WRITE() function.")))}k.isMDXComponent=!0},49044:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n(67294),s=n(39082),a=n(62659),r=n(83166);function i({inline:e}){return o.createElement(s.Z,{sx:{margin:e?"0px 5px":"0px 5px 5px 10px",height:e?"22px":void 0,color:"#ffffff",backgroundColor:a.Z[500]},size:"small",icon:o.createElement(r.Z,{style:{color:"white"},size:"small"}),label:"Premium"})}},22439:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n.p+"assets/images/opcuafunctions-f4b37d5359def69a2b70f96911564cb0.png"},70563:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n.p+"assets/images/OPCUAConnection-7f58905448e4df09fe686db9fa1f8fb9.png"},42759:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n.p+"assets/images/OPCUAsub-de0bceac0ab1aaf3c3a1145a287f3da1.png"},64836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);