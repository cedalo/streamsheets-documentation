"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[30450],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>f});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),u=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=u(r),f=o,d=m["".concat(l,".").concat(f)]||m[f]||p[f]||a;return r?n.createElement(d,i(i({ref:t},c),{},{components:r})):n.createElement(d,i({ref:t},c))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var u=2;u<a;u++)i[u]=r[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},73550:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>b,contentTitle:()=>f,default:()=>y,frontMatter:()=>m,metadata:()=>d,toc:()=>g});var n=r(3905),o=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&c(e,r,t[r]);if(s)for(var r of s(t))u.call(t,r)&&c(e,r,t[r]);return e};const m={id:"cedalo-force-username",title:"Force Username as Client ID plugin",sidebar_label:"Force Username"},f=void 0,d={unversionedId:"broker/Mosquitto Manual/cedalo-force-username",id:"version-2.8/broker/Mosquitto Manual/cedalo-force-username",title:"Force Username as Client ID plugin",description:"When utilizing this plugin, it mandates that every client's username will automatically be set to match its client id before proceeding with any basic username/password authentication.",source:"@site/mosquitto_versioned_docs/version-2.8/broker/Mosquitto Manual/force-username.md",sourceDirName:"broker/Mosquitto Manual",slug:"/broker/Mosquitto Manual/cedalo-force-username",permalink:"/mosquitto/2.8/broker/Mosquitto Manual/cedalo-force-username",draft:!1,tags:[],version:"2.8",frontMatter:{id:"cedalo-force-username",title:"Force Username as Client ID plugin",sidebar_label:"Force Username"},sidebar:"someSidebar",previous:{title:"Metrics Exporter",permalink:"/mosquitto/2.8/broker/Mosquitto Manual/mosquitto-metrics-exporter"},next:{title:"Sparkplug Awareness",permalink:"/mosquitto/2.8/broker/Mosquitto Manual/mosquitto-sparkplug-aware"}},b={},g=[{value:"Plugin configuration",id:"plugin-configuration",level:2}],h={toc:g};function y(e){var t,r=e,{components:o}=r,c=((e,t)=>{var r={};for(var n in e)l.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&s)for(var n of s(e))t.indexOf(n)<0&&u.call(e,n)&&(r[n]=e[n]);return r})(r,["components"]);return(0,n.kt)("wrapper",(t=p(p({},h),c),a(t,i({components:o,mdxType:"MDXLayout"}))),(0,n.kt)("p",null,"When utilizing this plugin, it mandates that every client's ",(0,n.kt)("strong",{parentName:"p"},"username")," will automatically be set to match its ",(0,n.kt)("strong",{parentName:"p"},"client id")," before proceeding with any basic username/password authentication.\nThis feature is particularly beneficial for devices or applications that bypass the use of usernames for authentication purposes, akin to the now obsolete ",(0,n.kt)("strong",{parentName:"p"},"IBM Watson IoT platform"),". It enables such devices or applications to integrate with Mosquitto and utilize usernames for both authentication and authorization, for instance, when leveraging the dynamic security plugin."),(0,n.kt)("p",null,"Moreover, there are additional Mosquitto options that can alter a client's username based on the information contained within a client's TLS certificate. These options include ",(0,n.kt)("inlineCode",{parentName:"p"},"use_identity_as_username")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"use_subject_as_username"),", which should be used in tandem with ",(0,n.kt)("inlineCode",{parentName:"p"},"require_certificate"),". Should either of these options be enabled alongside the ",(0,n.kt)("strong",{parentName:"p"},"Force Username plugin"),", the ultimate username assigned to the client will be the one specified by the ",(0,n.kt)("strong",{parentName:"p"},"Force Username plugin"),"."),(0,n.kt)("h2",p({},{id:"plugin-configuration"}),"Plugin configuration"),(0,n.kt)("p",null,"To configure the plugin, add it to your Mosquitto configuration file ",(0,n.kt)("em",{parentName:"p"},"before"),"\nother authentication plugins. For example:"),(0,n.kt)("pre",null,(0,n.kt)("code",p({parentName:"pre"},{className:"language-aconf"}),"listener 8883\ncertfile <server.pem>\nkeyfile <server.key>\n\nplugin /usr/lib/cedalo_force_username.so\n\nplugin /usr/lib/mosquitto_dynamic_security.so\nplugin_opt_config_file /mosquitto/data/dynamic-security.json\n")),(0,n.kt)("p",null,"There is no further configuration required."))}y.isMDXComponent=!0}}]);