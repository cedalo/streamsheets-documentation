"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[99972],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return u}});var a=t(67294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=a.createContext({}),m=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=m(e.components);return a.createElement(i.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,l=e.mdxType,o=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=m(t),u=l,k=d["".concat(i,".").concat(u)]||d[u]||c[u]||o;return t?a.createElement(k,r(r({ref:n},p),{},{components:t})):a.createElement(k,r({ref:n},p))}));function u(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var o=t.length,r=new Array(o);r[0]=d;var s={};for(var i in n)hasOwnProperty.call(n,i)&&(s[i]=n[i]);s.originalType=e,s.mdxType="string"==typeof e?e:l,r[1]=s;for(var m=2;m<o;m++)r[m]=t[m];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},81231:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return i},metadata:function(){return m},toc:function(){return p},default:function(){return d}});var a=t(87462),l=t(63366),o=(t(67294),t(3905)),r=["components"],s={id:"mc-dynamic-security-rest-api",title:"Dynamic Security REST API",sidebar_label:"REST API \u2b50"},i=void 0,m={unversionedId:"mc-dynamic-security-rest-api",id:"mc-dynamic-security-rest-api",title:"Dynamic Security REST API",description:"This page describes how to use the Dynamic Security REST API that is provided by the Management Center for Eclipse Mosquitto.",source:"@site/management-center/dynamic-security-rest-api.md",sourceDirName:".",slug:"/mc-dynamic-security-rest-api",permalink:"/management-center/next/mc-dynamic-security-rest-api",tags:[],version:"current",frontMatter:{id:"mc-dynamic-security-rest-api",title:"Dynamic Security REST API",sidebar_label:"REST API \u2b50"},sidebar:"someSidebar",previous:{title:"Overview",permalink:"/management-center/next/mc-dynamic-security"},next:{title:"Topic Tree",permalink:"/management-center/next/mc-topic-tree"}},p=[{value:"Authenticate / Login",id:"authenticate--login",children:[],level:2},{value:"Sending command requests",id:"sending-command-requests",children:[{value:"List clients",id:"list-clients",children:[],level:3},{value:"Get clients",id:"get-clients",children:[],level:3},{value:"Create clients",id:"create-clients",children:[],level:3},{value:"Delete clients",id:"delete-clients",children:[],level:3},{value:"List groups",id:"list-groups",children:[],level:3},{value:"Get groups",id:"get-groups",children:[],level:3},{value:"Create groups",id:"create-groups",children:[],level:3},{value:"Delete groups",id:"delete-groups",children:[],level:3},{value:"Add clients to groups",id:"add-clients-to-groups",children:[],level:3},{value:"Remove clients from groups",id:"remove-clients-from-groups",children:[],level:3},{value:"List roles",id:"list-roles",children:[],level:3},{value:"Get roles",id:"get-roles",children:[],level:3},{value:"Create roles",id:"create-roles",children:[],level:3},{value:"Delete roles",id:"delete-roles",children:[],level:3},{value:"Add roles to clients",id:"add-roles-to-clients",children:[],level:3},{value:"Remove roles from clients",id:"remove-roles-from-clients",children:[],level:3},{value:"Add roles to groups",id:"add-roles-to-groups",children:[],level:3},{value:"Remove roles from groups",id:"remove-roles-from-groups",children:[],level:3},{value:"Add ACLs to roles",id:"add-acls-to-roles",children:[],level:3},{value:"Remove ACLs from roles",id:"remove-acls-from-roles",children:[],level:3}],level:2},{value:"Deauthenticate / Logout",id:"deauthenticate--logout",children:[],level:2}],c={toc:p};function d(e){var n=e.components,t=(0,l.Z)(e,r);return(0,o.kt)("wrapper",(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This page describes how to use the ",(0,o.kt)("strong",{parentName:"p"},"Dynamic Security REST API")," that is provided by the Management Center for Eclipse Mosquitto."),(0,o.kt)("h2",{id:"authenticate--login"},"Authenticate / Login"),(0,o.kt)("p",null,"In order to use the REST API you first need to authenticate. Note that after a successful login a cookie is created that contains the session id. This cookie needs to be passed to any further request to the API. For example when using the ",(0,o.kt)("inlineCode",{parentName:"p"},"curl")," command you can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"--cookie-jar")," option for storing that cookie automatically and the ",(0,o.kt)("inlineCode",{parentName:"p"},"--cookie")," option for further requests to automatically read that cookie and pass it with the request."),(0,o.kt)("p",null,"The following command shows how to authenticate using ",(0,o.kt)("inlineCode",{parentName:"p"},"curl"),". Please replace the ",(0,o.kt)("inlineCode",{parentName:"p"},"<BASE_URL>"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"<USERNAME>")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"<PASSWORD>")," placeholders accordingly:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"<BASE_URL>"),": The base URL where the installation of the Management Center is hosted (including the protocol and base path, e.g., ",(0,o.kt)("a",{parentName:"li",href:"https://mosquitto.cedalo.com"},"https://mosquitto.cedalo.com"),")."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"<USERNAME>"),": The name of the user which has access to the REST API."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"<PASSWORD>"),": The password of the user which has access to the REST API.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl --cookie-jar .cookies \\\n    --request POST <BASE_URL>/auth \\\n    -H 'Content-Type: application/x-www-form-urlencoded' \\\n    -d \"username=<USERNAME>&password=<PASSWORD>\" \n")),(0,o.kt)("h2",{id:"sending-command-requests"},"Sending command requests"),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Before sending command request make sure that you have authenticated as described above."))),(0,o.kt)("p",null,"The following command shows how to authenticate using ",(0,o.kt)("inlineCode",{parentName:"p"},"curl"),". Please replace the ",(0,o.kt)("inlineCode",{parentName:"p"},"<BASE_URL>"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"<BROKER_ID>")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"<JSON_COMMAND>")," placeholders accordingly."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"<BASE_URL>"),": The base URL where the installation of the Management Center is hosted."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"<BROKER_ID>"),": The id of the broker where the command should be send to (as defined via the Management Center)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"<JSON_COMMAND>"),": The JSON that should be send to the broker (see command documentation).")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl --cookie .cookies \\\n    --request POST <BASE_URL>/api/dynamic-security/<BROKER_ID>/command \\\n    -H 'Content-Type: application/json' \\\n    -d '<JSON_COMMAND>'\n")),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"For the following command documentation, note that we assume that you store the JSON command that you send in a separate JSON file and reference it in the ",(0,o.kt)("inlineCode",{parentName:"p"},"curl")," command as follows:"),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl --cookie .cookies \\\n    --request POST <BASE_URL>/api/dynamic-security/<BROKER_ID>/command \\\n    -H 'Content-Type: application/json' \\\n    -d @command.json\n")),(0,o.kt)("p",{parentName:"div"},"We therefore only list the content of that JSON file in the following sections."))),(0,o.kt)("h3",{id:"list-clients"},"List clients"),(0,o.kt)("p",null,"In order to send the ",(0,o.kt)("inlineCode",{parentName:"p"},"listClients")," command to a broker with the id ",(0,o.kt)("inlineCode",{parentName:"p"},"mosquitto-2.0")," on the ",(0,o.kt)("a",{parentName:"p",href:"https://mosquitto.cedalo.com"},"https://mosquitto.cedalo.com")," installation you would use the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "listClients",\n  "verbose": true\n}\n')),(0,o.kt)("p",null,"The response looks like the following (formatted into readable JSON):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "listClients",\n  "data": {\n    "totalCount": 1,\n    "clients": [\n      {\n        "username": "admin",\n        "textname": "MMC admin user",\n        "roles": [\n          {\n            "rolename": "dynsec-admin"\n          },\n          {\n            "rolename": "license-admin"\n          },\n          {\n            "rolename": "sys-observe"\n          },\n          {\n            "rolename": "topic-observe"\n          }\n        ],\n        "groups": []\n      }\n    ]\n  }\n}\n')),(0,o.kt)("h3",{id:"get-clients"},"Get clients"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "getClient",\n  "username": "admin"\n}\n')),(0,o.kt)("p",null,"Response"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "getClient",\n  "data": {\n    "client": {\n      "username": "admin",\n      "textname": "MMC admin user",\n      "roles": [\n        {\n          "rolename": "dynsec-admin"\n        },\n        {\n          "rolename": "license-admin"\n        },\n        {\n          "rolename": "sys-observe"\n        },\n        {\n          "rolename": "topic-observe"\n        }\n      ],\n      "groups": []\n    }\n  }\n}\n')),(0,o.kt)("h3",{id:"create-clients"},"Create clients"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "createClient",\n  "username": "max",\n  "password": "5eCret",\n  "clientid": "some-id",\n  "rolename": "some-role",\n  "textname": "Max Mustermann",\n  "textdescription": "This is just a dummy user"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "createClient"\n}\n')),(0,o.kt)("h3",{id:"delete-clients"},"Delete clients"),(0,o.kt)("p",null,"Commands:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "deleteClient",\n  "username": "max"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "deleteClient"\n}\n')),(0,o.kt)("h3",{id:"list-groups"},"List groups"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "listGroups",\n  "verbose": true\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "listGroups",\n  "data": {\n    "totalCount": 0,\n    "groups": []\n  }\n}\n')),(0,o.kt)("h3",{id:"get-groups"},"Get groups"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "getGroup",\n  "groupname": "example-group"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "getGroup",\n  "data": {\n    "group": {\n      "groupname": "example-group",\n      "textname": "Example Group",\n      "textdescription": "An example group",\n      "clients": [],\n      "roles": []\n    }\n  }\n}\n')),(0,o.kt)("h3",{id:"create-groups"},"Create groups"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "createGroup",\n  "groupname": "example-group",\n  "rolename": "example-role",\n  "textname": "Example Group",\n  "textdescription": "An example group"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "createGroup"\n}\n')),(0,o.kt)("h3",{id:"delete-groups"},"Delete groups"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "deleteGroup",\n  "groupname": "example-group"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "deleteGroup"\n}\n')),(0,o.kt)("h3",{id:"add-clients-to-groups"},"Add clients to groups"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "addGroupClient",\n  "username": "max",\n  "groupname": "example-group"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "addGroupClient"\n}\n')),(0,o.kt)("h3",{id:"remove-clients-from-groups"},"Remove clients from groups"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "removeGroupClient",\n  "username": "max",\n  "groupname": "example-group"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "removeGroupClient"\n}\n')),(0,o.kt)("h3",{id:"list-roles"},"List roles"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "listRoles",\n  "verbose": true\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "listRoles",\n  "data": {\n    "totalCount": 5,\n    "roles": [\n      {\n        "rolename": "client",\n        "textdescription": "Read/write access to the full application topic hierarchy (note: please create ACLs to restrict access as required by your application).",\n        "allowwildcardsubs": true,\n        "acls": [\n          {\n            "acltype": "publishClientSend",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "publishClientReceive",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "subscribePattern",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "unsubscribePattern",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          }\n        ]\n      },\n      {\n        "rolename": "dynsec-admin",\n        "textname": "",\n        "textdescription": "Grants access to administer clients/groups/roles.",\n        "allowwildcardsubs": true,\n        "acls": [\n          {\n            "acltype": "publishClientSend",\n            "topic": "$CONTROL/dynamic-security/#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "publishClientReceive",\n            "topic": "$CONTROL/dynamic-security/#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "subscribePattern",\n            "topic": "$CONTROL/dynamic-security/#",\n            "priority": 0,\n            "allow": true\n          }\n        ]\n      },\n      {\n        "rolename": "license-admin",\n        "textname": "",\n        "textdescription": "Grants access to administer licenses.",\n        "allowwildcardsubs": true,\n        "acls": [\n          {\n            "acltype": "publishClientSend",\n            "topic": "$CONTROL/cedalo/license/#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "publishClientReceive",\n            "topic": "$CONTROL/cedalo/license/#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "subscribePattern",\n            "topic": "$CONTROL/cedalo/license/#",\n            "priority": 0,\n            "allow": true\n          }\n        ]\n      },\n      {\n        "rolename": "sys-observe",\n        "textname": "",\n        "textdescription": "Observe the $SYS topic hierarchy.",\n        "allowwildcardsubs": true,\n        "acls": [\n          {\n            "acltype": "publishClientReceive",\n            "topic": "$SYS/#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "subscribePattern",\n            "topic": "$SYS/#",\n            "priority": 0,\n            "allow": true\n          }\n        ]\n      },\n      {\n        "rolename": "topic-observe",\n        "textdescription": "Read only access to the full application topic hierarchy.",\n        "allowwildcardsubs": true,\n        "acls": [\n          {\n            "acltype": "publishClientReceive",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "subscribePattern",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          },\n          {\n            "acltype": "unsubscribePattern",\n            "topic": "#",\n            "priority": 0,\n            "allow": true\n          }\n        ]\n      }\n    ]\n  }\n}\n')),(0,o.kt)("h3",{id:"get-roles"},"Get roles"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "getRole",\n  "rolename": "example-role"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "getRole",\n  "data": {\n    "role": {\n      "rolename": "example-role",\n      "textname": "Example Role",\n      "textdescription": "An example role",\n      "allowwildcardsubs": true,\n      "acls": []\n    }\n  }\n}\n')),(0,o.kt)("h3",{id:"create-roles"},"Create roles"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "createRole",\n  "rolename": "example-role",\n  "textname": "Example Role",\n  "textdescription": "An example role"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "createRole"\n}\n')),(0,o.kt)("h3",{id:"delete-roles"},"Delete roles"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "deleteRole",\n  "rolename": "example-role"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "deleteRole"\n}\n')),(0,o.kt)("h3",{id:"add-roles-to-clients"},"Add roles to clients"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "addClientRole",\n  "username": "max",\n  "rolename": "example-role"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "addClientRole"\n}\n')),(0,o.kt)("h3",{id:"remove-roles-from-clients"},"Remove roles from clients"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "removeClientRole",\n  "username": "max",\n  "rolename": "example-role"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "removeClientRole"\n}\n')),(0,o.kt)("h3",{id:"add-roles-to-groups"},"Add roles to groups"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "addGroupRole",\n  "username": "example-group",\n  "rolename": "example-role",\n  "priority": 5\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "addGroupRole"\n}\n')),(0,o.kt)("h3",{id:"remove-roles-from-groups"},"Remove roles from groups"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "removeGroupRole",\n  "username": "example-group",\n  "rolename": "example-role"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "removeGroupRole"\n}\n')),(0,o.kt)("h3",{id:"add-acls-to-roles"},"Add ACLs to roles"),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"See also the ",(0,o.kt)("a",{parentName:"p",href:"/mosquitto/broker-dynamic-security/"},"ACL documentation")," for a basic description of the different ACL types."))),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "addRoleACL",\n  "rolename": "example-role",\n  "acltype": "publishClientSend",\n  "priority": 5,\n  "topic": "/some/topic/structure",\n  "allow": true\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "addRoleACL"\n}\n')),(0,o.kt)("h3",{id:"remove-acls-from-roles"},"Remove ACLs from roles"),(0,o.kt)("p",null,"Command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "removeRoleACL",\n  "rolename": "example-role",\n  "acltype": "publishClientSend",\n  "topic": "/some/topic/structure"\n}\n')),(0,o.kt)("p",null,"Response:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "command": "removeRoleACL"\n}\n')),(0,o.kt)("h2",{id:"deauthenticate--logout"},"Deauthenticate / Logout"),(0,o.kt)("p",null,"To logout your client from the REST API you simply need to send the following request to the ",(0,o.kt)("inlineCode",{parentName:"p"},"/logout")," endpoint:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl --cookie .cookies \\\n    --request GET <BASE_URL>/logout\n")))}d.isMDXComponent=!0}}]);