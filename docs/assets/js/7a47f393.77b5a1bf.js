"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[50049],{13328:function(t,e,a){var n=a(95318);e.Z=void 0;var l=n(a(64938)),r=a(85893),i=(0,l.default)((0,r.jsx)("path",{d:"m23 12-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"}),"NewReleases");e.Z=i},75943:function(t,e,a){var n=a(95318);e.Z=void 0;var l=n(a(64938)),r=a(85893),i=(0,l.default)((0,r.jsx)("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6z"}),"Science");e.Z=i},96457:function(t,e,a){a.r(e),a.d(e,{frontMatter:function(){return m},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return p},default:function(){return k}});var n=a(87462),l=a(63366),r=(a(67294),a(3905)),i=(a(92313),a(93866)),o=(a(13977),["components"]),m={id:"timescaleupdate",title:"TIMESCALE.UPDATE",hide_title:!0},s=void 0,u={unversionedId:"functions/databases/timescaleupdate",id:"functions/databases/timescaleupdate",title:"TIMESCALE.UPDATE",description:"TIMESCALE.UPDATE",source:"@site/streamsheets/functions/databases/timescaleupdate.md",sourceDirName:"functions/databases",slug:"/functions/databases/timescaleupdate",permalink:"/streamsheets/next/functions/databases/timescaleupdate",tags:[],version:"current",frontMatter:{id:"timescaleupdate",title:"TIMESCALE.UPDATE",hide_title:!0},sidebar:"someSidebar",previous:{title:"TIMESCALE.SHOW_TABLES",permalink:"/streamsheets/next/functions/databases/timescaleshow_tables"},next:{title:"PROTOBUF.DECODE",permalink:"/streamsheets/next/functions/dataformats/protobufdecode"}},p=[],d={toc:p};function k(t){var e=t.components,a=(0,l.Z)(t,o);return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",null,"TIMESCALE.UPDATE"),(0,r.kt)(i.Z,{mdxType:"PremiumFeature"}),(0,r.kt)("p",null,"Performs an UPDATE query on your timescale database.  "),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"}," As of right now, the timescale functions work with the internal timescaledb. Leave the Connection parameter empty and the connection is automatically set up. We are working on allowing further timescale connections. "))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Syntax")),(0,r.kt)("p",null,"=TIMESCALE.UPDATE(Connection, UpdateJSON)"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Arguments")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Connection"),(0,r.kt)("td",{parentName:"tr",align:null},"Connection"),(0,r.kt)("td",{parentName:"tr",align:null},"Connection to use for querying. Leave this parameter empty. The internal timescaledb is automatically connected.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"UpdateJSON"),(0,r.kt)("td",{parentName:"tr",align:null},"JSON"),(0,r.kt)("td",{parentName:"tr",align:null},"Defines a query using a JSON cell range, which contains all clauses to build the UPDATE query.")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Return")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"TRUE, if successful.")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Examples")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"A"),(0,r.kt)("th",{parentName:"tr",align:null},"B"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"update"),(0,r.kt)("td",{parentName:"tr",align:null},"update")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"set"),(0,r.kt)("td",{parentName:"tr",align:null},'"SensorA"=42, "SensorB"=23')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"3"),(0,r.kt)("td",{parentName:"tr",align:null},"where"),(0,r.kt)("td",{parentName:"tr",align:null},'"SensorC" > 250')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"5"),(0,r.kt)("td",{parentName:"tr",align:null},"update"),(0,r.kt)("td",{parentName:"tr",align:null},"update")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"6"),(0,r.kt)("td",{parentName:"tr",align:null},"set"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"7"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},'"SensorA"=42')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"8"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},'"SensorB"=23')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"9"),(0,r.kt)("td",{parentName:"tr",align:null},"where"),(0,r.kt)("td",{parentName:"tr",align:null},'"SensorC" > 250')))),(0,r.kt)("p",null,'These are two ways to enter the update syntax. Either use one long string for the "set" command or divide the command in multiple rows.'),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Formula"),(0,r.kt)("th",{parentName:"tr",align:null},"Result"),(0,r.kt)("th",{parentName:"tr",align:null},"Comment"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("pre",null,(0,r.kt)("code",null,"=TIMESCALE.UPDATE(, JSON(A1:B3))"))),(0,r.kt)("td",{parentName:"tr",align:null},"TRUE"),(0,r.kt)("td",{parentName:"tr",align:null},"Assuming passed JSON looks like ",(0,r.kt)("inlineCode",{parentName:"td"},"{ update: 'tableName', set: '\"SensorA\"=42', where: '\"SensorB\">50' }")," this will update column SensorA at all rows in which column SensorB has a value greater 50")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("pre",null,(0,r.kt)("code",null,"=TIMESCALE.UPDATE(, JSON(A5:B9))"))),(0,r.kt)("td",{parentName:"tr",align:null},"TRUE"),(0,r.kt)("td",{parentName:"tr",align:null},"Assuming passed JSON looks like ",(0,r.kt)("inlineCode",{parentName:"td"},"{ update: 'tableName', set: '\"SensorA\"=42', where: '\"SensorB\">50' }")," this will update column SensorA at all rows in which column SensorB has a value greater 50")))),(0,r.kt)("p",null,"For more examples see our ",(0,r.kt)("a",{parentName:"p",href:"$HelpLink$/tutorials/tut-streams#timescaledb"},"timescale tutorial"),"."))}k.isMDXComponent=!0},13977:function(t,e,a){a.d(e,{Z:function(){return m}});var n=a(36459),l=a(67294),r=a(21055),i=a(13486),o=a(75943);function m(t){return(0,n.Z)(t),l.createElement(r.Z,{sx:{margin:"5px",color:"#ffffff",backgroundColor:i.Z[500]},size:"small",icon:l.createElement(o.Z,{style:{color:"white"},size:"small"}),label:"Experimental"})}},93866:function(t,e,a){a.d(e,{Z:function(){return m}});var n=a(36459),l=a(67294),r=a(21055),i=a(55137),o=a(83166);function m(t){return(0,n.Z)(t),l.createElement(r.Z,{sx:{margin:"5px",color:"#ffffff",backgroundColor:i.Z[500]},size:"small",icon:l.createElement(o.Z,{style:{color:"white"},size:"small"}),label:"Premium"})}},92313:function(t,e,a){a.d(e,{Z:function(){return i}});var n=a(67294),l=a(21055),r=a(13328);function i(t){var e=t.version;return e?n.createElement(l.Z,{sx:{margin:"5px"},color:"info",size:"small",icon:n.createElement(r.Z,{size:"small"}),label:""+e}):n.createElement(n.Fragment,null)}}}]);