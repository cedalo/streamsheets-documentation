(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[47169],{13328:(e,t,n)=>{"use strict";var r=n(64836);t.Z=void 0;var o=r(n(64938)),i=n(85893),a=(0,o.default)((0,i.jsx)("path",{d:"m23 12-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"}),"NewReleases");t.Z=a},64938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(22236)},22236:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>o.Z,createChainedFunction:()=>i,createSvgIcon:()=>a.Z,debounce:()=>l,deprecatedPropType:()=>s,isMuiElement:()=>d,ownerDocument:()=>m,ownerWindow:()=>h,requirePropFactory:()=>f,setRef:()=>b,unstable_ClassNameGenerator:()=>T,unstable_useEnhancedEffect:()=>g,unstable_useId:()=>v,unsupportedProp:()=>w,useControlled:()=>N,useEventCallback:()=>x.Z,useForkRef:()=>C.Z,useIsFocusVisible:()=>Z.Z});var r=n(37078),o=n(36622);const i=function(...e){return e.reduce(((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)}),(()=>{}))};var a=n(58175);const l=function(e,t=166){let n;function r(...r){clearTimeout(n),n=setTimeout((()=>{e.apply(this,r)}),t)}return r.clear=()=>{clearTimeout(n)},r};const s=function(e,t){return()=>null};var c=n(67294),u=n.t(c,2);const d=function(e,t){return c.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function p(e){return e&&e.ownerDocument||document}const m=p;const h=function(e){return p(e).defaultView||window};n(87462);const f=function(e,t){return()=>null};const b=n(7960).Z;const g=n(16600).Z;let y=0;const k=u.useId;const v=function(e){if(void 0!==k){const t=k();return null!=e?e:t}return function(e){const[t,n]=c.useState(e),r=e||t;return c.useEffect((()=>{null==t&&(y+=1,n(`mui-${y}`))}),[t]),r}(e)};const w=function(e,t,n,r,o){return null};const N=function({controlled:e,default:t,name:n,state:r="value"}){const{current:o}=c.useRef(void 0!==e),[i,a]=c.useState(t);return[o?e:i,c.useCallback((e=>{o||a(e)}),[])]};var x=n(66875),C=n(78155),Z=n(51625);const T={configure:e=>{console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),r.Z.configure(e)}}},9285:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r,o=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}const a=e=>{let{title:t,titleId:n,...a}=e;return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,r||(r=o.createElement("path",{d:"m7.05 7.05 9.9 9.9M7.05 16.95l9.9-9.9",stroke:"#7C7FE3",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}},92792:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r,o=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}const a=e=>{let{title:t,titleId:n,...a}=e;return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,r||(r=o.createElement("path",{d:"M3 6h18M19 6v13a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",stroke:"#7C7FE3",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}},55100:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r,o=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}const a=e=>{let{title:t,titleId:n,...a}=e;return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,r||(r=o.createElement("path",{d:"M12 20h9M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4L16.5 3.5Z",stroke:"#7C7FE3",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}},25426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r,o,i=n(67294);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}const l=e=>{let{title:t,titleId:n,...l}=e;return i.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none","aria-labelledby":n},l),t?i.createElement("title",{id:n},t):null,r||(r=i.createElement("path",{d:"M3 8.248v11.934a.818.818 0 0 0 .818.818h16.364a.819.819 0 0 0 .818-.818V3.818A.818.818 0 0 0 20.182 3H8.248a.818.818 0 0 0-.578.24L3.24 7.67a.818.818 0 0 0-.24.578Z",stroke:"#7C7FE3",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),o||(o=i.createElement("path",{d:"M12 17.729a3.273 3.273 0 1 0 0-6.545 3.273 3.273 0 0 0 0 6.545ZM7.909 7.91h8.181a.818.818 0 0 0 .819-.82V3",stroke:"#7C7FE3",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}},8623:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>w,contentTitle:()=>k,default:()=>C,frontMatter:()=>y,metadata:()=>v,toc:()=>N});var r=n(3905),o=n(78901),i=n(55100),a=n(92792),l=n(25426),s=n(98437),c=n(9285),u=Object.defineProperty,d=Object.defineProperties,p=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,b=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&b(e,n,t[n]);if(m)for(var n of m(t))f.call(t,n)&&b(e,n,t[n]);return e};const y={id:"security-roles",title:"Roles",sidebar_label:"Roles"},k=void 0,v={unversionedId:"security/clients/security-roles",id:"version-3.0/security/clients/security-roles",title:"Roles",description:"This section describes how to manage roles and ACLs (Access Control Lists). A role contains a number of ACLs,",source:"@site/mosquitto_versioned_docs/version-3.0/security/clients/roles.md",sourceDirName:"security/clients",slug:"/security/clients/security-roles",permalink:"/mosquitto/3.0/security/clients/security-roles",draft:!1,tags:[],version:"3.0",frontMatter:{id:"security-roles",title:"Roles",sidebar_label:"Roles"},sidebar:"someSidebar",previous:{title:"Groups",permalink:"/mosquitto/3.0/security/clients/security-groups"},next:{title:"Force Username",permalink:"/mosquitto/3.0/security/clients/security-username"}},w={},N=[{value:"Roles Overview",id:"roles-overview",level:2},{value:"Create roles",id:"create-roles",level:2},{value:"Modifying or deleting a role.",id:"modifying-or-deleting-a-role",level:2},{value:"Role ACLs",id:"role-acls",level:2},{value:"Configuring default access control",id:"configuring-default-access-control",level:2}],x={toc:N};function C(e){var t,u=e,{components:b}=u,y=((e,t)=>{var n={};for(var r in e)h.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&m)for(var r of m(e))t.indexOf(r)<0&&f.call(e,r)&&(n[r]=e[r]);return n})(u,["components"]);return(0,r.kt)("wrapper",(t=g(g({},x),y),d(t,p({components:b,mdxType:"MDXLayout"}))),(0,r.kt)(o.Z,{version:"2.0",mdxType:"SinceVersion"}),(0,r.kt)("p",null,"This section describes how to manage roles and ACLs (Access Control Lists). A role contains a number of ACLs,\nwhich either specifically allow or deny an action. Add as many ACLs as you need to a role."),(0,r.kt)("p",null,"Roles are part of the ",(0,r.kt)("a",g({parentName:"p"},{href:"/mosquitto/3.0/glossary#Dynamic-Security"}),"dynamic security")," of Mosquitto.\nSee ",(0,r.kt)("a",g({parentName:"p"},{href:"/mosquitto/3.0/security/mosquitto/dynamic-security"}),"here")," for\na detailed description of the concepts of dynamic security."),(0,r.kt)("admonition",g({},{type:"info"}),(0,r.kt)("p",{parentName:"admonition"},"The dynamic security feature is available since version 2.0 of Eclipse Mosquitto. If you are still using version 1.6,\nsee ",(0,r.kt)("a",g({parentName:"p"},{href:"https://mosquitto.org/documentation/migrating-to-2-0/"}),"this guide")," on how to migrate.")),(0,r.kt)("p",null,'First navigate to "Client Roles" within the MQTT Platform navigation. Then the role overview page is opened.'),(0,r.kt)("h2",g({},{id:"roles-overview"}),"Roles Overview"),(0,r.kt)("p",null,"The roles overview lists all roles showing their name and description. Here you can also add, edit or delete roles. For\neach role you can edit the Access Control Lists."),(0,r.kt)("p",null,"Following a table with the default roles:"),(0,r.kt)("img",{className:"docimagemb",src:n(22983).Z,width:"100%"}),(0,r.kt)("p",null,"The Access Control List for a role can be viewed by clicking in one the arrow symbol left to the role name.\nAfter the arrow button has been clicked, you can view the table of defined access restrictions."),(0,r.kt)("img",{className:"docimagemb",src:n(46580).Z,width:"100%"}),(0,r.kt)("h2",g({},{id:"create-roles"}),"Create roles"),(0,r.kt)("p",null,'Create a role by clicking the "Add Role" Button at the top right. The new role is displayed in the top row of the table. Now you can add the following properties:'),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Name"),": Enter a unique name for the role"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Description"),": Enter an optional description for the role to describe the purpose of the role")),(0,r.kt)("p",null,"When you are done, save the role by clicking on the save button. If you do not want to save the role, click on cancel\nand the role will not be created."),(0,r.kt)("p",null,"After saving the new role, the ACL for the role is automatically opened. Now you can add access restrictions or\npermissions. This will be described in detail below."),(0,r.kt)("h2",g({},{id:"modifying-or-deleting-a-role"}),"Modifying or deleting a role."),(0,r.kt)("p",null,"In the actions columns, you have the following options, when you are not in edit mode:"),(0,r.kt)(s.Z,{mdxType:"PlatformIcon"},(0,r.kt)(i.Z,{sx:{border:"1px solid grey"},mdxType:"EditIcon"})," To edit the properties of the role."),(0,r.kt)(s.Z,{marginBottom:"20px",mdxType:"PlatformIcon"},(0,r.kt)(a.Z,{mdxType:"DeleteIcon"})," To delete the role."),(0,r.kt)("p",null,'Click on the "Edit" button in to change the properties, which are explained above. If you are in edit mode, you have the following options:'),(0,r.kt)(s.Z,{mdxType:"PlatformIcon"},(0,r.kt)(l.Z,{mdxType:"SaveIcon"})," To save your changes to the role properties."),(0,r.kt)(s.Z,{marginBottom:"20px",mdxType:"PlatformIcon"},(0,r.kt)(c.Z,{mdxType:"CancelIcon"})," To cancel your changes to the role properties."),(0,r.kt)("h2",g({},{id:"role-acls"}),"Role ACLs"),(0,r.kt)("p",null,'Role Acls can be viewed and hidden by clicking on the arrow button left to the name of the role. A table with the existing entries is shown. Click on "Add Access Control" to create a new permission or restriction. The following settings can be defined for an entry: '),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Type"),": Select from one of the following ACL types:"),(0,r.kt)("table",{parentName:"li"},(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",g({parentName:"tr"},{align:null}),"Type"),(0,r.kt)("th",g({parentName:"tr"},{align:null}),"Usage"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",g({parentName:"tr"},{align:null}),"publishClientSend"),(0,r.kt)("td",g({parentName:"tr"},{align:null}),"Restrict the topics this client is allowed to use when publishing to the broker")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",g({parentName:"tr"},{align:null}),"publishClientReceive"),(0,r.kt)("td",g({parentName:"tr"},{align:null}),"Restrict the topics this client is allowed to use when receiving published messages from the broker")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",g({parentName:"tr"},{align:null}),"subscribeLiteral"),(0,r.kt)("td",g({parentName:"tr"},{align:null}),"Restrict the exact topic filters that this client is allowed to subscribe to. Setting to ",(0,r.kt)("inlineCode",{parentName:"td"},"#")," would mean the client cannot subscribe to the ",(0,r.kt)("inlineCode",{parentName:"td"},"#")," topic, but could subscribe to ",(0,r.kt)("inlineCode",{parentName:"td"},"test/topic"),", for example.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",g({parentName:"tr"},{align:null}),"subscribePattern"),(0,r.kt)("td",g({parentName:"tr"},{align:null}),"Restrict a range of topic filters that this client is allowed to subscribe to.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",g({parentName:"tr"},{align:null}),"unsubscribeLiteral"),(0,r.kt)("td",g({parentName:"tr"},{align:null}),"Restrict the exact topic filters that this client is allowed to unsubscribe from. Setting to ",(0,r.kt)("inlineCode",{parentName:"td"},"#")," would mean the client cannot unsubscribe from the ",(0,r.kt)("inlineCode",{parentName:"td"},"#")," topic, but could unsubscribe from ",(0,r.kt)("inlineCode",{parentName:"td"},"test/topic"),", for example.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",g({parentName:"tr"},{align:null}),"unsubscribePattern"),(0,r.kt)("td",g({parentName:"tr"},{align:null}),"Restrict a range of topic filters that this client is allowed to unsubscribe from.")))))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Topic"),": Enter the topic, that you want the settings to be applied to."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Priority"),": Enter the priority. The meaning is described here : ",(0,r.kt)("a",g({parentName:"li"},{href:"/mosquitto/3.0/security/mosquitto/dynamic-security#priorities"}),"priority"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Allow"),": Decide whether to allow or deny the setting.")),(0,r.kt)("h2",g({},{id:"configuring-default-access-control"}),"Configuring default access control"),(0,r.kt)("p",null,"The Default ACL Access setting allows you to specify the default permission that will be applied if no explicit rule (\neither allow or deny) has been defined for a particular action. It is essentially a fallback mechanism that decides what\nto do when there are no role-based permissions matching the request. To edit the default access control click on the button above the role overview table."),(0,r.kt)("p",null,"The initial configuration sets the default ACL type behaviors to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"publishClientSend"),": deny"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"publishClientReceive"),": allow"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"subscribe"),": deny"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"unsubscribe"),": allow")),(0,r.kt)("p",null,"Then the following table is displayed, where you can define the default settings:"),(0,r.kt)("img",{className:"docimagemb",src:n(91141).Z,width:"100%"}))}C.isMDXComponent=!0},98437:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(87462),o=n(63366),i=n(67294),a=n(86010),l=n(82962),s=n(86523),c=n(59766),u=n(85578);const d=["sx"];function p(e){const{sx:t}=e,n=(0,o.Z)(e,d),{systemProps:i,otherProps:a}=(e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((n=>{u.Gc[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t})(n);let l;return l=Array.isArray(t)?[i,...t]:"function"==typeof t?(...e)=>{const n=t(...e);return(0,c.P)(n)?(0,r.Z)({},i,n):i}:(0,r.Z)({},i,t),(0,r.Z)({},a,{sx:l})}var m=n(11938),h=n(85893);const f=["className","component"];var b=n(37078);const g=function(e={}){const{defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:c,styleFunctionSx:u=s.Z}=e,d=(0,l.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(u);return i.forwardRef((function(e,i){const l=(0,m.Z)(t),s=p(e),{className:u,component:b="div"}=s,g=(0,o.Z)(s,f);return(0,h.jsx)(d,(0,r.Z)({as:b,ref:i,className:(0,a.Z)(u,c?c(n):n),theme:l},g))}))}({defaultTheme:(0,n(34102).Z)(),defaultClassName:"MuiBox-root",generateClassName:b.Z.generate}),y=g;function k({children:e,marginBottom:t="10px"}){return i.createElement(y,{sx:{margin:`10px 10px ${t} 10px`,gap:"10px",display:"flex",alignItems:"center"}},i.createElement(y,{sx:{display:"flex",border:"1px solid lightgrey",p:"3px"}},e[0]),e[1])}},78901:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),o=n(39082),i=n(13328);function a({version:e}){return e?r.createElement(o.Z,{sx:{margin:"0px 5px 5px 10px"},color:"info",size:"small",icon:r.createElement(i.Z,{size:"small"}),label:`${e}`}):r.createElement(r.Fragment,null)}},22983:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"assets/images/roles-116191c69e2c4882d2aa85bd7a793e8b.png"},91141:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"assets/images/roles_default-35842106557d04f02718735288588c30.png"},46580:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"assets/images/roles_with_acl-8b119e202eaac5e7c2e4566c19fb0938.png"},64836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);