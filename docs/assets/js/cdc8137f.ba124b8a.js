"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[96626],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),m=p(n),d=i,f=m["".concat(s,".").concat(d)]||m[d]||c[d]||a;return n?r.createElement(f,o(o({ref:t},u),{},{components:n})):r.createElement(f,o({ref:t},u))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var p=2;p<a;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},26741:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>d,default:()=>g,frontMatter:()=>m,metadata:()=>f,toc:()=>T});var r=n(3905),i=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&u(e,n,t[n]);if(l)for(var n of l(t))p.call(t,n)&&u(e,n,t[n]);return e};const m={id:"mc-https",title:"HTTPS, TLS termination",sidebar_label:"HTTPS, TLS termination \u2b50"},d=void 0,f={unversionedId:"mc-https",id:"version-2.5/mc-https",title:"HTTPS, TLS termination",description:"This page describes how to use the HTTPS (SSL/TLS Termination) Feature, which is part of the Security Plugin that is provided by the Management Center for the Pro Edition of Eclipse Mosquitto.",source:"@site/management-center_versioned_docs/version-2.5/https.md",sourceDirName:".",slug:"/mc-https",permalink:"/management-center/mc-https",draft:!1,tags:[],version:"2.5",frontMatter:{id:"mc-https",title:"HTTPS, TLS termination",sidebar_label:"HTTPS, TLS termination \u2b50"},sidebar:"someSidebar",previous:{title:"Monitoring REST API \u2b50",permalink:"/management-center/mc-monitoring-rest-api"},next:{title:"Single Sign-On \u2b50",permalink:"/management-center/mc-sso"}},h={},T=[{value:"HTTPS (SSL/TLS Termination) Feature Overview \u2b50",id:"https-ssltls-termination-feature-overview-",level:2},{value:"Enable HTTPS Plugin",id:"enable-https-plugin",level:2},{value:"HTTPS Environmental variables",id:"https-environmental-variables",level:2}],v={toc:T};function g(e){var t,n=e,{components:i}=n,u=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(n,["components"]);return(0,r.kt)("wrapper",(t=c(c({},v),u),a(t,o({components:i,mdxType:"MDXLayout"}))),(0,r.kt)("p",null,"This page describes how to use the ",(0,r.kt)("strong",{parentName:"p"},"HTTPS (SSL/TLS Termination) Feature"),", which is part of the ",(0,r.kt)("strong",{parentName:"p"},"Security Plugin")," that is provided by the Management Center for the Pro Edition of Eclipse Mosquitto."),(0,r.kt)("admonition",c({},{type:"info"}),(0,r.kt)("p",{parentName:"admonition"},"We recommend using a setup with a reverse proxy that handles TLS termination, but if your use case requires terminating TLS on the MMC side, this can now be done using this feature.")),(0,r.kt)("h2",c({},{id:"https-ssltls-termination-feature-overview-"}),"HTTPS (SSL/TLS Termination) Feature Overview \u2b50"),(0,r.kt)("p",null,"TLS Termination on the MMC side allows you to use HTTPs protocol without the need to set up a reverse proxy in front of the MMC."),(0,r.kt)("h2",c({},{id:"enable-https-plugin"}),"Enable HTTPS Plugin"),(0,r.kt)("p",null,"To enable the plugin, you should make sure you are using Pro Edition of Mosquitto and that you have the User Management ",(0,r.kt)("inlineCode",{parentName:"p"},"security")," feature enabled in your license. Also, ensure that your config file (specified with ",(0,r.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_PROXY_CONFIG")," environmental variable or by default saved in ",(0,r.kt)("inlineCode",{parentName:"p"},"management-center/config/config.json"),") contains the following entry inside of the ",(0,r.kt)("inlineCode",{parentName:"p"},"plugins")," array:"),(0,r.kt)("pre",null,(0,r.kt)("code",c({parentName:"pre"},{className:"language-json"}),'    {\n      "name": "https"\n    }\n')),(0,r.kt)("p",null,"Also, you need to specify the following environmental variables for HTTPS configuration:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"CEDALO_MC_PLUGIN_HTTPS_KEY_PATH")," (required)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"CEDALO_MC_PLUGIN_HTTPS_CERT_PATH")," (required)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"CEDALO_MC_PLUGIN_HTTPS_CA_PATH")," (optional)")),(0,r.kt)("p",null,"You can read more about these variables below."),(0,r.kt)("p",null,"On start-up, the Management Center will print a message that the ",(0,r.kt)("inlineCode",{parentName:"p"},"https")," plugin is enabled and loaded into the console:"),(0,r.kt)("pre",null,(0,r.kt)("code",c({parentName:"pre"},{}),'Loaded plugin: "cedalo_https" (Cedalo MMC SSL/TLS termination)\n')),(0,r.kt)("p",null,"You will also see the messages like:"),(0,r.kt)("pre",null,(0,r.kt)("code",c({parentName:"pre"},{}),"Starting Mosquitto proxy server at https://localhost:443\n")),(0,r.kt)("p",null,"and"),(0,r.kt)("pre",null,(0,r.kt)("code",c({parentName:"pre"},{}),"Started Mosquitto proxy server at https://localhost:443\n")),(0,r.kt)("admonition",c({},{type:"info"}),(0,r.kt)("p",{parentName:"admonition"},"When using HTTPS, we recommend using the standard HTTPs 443 port. To configure it, change the value of the ",(0,r.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_PROXY_PORT")," environmental variable")),(0,r.kt)("h2",c({},{id:"https-environmental-variables"}),"HTTPS Environmental variables"),(0,r.kt)("p",null,"More information on the HTTPS configuration variables:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"CEDALO_MC_PLUGIN_HTTPS_KEY_PATH"),"- path to server's private key file (required)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"CEDALO_MC_PLUGIN_HTTPS_CERT_PATH"),"- path to server's certificate (required)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"CEDALO_MC_PLUGIN_HTTPS_CA_PATH"),"- path to CA certificate (optional)")),(0,r.kt)("admonition",c({},{type:"info"}),(0,r.kt)("p",{parentName:"admonition"},"Note that if the HTTPS plugin is enabled in the config file but encounters an error, which in most cases is due to misconfiguration, then the MMC will not be started and will shut down.")))}g.isMDXComponent=!0}}]);