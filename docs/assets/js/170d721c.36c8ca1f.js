"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[13655],{83166:(t,e,n)=>{var r=n(64836);e.Z=void 0;var a=r(n(64938)),i=n(85893),o=(0,a.default)((0,i.jsx)("path",{d:"M12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm-1.06 13.54L7.4 12l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41-5.64 5.66z"}),"GppGood");e.Z=o},155:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>g,contentTitle:()=>k,default:()=>h,frontMatter:()=>u,metadata:()=>N,toc:()=>_});var r=n(3905),a=n(49044),i=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,s=(t,e,n)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c=(t,e)=>{for(var n in e||(e={}))d.call(e,n)&&s(t,n,e[n]);if(p)for(var n of p(e))m.call(e,n)&&s(t,n,e[n]);return t};const u={id:"mosquitto-metrics-exporter",title:"Mosquitto Metrics Exporter",sidebar_label:"Metrics Exporter"},k=void 0,N={unversionedId:"broker/Mosquitto Manual/mosquitto-metrics-exporter",id:"version-2.9/broker/Mosquitto Manual/mosquitto-metrics-exporter",title:"Mosquitto Metrics Exporter",description:"Pro Mosquitto provides a Prometheus exporter and a InfluxDB exporter which both expose the metrics available in the core broker and any metrics provided by other plugins.",source:"@site/mosquitto_versioned_docs/version-2.9/broker/Mosquitto Manual/metrics-exporter.md",sourceDirName:"broker/Mosquitto Manual",slug:"/broker/Mosquitto Manual/mosquitto-metrics-exporter",permalink:"/mosquitto/broker/Mosquitto Manual/mosquitto-metrics-exporter",draft:!1,tags:[],version:"2.9",frontMatter:{id:"mosquitto-metrics-exporter",title:"Mosquitto Metrics Exporter",sidebar_label:"Metrics Exporter"},sidebar:"someSidebar",previous:{title:"Snowflake Bridge",permalink:"/mosquitto/broker/Mosquitto Manual/Bridges/mosquitto-snowflake-bridge"},next:{title:"Audit Trail",permalink:"/mosquitto/broker/Mosquitto Manual/mosquitto-audit-trail"}},g={},_=[{value:"Plugin configuration",id:"plugin-configuration",level:2},{value:"Prometheus Metrics Exporter",id:"prometheus-metrics-exporter",level:3},{value:"InfluxDB Metrics Exporter",id:"influxdb-metrics-exporter",level:3},{value:"Connection and authentication",id:"connection-and-authentication",level:4},{value:"Influx 2.x",id:"influx-2x",level:5},{value:"Influx 1.6/8",id:"influx-168",level:5},{value:"Basic Authentication",id:"basic-authentication",level:5},{value:"Optional configuration (applies to both exporters)",id:"optional-configuration-applies-to-both-exporters",level:3},{value:"Available metrics",id:"available-metrics",level:2},{value:"Additional broker process related metrics",id:"additional-broker-process-related-metrics",level:2}],b={toc:_};function h(t){var e,n=t,{components:i}=n,s=((t,e)=>{var n={};for(var r in t)d.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&p)for(var r of p(t))e.indexOf(r)<0&&m.call(t,r)&&(n[r]=t[r]);return n})(n,["components"]);return(0,r.kt)("wrapper",(e=c(c({},b),s),o(e,l({components:i,mdxType:"MDXLayout"}))),(0,r.kt)(a.Z,{mdxType:"PremiumFeature"}),(0,r.kt)("p",null,"Pro Mosquitto provides a ",(0,r.kt)("a",c({parentName:"p"},{href:"#prometheus-metrics-exporter"}),"Prometheus exporter")," and a ",(0,r.kt)("a",c({parentName:"p"},{href:"#influxdb-metrics-exporter"}),"InfluxDB exporter")," which both expose the ",(0,r.kt)("a",c({parentName:"p"},{href:"#available-metrics"}),"metrics available")," in the core broker and any metrics provided by other plugins."),(0,r.kt)("h2",c({},{id:"plugin-configuration"}),"Plugin configuration"),(0,r.kt)("h3",c({},{id:"prometheus-metrics-exporter"}),"Prometheus Metrics Exporter"),(0,r.kt)("p",null,"To enable the Prometheus Metrics Exporter plugin it must be loaded into the broker with, by adding the\nfollowing to your ",(0,r.kt)("inlineCode",{parentName:"p"},"mosquitto.conf"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",c({parentName:"pre"},{className:"language-aconf"}),"global_plugin /usr/lib/cedalo_metrics_prometheus.so\n")),(0,r.kt)("p",null,"The plugin has some options which can be configured."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"bind_address")," : by default, the exporter will listen on all available\nnetwork interfaces. You can bind it to a specific address using this option.\nFor example, ",(0,r.kt)("inlineCode",{parentName:"li"},"plugin_opt_bind_address 192.0.2.1")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"port")," : by default, the exporter will listen on port 8000. You can use\nanother port with this option. For example ",(0,r.kt)("inlineCode",{parentName:"li"},"plugin_opt_port 8100")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"update_interval")," : metrics stored in the exporter are updated on a set\ninterval, by default 15 seconds. It is important to match this to the scrape\ninterval of your Prometheus setup. If you are using a 60 second scrape\ninterval, then use ",(0,r.kt)("inlineCode",{parentName:"li"},"plugin_opt_update_interval 60"))),(0,r.kt)("p",null,"A sample configuration could look like:"),(0,r.kt)("pre",null,(0,r.kt)("code",c({parentName:"pre"},{className:"language-aconf"}),"global_plugin /usr/lib/cedalo_metrics_prometheus.so\nplugin_opt_update_interval 60\nplugin_opt_bind_address 192.0.2.1\nplugin_opt_port 8100\n")),(0,r.kt)("h3",c({},{id:"influxdb-metrics-exporter"}),"InfluxDB Metrics Exporter"),(0,r.kt)("p",null,"To enable the InfluxDB Metrics Exporter plugin it must be loaded into the broker with, by adding the\nfollowing to your ",(0,r.kt)("inlineCode",{parentName:"p"},"mosquitto.conf"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",c({parentName:"pre"},{className:"language-aconf"}),"global_plugin /usr/lib/cedalo_metrics_influxdb.so\n")),(0,r.kt)("h4",c({},{id:"connection-and-authentication"}),"Connection and authentication"),(0,r.kt)("p",null,"The InfluxDB exporter can operate with InfluxDB servers ",(0,r.kt)("inlineCode",{parentName:"p"},"2.0")," upwards and ",(0,r.kt)("inlineCode",{parentName:"p"},"1.x"),". These are configured differently to one another."),(0,r.kt)("h5",c({},{id:"influx-2x"}),"Influx 2.x"),(0,r.kt)("p",null,"To use InfluxDB 2.0 or above, you must configure a host, organization, bucket, and authentication token:"),(0,r.kt)("pre",null,(0,r.kt)("code",c({parentName:"pre"},{}),"plugin_opt_host https://example.hoster.cloud2.influxdata.com\nplugin_opt_organisation my-organisation\nplugin_opt_bucket my-bucket\nplugin_opt_token <token>\n")),(0,r.kt)("p",null,"If you are using InfluxDB cloud, these values should all be easily discoverable. The plugin_opt_token option can contain either your literal authentication token, or the special value env. If set to env, the token will be read from the INFLUXDB_TOKEN environment variable instead."),(0,r.kt)("h5",c({},{id:"influx-168"}),"Influx 1.6/8"),(0,r.kt)("p",null,"To use InfluxDB 1.8 or 1.6, you must configure at least a hostname and database:"),(0,r.kt)("pre",null,(0,r.kt)("code",c({parentName:"pre"},{}),"global_plugin /usr/lib/cedalo_metrics_influxdb.so\nplugin_opt_hostname influxdb.example.com\nplugin_opt_database my-database\nplugin_opt_port 8086\nplugin_opt_use_tls true\n")),(0,r.kt)("h5",c({},{id:"basic-authentication"}),"Basic Authentication"),(0,r.kt)("p",null,"Basic HTTP authentication is supported for both connection modes by specifing a username and password:"),(0,r.kt)("pre",null,(0,r.kt)("code",c({parentName:"pre"},{}),"...\nplugin_opt_username my-username\nplugin_opt_password my-password\n")),(0,r.kt)("h1",c({},{id:"other-options"}),"Other options"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"plugin_opt_hostlabel")," - use a specific label for this host when sending data. If not specified, the local hostname will be used.\n",(0,r.kt)("inlineCode",{parentName:"p"},"plugin_opt_measurement")," - the measurement string to use when sending data. If not specified, mosquitto will be used.\n",(0,r.kt)("inlineCode",{parentName:"p"},"plugin_opt_cafile")," - a path to an x509 encoded certificate that should be trusted for making encrypted connections to the server.\n",(0,r.kt)("inlineCode",{parentName:"p"},"plugin_opt_update_interval")," - the interval between metrics submissions, in seconds."),(0,r.kt)("p",null,"A sample configuration could look like:"),(0,r.kt)("pre",null,(0,r.kt)("code",c({parentName:"pre"},{className:"language-aconf"}),"global_plugin /usr/lib/cedalo_metrics_influxdb.so\nplugin_opt_update_interval 60\nplugin_opt_hostname influxdb.example.com\nplugin_opt_port 8100\nplugin_opt_hostlabel broker1\nplugin_opt_database edge_data\nplugin_opt_use_tls true\nplugin_opt_username username\nplugin_opt_password password\n")),(0,r.kt)("h3",c({},{id:"optional-configuration-applies-to-both-exporters"}),"Optional configuration (applies to both exporters)"),(0,r.kt)("p",null,"You may also consider turning off the $SYS updates from the broker:"),(0,r.kt)("pre",null,(0,r.kt)("code",c({parentName:"pre"},{className:"language-aconf"}),"sys_interval 0\n")),(0,r.kt)("h2",c({},{id:"available-metrics"}),"Available metrics"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",c({parentName:"tr"},{align:"center"}),(0,r.kt)("strong",{parentName:"th"},"label")),(0,r.kt)("th",c({parentName:"tr"},{align:"center"}),(0,r.kt)("strong",{parentName:"th"},"metric type")),(0,r.kt)("th",c({parentName:"tr"},{align:"center"}),(0,r.kt)("strong",{parentName:"th"},"description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_sessions")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Current client sessions (includes offline clients)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_clients_offline")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Current offline client count")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_clients_online")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Current online client count")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_clients_expired")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Total clients expired due to keepalive")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_subscriptions")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Current subscription count")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_shared_subscriptions")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Current shared subscription count")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_retained_messages")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Current retained message count")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_bytes_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Total bytes received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_bytes_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Total bytes sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_pub_bytes_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Total PUBLISH payload bytes received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_pub_bytes_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Total PUBLISH payload bytes sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_message_store_count")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Current stored message count")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_message_store_bytes")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Current stored message bytes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_out_packets")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Current queued outgoing packet count (includes offline clients)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_out_packet_bytes")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Current queued outgoing packet bytes (includes offline clients)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_socket_connections")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Total incoming connections")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_packets_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Total MQTT packets received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_packets_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Total MQTT packets sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_connect_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT CONNECT received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_connect_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT CONNECT sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_connack_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT CONNACK received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_connack_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT CONNACK sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_publish_dropped")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PUBLISH dropped")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_publish_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PUBLISH received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_publish_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PUBLISH sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_puback_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PUBACK received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_puback_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PUBACK sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_pubrec_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PUBREC received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_pubrec_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PUBREC sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_pubrel_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PUBREL received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_pubrel_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PUBREL sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_pubcomp_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PUBCOMP received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_pubcomp_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PUBCOMP sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_subscribe_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT SUBSCRIBE received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_subscribe_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT SUBSCRIBE sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_suback_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT SUBACK received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_suback_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT SUBACK sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_unsubscribe_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT UNSUBSCRIBE received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_unsubscribe_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT UNSUBSCRIBE sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_unsuback_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT UNSUBACK received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_unsuback_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT UNSUBACK sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_pingreq_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PINGREQ received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_pingreq_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PINGREQ sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_pingresp_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PINGRESP received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_pingresp_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT PINGRESP sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_disconnect_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT DISCONNECT received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_disconnect_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT DISCONNECT sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_auth_received")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT AUTH received")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_mqtt_auth_sent")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"MQTT AUTH sent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_basic_auth_success")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Successful username/password authentication attempts")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_basic_auth_fail")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Failed username/password authentication attempts")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_basic_auth_error")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Errored username/password authentication attempts")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_extended_auth_success")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Successful extended authentication attempts")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_extended_auth_fail")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Failed extended authentication attempts")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"mosquitto_extended_auth_error")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Counter"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Errored extended authentication attempts")))),(0,r.kt)("h2",c({},{id:"additional-broker-process-related-metrics"}),"Additional broker process related metrics"),(0,r.kt)("p",null,"The broker process related metrics are exported by the ",(0,r.kt)("a",c({parentName:"p"},{href:"#prometheus-metrics-exporter"}),"Prometheus exporter")," only."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",c({parentName:"tr"},{align:"center"}),(0,r.kt)("strong",{parentName:"th"},"label")),(0,r.kt)("th",c({parentName:"tr"},{align:"center"}),(0,r.kt)("strong",{parentName:"th"},"metric type")),(0,r.kt)("th",c({parentName:"tr"},{align:"center"}),(0,r.kt)("strong",{parentName:"th"},"description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"process_max_fds")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Maximum number of allowed open file descriptors (including network sockets).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"process_virtual_memory_max_bytes")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Maximum amount of virtual memory available in bytes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"process_cpu_seconds_total")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Total user and system CPU time spent in seconds.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"process_virtual_memory_bytes")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Virtual memory size in bytes.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"process_resident_memory_bytes")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Resident memory size in bytes.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"process_start_time_seconds")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Start time of the process since unix epoch in seconds.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),(0,r.kt)("inlineCode",{parentName:"td"},"process_open_fds")),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Gauge"),(0,r.kt)("td",c({parentName:"tr"},{align:"center"}),"Number of open file descriptors (including network sockets).")))))}h.isMDXComponent=!0},49044:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(67294),a=n(39082),i=n(62659),o=n(83166);function l({inline:t}){return r.createElement(a.Z,{sx:{margin:t?"0px 5px":"5px",height:t?"22px":void 0,color:"#ffffff",backgroundColor:i.Z[500]},size:"small",icon:r.createElement(o.Z,{style:{color:"white"},size:"small"}),label:"Premium"})}}}]);