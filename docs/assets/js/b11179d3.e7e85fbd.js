(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[95830],{83166:(e,t,a)=>{"use strict";var r=a(64836);t.Z=void 0;var s=r(a(64938)),n=a(85893),i=(0,s.default)((0,n.jsx)("path",{d:"M12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm-1.06 13.54L7.4 12l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41-5.64 5.66z"}),"GppGood");t.Z=i},13328:(e,t,a)=>{"use strict";var r=a(64836);t.Z=void 0;var s=r(a(64938)),n=a(85893),i=(0,s.default)((0,n.jsx)("path",{d:"m23 12-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"}),"NewReleases");t.Z=i},64938:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=a(22236)},22236:(e,t,a)=>{"use strict";a.r(t),a.d(t,{capitalize:()=>s.Z,createChainedFunction:()=>n,createSvgIcon:()=>i.Z,debounce:()=>o,deprecatedPropType:()=>l,isMuiElement:()=>u,ownerDocument:()=>d,ownerWindow:()=>h,requirePropFactory:()=>g,setRef:()=>f,unstable_ClassNameGenerator:()=>Z,unstable_useEnhancedEffect:()=>v,unstable_useId:()=>w,unsupportedProp:()=>y,useControlled:()=>N,useEventCallback:()=>T.Z,useForkRef:()=>x.Z,useIsFocusVisible:()=>S.Z});var r=a(37078),s=a(36622);const n=function(...e){return e.reduce(((e,t)=>null==t?e:function(...a){e.apply(this,a),t.apply(this,a)}),(()=>{}))};var i=a(58175);const o=function(e,t=166){let a;function r(...r){clearTimeout(a),a=setTimeout((()=>{e.apply(this,r)}),t)}return r.clear=()=>{clearTimeout(a)},r};const l=function(e,t){return()=>null};var m=a(67294),c=a.t(m,2);const u=function(e,t){return m.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function p(e){return e&&e.ownerDocument||document}const d=p;const h=function(e){return p(e).defaultView||window};a(87462);const g=function(e,t){return()=>null};const f=a(7960).Z;const v=a(16600).Z;let k=0;const b=c.useId;const w=function(e){if(void 0!==b){const t=b();return null!=e?e:t}return function(e){const[t,a]=m.useState(e),r=e||t;return m.useEffect((()=>{null==t&&(k+=1,a(`mui-${k}`))}),[t]),r}(e)};const y=function(e,t,a,r,s){return null};const N=function({controlled:e,default:t,name:a,state:r="value"}){const{current:s}=m.useRef(void 0!==e),[n,i]=m.useState(t);return[s?e:n,m.useCallback((e=>{s||i(e)}),[])]};var T=a(66875),x=a(78155),S=a(51625);const Z={configure:e=>{console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),r.Z.configure(e)}}},71011:(e,t,a)=>{"use strict";a.r(t),a.d(t,{assets:()=>v,contentTitle:()=>g,default:()=>w,frontMatter:()=>h,metadata:()=>f,toc:()=>k});var r=a(3905),s=a(78901),n=a(49044),i=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(e,t,a)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,d=(e,t)=>{for(var a in t||(t={}))c.call(t,a)&&p(e,a,t[a]);if(m)for(var a of m(t))u.call(t,a)&&p(e,a,t[a]);return e};const h={id:"mc-streams",title:"Streams",sidebar_label:"Streams"},g=void 0,f={unversionedId:"management-center/overview/configuration/mc-streams",id:"version-2.8/management-center/overview/configuration/mc-streams",title:"Streams",description:"The Stream Processing plugin allows the creation of topic streams in the Mosquitto broker. A topic stream receives",source:"@site/mosquitto_versioned_docs/version-2.8/management-center/overview/configuration/streams.md",sourceDirName:"management-center/overview/configuration",slug:"/management-center/overview/configuration/mc-streams",permalink:"/mosquitto/2.8/management-center/overview/configuration/mc-streams",draft:!1,tags:[],version:"2.8",frontMatter:{id:"mc-streams",title:"Streams",sidebar_label:"Streams"},sidebar:"someSidebar",previous:{title:"Roles",permalink:"/mosquitto/2.8/management-center/overview/configuration/mc-roles"},next:{title:"Terminal",permalink:"/mosquitto/2.8/management-center/overview/configuration/mc-terminal"}},v={},k=[{value:"Streams Overview",id:"streams-overview",level:2},{value:"Clear Stream Messages",id:"clear-stream-messages",level:3},{value:"Replay",id:"replay",level:3},{value:"Delete stream",id:"delete-stream",level:3},{value:"Create Stream",id:"create-stream",level:2},{value:"Edit Stream",id:"edit-stream",level:2},{value:"Time to Live (TTL)",id:"time-to-live-ttl",level:2}],b={toc:k};function w(e){var t,i=e,{components:p}=i,h=((e,t)=>{var a={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&m)for(var r of m(e))t.indexOf(r)<0&&u.call(e,r)&&(a[r]=e[r]);return a})(i,["components"]);return(0,r.kt)("wrapper",(t=d(d({},b),h),o(t,l({components:p,mdxType:"MDXLayout"}))),(0,r.kt)("span",null),(0,r.kt)(s.Z,{version:"2.5",mdxType:"SinceVersion"}),(0,r.kt)(n.Z,{mdxType:"PremiumFeature"}),(0,r.kt)("br",null),(0,r.kt)("br",null),(0,r.kt)("p",null,"The Stream Processing plugin allows the creation of topic streams in the Mosquitto broker. A topic stream receives\nall messages on a specified topic and can then perform the following tasks:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Republish messages on a different topic, with optional QoS and retain control"),(0,r.kt)("li",{parentName:"ul"},"Persist messages to disk, with the ability to replay messages in the future"),(0,r.kt)("li",{parentName:"ul"},"Process JSON payload to extract particular data values prior to republishing"),(0,r.kt)("li",{parentName:"ul"},"Apply aggregation functions to data prior to republishing/persisting"),(0,r.kt)("li",{parentName:"ul"},"Select which messages are processed/persisted based on data values in the payload")),(0,r.kt)("p",null,"Controlling the plugin is carried out with an MQTT topic based API. The Management Center provides a convenient\nfront end to access the API. To get more infos about the Stream Plugin & how to enable it see\nthe ",(0,r.kt)("a",d({parentName:"p"},{href:"/mosquitto/2.8/broker/Mosquitto%20Manual/mosquitto-streams"}),"Mosquitto Streams")," documentation."),(0,r.kt)("h2",d({},{id:"streams-overview"}),"Streams Overview"),(0,r.kt)("p",null,"The streams UI overview shows the list of defined streams and details like the name, description, source topic and\ntarget topic.\nYou can also modify the status of the stream and execute actions as described below. In the table below three samples\nstreams are defined."),(0,r.kt)("img",{className:"docimagemb",src:a(99235).Z,width:"100%"}),(0,r.kt)("p",null,"The following states can be changed:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Process:")," Process query as defined while editing the stream or disable processing."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Persist:")," Persist stream message to disk for replay or not"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Active:")," If active, stream is enabled, otherwise it will not execute")),(0,r.kt)("p",null,"The following actions are available:"),(0,r.kt)("h3",d({},{id:"clear-stream-messages"}),"Clear Stream Messages"),(0,r.kt)("p",null,"Clears out all persisted streaming data from disc."),(0,r.kt)("h3",d({},{id:"replay"}),"Replay"),(0,r.kt)("p",null,'Replaying a stream means republishing its messages on a different topic. A single replay may be running for each\nstream at once. Replaying is only possible, if "persistence" is turned on. A dialog will open, where you can\nset the parameters for replay:'),(0,r.kt)("img",{className:"docimagemb",src:a(83296).Z,width:"60%"}),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Replay topic:")," The topic to play the replay to."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"gte/lte:"),' Optional. Use a UTC timestamp to specify a time interval of the replay. "gte" = Greater than or equal. "\nlte" = Less than or equal.'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Reverse:")," If active, the message stream will be replayed in reverse."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Limit:")," Optional. Limit the number of messages replayed. This number represents a maximum value and may not be\nreached if there are not enough messages persisted. A value of ",(0,r.kt)("inlineCode",{parentName:"li"},"-1"),", the default, means that no\nnumerical limit will be applied."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Speed:")," Optional. Change the speed at which the messages are replayed. This can be one of the strings ",(0,r.kt)("inlineCode",{parentName:"li"},'"original"'),"\nor ",(0,r.kt)("inlineCode",{parentName:"li"},'"fastest"'),", or a number indicating the factor. For example, a speed of ",(0,r.kt)("inlineCode",{parentName:"li"},"2.5")," means replay at 2.5x the original\nspeed.")),(0,r.kt)("h3",d({},{id:"delete-stream"}),"Delete stream"),(0,r.kt)("p",null,"Click to delete the stream from the server."),(0,r.kt)("h2",d({},{id:"create-stream"}),"Create Stream"),(0,r.kt)("p",null,'To create a stream, click on the "New Stream" Button and the following page will appear:'),(0,r.kt)("img",{className:"docimagemb",src:a(42693).Z,width:"100%"}),(0,r.kt)("p",null,"Here, the following properties can be defined:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Name:")," Name of the stream."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Source topic:")," The topic to be processed with this stream."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Target topic:")," The topic to forward the processed data to."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Target QoS:"),"  Quality of service of the target topic."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"TTL:")," ",(0,r.kt)("a",d({parentName:"li"},{href:"#time-to-live-ttl"}),"Time to live")," for persisted stream data."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Edit field:")," Field to specify the stream query. Leave empty to simply create a stream rerouting from source topic\nto target topic. The stream processing feature allows messages with JSON payloads to be modified\nbefore they are republished and/or persisted to disk. This is managed with a\nuser defined query that has similar concepts to a SQL statement.\nTo better understand the syntax of stream queries see the ",(0,r.kt)("a",d({parentName:"li"},{href:"/mosquitto/2.8/broker/Mosquitto%20Manual/mosquitto-streams"}),"Mosquitto Docs page"),".")),(0,r.kt)("h2",d({},{id:"edit-stream"}),"Edit Stream"),(0,r.kt)("p",null,"Editing a stream can be achieved by clicking on an existing stream. The following page will appear:"),(0,r.kt)("img",{className:"docimagemb",src:a(60363).Z,width:"100%"}),(0,r.kt)("p",null,'Click on "Edit" to change the settings.'),(0,r.kt)("p",null,"In addition to the properties described above, the following settings can be modified:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Process:")," If active, the query statement is utilized."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Persist:")," If active, stream data is persisted."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Active:")," If active, stream is enabled.")),(0,r.kt)("h2",d({},{id:"time-to-live-ttl"}),"Time to Live (TTL)"),(0,r.kt)("p",null,"When creating a new stream and enabling persistence, the Time to Live (TTL)\nproperty will be used, which allows the disk usage of streams to be limited.\nSetting TTL to 0 means that all messages received will be kept on disk forever,\nunless they are manually cleared. Setting TTL to a positive integer means that\nmessages will be removed from the persistence store in the future. TTL is\nmeasured in seconds, and guarantees that messages that are younger than that\nnumber of seconds will be kept in the database. Messages older than the TTL\ninterval are not immediately removed from the database: they can remain in the\ndatabase until at most twice the TTL interval before they are removed,\ndepending on when they were received."))}w.isMDXComponent=!0},49044:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(67294),s=a(39082),n=a(62659),i=a(83166);function o({inline:e}){return r.createElement(s.Z,{sx:{margin:e?"0px 5px":"0px 5px 5px 10px",height:e?"22px":void 0,color:"#ffffff",backgroundColor:n.Z[500]},size:"small",icon:r.createElement(i.Z,{style:{color:"white"},size:"small"}),label:"Premium"})}},78901:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(67294),s=a(39082),n=a(13328);function i({version:e}){return e?r.createElement(s.Z,{sx:{margin:"0px 5px 5px 10px"},color:"info",size:"small",icon:r.createElement(n.Z,{size:"small"}),label:`${e}`}):r.createElement(r.Fragment,null)}},60363:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const r=a.p+"assets/images/streamedit-59eee6d3e78ee752c53b5360c838da72.png"},42693:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const r=a.p+"assets/images/streamnew-5b468021c9897f70cb36441a43a6e874.png"},83296:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const r=a.p+"assets/images/streamreplay-9a0d2cc07357b37e0c64aa9cde49f12c.png"},99235:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const r=a.p+"assets/images/streams-8022f881dc435a8e7f76c3b329768c3a.png"},64836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);