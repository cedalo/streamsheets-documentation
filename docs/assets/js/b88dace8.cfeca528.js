"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[21100],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var i=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=i.createContext({}),s=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=s(e.components);return i.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),d=s(n),f=o,m=d["".concat(c,".").concat(f)]||d[f]||u[f]||r;return n?i.createElement(m,l(l({ref:t},p),{},{components:n})):i.createElement(m,l({ref:t},p))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=d;var a={};for(var c in t)hasOwnProperty.call(t,c)&&(a[c]=t[c]);a.originalType=e,a.mdxType="string"==typeof e?e:o,l[1]=a;for(var s=2;s<r;s++)l[s]=n[s];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},50543:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>f,default:()=>v,frontMatter:()=>d,metadata:()=>m,toc:()=>g});var i=n(3905),o=Object.defineProperty,r=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(a)for(var n of a(t))s.call(t,n)&&p(e,n,t[n]);return e};const d={id:"client-inspection",title:"Client Inspection",sidebar_label:"Client Inspection"},f=void 0,m={unversionedId:"monitoring/client-inspection",id:"version-3.0/monitoring/client-inspection",title:"Client Inspection",description:"The client inspection is part of the broker. It allows you to find out, which clients are or were connected to a broker",source:"@site/mosquitto_versioned_docs/version-3.0/monitoring/client-inspection.md",sourceDirName:"monitoring",slug:"/monitoring/client-inspection",permalink:"/mosquitto/3.0/monitoring/client-inspection",draft:!1,tags:[],version:"3.0",frontMatter:{id:"client-inspection",title:"Client Inspection",sidebar_label:"Client Inspection"},sidebar:"someSidebar",previous:{title:"Broker Insights",permalink:"/mosquitto/3.0/monitoring/broker-insights"},next:{title:"Topic Inspection",permalink:"/mosquitto/3.0/monitoring/topic-inspection"}},h={},g=[{value:"Plugin activation",id:"plugin-activation",level:2},{value:"Client Inspection",id:"client-inspection",level:3},{value:"Client Control",id:"client-control",level:3},{value:"Configuration",id:"configuration",level:2},{value:"View Client Infos in the Cedalo MQTT Platform",id:"view-client-infos-in-the-cedalo-mqtt-platform",level:2}],b={toc:g};function v(e){var t,o=e,{components:p}=o,d=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&s.call(e,i)&&(n[i]=e[i]);return n})(o,["components"]);return(0,i.kt)("wrapper",(t=u(u({},b),d),r(t,l({components:p,mdxType:"MDXLayout"}))),(0,i.kt)("p",null,"The client inspection is part of the broker. It allows you to find out, which clients are or were connected to a broker\nand get\nseveral metrics of and infos about the connected clients."),(0,i.kt)("p",null,"You need to activate Client Inspection before it can be used."),(0,i.kt)("h2",u({},{id:"plugin-activation"}),"Plugin activation"),(0,i.kt)("p",null,"To enable the plugin on the broker, add the following to the ",(0,i.kt)("inlineCode",{parentName:"p"},"mosquitto.conf")," file:"),(0,i.kt)("h3",u({},{id:"client-inspection"}),"Client Inspection"),(0,i.kt)("pre",null,(0,i.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"plugin /usr/lib/cedalo_inspect.so\nplugin_opt_disconnected_clients_ttl 300\n")),(0,i.kt)("h3",u({},{id:"client-control"}),"Client Control"),(0,i.kt)("pre",null,(0,i.kt)("code",u({parentName:"pre"},{className:"language-bash"}),"plugin /usr/lib/cedalo_client_control.so\n")),(0,i.kt)("h2",u({},{id:"configuration"}),"Configuration"),(0,i.kt)("p",null,"To interact with the plugin use the available MQTT API for ",(0,i.kt)("a",u({parentName:"p"},{href:"/mosquitto/3.0/api/mqttapis/client-inspect"}),"Inspection"),"\nand ",(0,i.kt)("a",u({parentName:"p"},{href:"/mosquitto/3.0/api/mqttapis/client-control"}),"Inspection"),".\nMake sure the interacting client has enough rights to publish to the needed topics or use the Platform UI."),(0,i.kt)("h2",u({},{id:"view-client-infos-in-the-cedalo-mqtt-platform"}),"View Client Infos in the Cedalo MQTT Platform"),(0,i.kt)("p",null,'The client connection of the Cedalo MQTT Platform page gives you a visual overview of all recently connected clients. To\nview\nthese, navigate to the project of\nthe broker and then to the broker management. Here you select "Connected Clients" from the navigation. Then the\nConnected Clients page is opened displaying a table with all connected clients like below.'),(0,i.kt)("img",{className:"docimagemb",src:n(21476).Z,width:"100%"}),(0,i.kt)("p",null,"For each connected client, the following infos are displayed."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The Client ID. The client id is either provided, when the client is explicitly defined or created automatically."),(0,i.kt)("li",{parentName:"ul"},"Name of the client."),(0,i.kt)("li",{parentName:"ul"},"Connection state"),(0,i.kt)("li",{parentName:"ul"},"Last connection date and time"),(0,i.kt)("li",{parentName:"ul"},"The IP Address, where the client is running or has connecting from."),(0,i.kt)("li",{parentName:"ul"},"The MQTT protocol the client is using to connect to the broker."),(0,i.kt)("li",{parentName:"ul"},"The Queue Usage. Messages can be buffered, if delivering is interrupted to a certain limit. Here you can observe, if\nmessages are buffered or queued and see the maximum queue size. If the size limit is reached, messages are discarded."),(0,i.kt)("li",{parentName:"ul"},"Option to disconnect a client explicitly. To disconnect, simply click on the icon at within the Disconnect column.")),(0,i.kt)("p",null,"If you click on the arrow left to the Client ID more detailed infos related to the client are displayed in different\nsections. Not all sections are visible at once, so have to scroll down to view all details."),(0,i.kt)("img",{className:"docimagemb",src:n(35920).Z,width:"100%"}),(0,i.kt)("p",null,"Besides client connection general and detail infos, you can view detailed metrics related to message exchange. Please\nalso observe that you can view all topics, that the client has subscribed to."))}v.isMDXComponent=!0},35920:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/clientinspection_details-f554c77f9c24253839299e7cca5fd082.png"},21476:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/clientinspection_overview-cab21c8e0f5ac57d0b64752da4ce6047.png"}}]);