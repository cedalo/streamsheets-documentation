"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[88669],{13328:(e,t,n)=>{var i=n(64836);t.Z=void 0;var o=i(n(64938)),l=n(85893),r=(0,o.default)((0,l.jsx)("path",{d:"m23 12-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"}),"NewReleases");t.Z=r},9285:(e,t,n)=>{n.d(t,{Z:()=>r});var i,o=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}const r=e=>{let{title:t,titleId:n,...r}=e;return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,i||(i=o.createElement("path",{d:"m7.05 7.05 9.9 9.9M7.05 16.95l9.9-9.9",stroke:"#7C7FE3",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}},92792:(e,t,n)=>{n.d(t,{Z:()=>r});var i,o=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}const r=e=>{let{title:t,titleId:n,...r}=e;return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,i||(i=o.createElement("path",{d:"M3 6h18M19 6v13a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",stroke:"#7C7FE3",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}},55100:(e,t,n)=>{n.d(t,{Z:()=>r});var i,o=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}const r=e=>{let{title:t,titleId:n,...r}=e;return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,i||(i=o.createElement("path",{d:"M12 20h9M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4L16.5 3.5Z",stroke:"#7C7FE3",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}},1391:(e,t,n)=>{n.d(t,{Z:()=>r});var i,o=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}const r=e=>{let{title:t,titleId:n,...r}=e;return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,i||(i=o.createElement("path",{d:"m21 2-2 2m0 0 3 3-3.5 3.5-3-3M19 4l-3.5 3.5m-4.11 4.11a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777v-.001Zm0 0L15.5 7.5",stroke:"#7C7FE3",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}},25426:(e,t,n)=>{n.d(t,{Z:()=>a});var i,o,l=n(67294);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(this,arguments)}const a=e=>{let{title:t,titleId:n,...a}=e;return l.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none","aria-labelledby":n},a),t?l.createElement("title",{id:n},t):null,i||(i=l.createElement("path",{d:"M3 8.248v11.934a.818.818 0 0 0 .818.818h16.364a.819.819 0 0 0 .818-.818V3.818A.818.818 0 0 0 20.182 3H8.248a.818.818 0 0 0-.578.24L3.24 7.67a.818.818 0 0 0-.24.578Z",stroke:"#7C7FE3",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),o||(o=l.createElement("path",{d:"M12 17.729a3.273 3.273 0 1 0 0-6.545 3.273 3.273 0 0 0 0 6.545ZM7.909 7.91h8.181a.818.818 0 0 0 .819-.82V3",stroke:"#7C7FE3",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}},42369:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>C,contentTitle:()=>b,default:()=>T,frontMatter:()=>v,metadata:()=>w,toc:()=>x});var i=n(3905),o=n(55100),l=n(92792),r=n(25426),a=n(1391),s=n(9285),c=n(98437),u=n(78901),d=Object.defineProperty,p=Object.defineProperties,h=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&y(e,n,t[n]);if(m)for(var n of m(t))f.call(t,n)&&y(e,n,t[n]);return e};const v={id:"security-clients",title:"Client Accounts",sidebar_label:"Client Accounts"},b=void 0,w={unversionedId:"security/clients/security-clients",id:"version-3.0/security/clients/security-clients",title:"Client Accounts",description:"This section describes how to create client accounts in order to connect clients to the broker using the Platform UI.",source:"@site/mosquitto_versioned_docs/version-3.0/security/clients/clients.md",sourceDirName:"security/clients",slug:"/security/clients/",permalink:"/mosquitto/3.0/security/clients/",draft:!1,tags:[],version:"3.0",frontMatter:{id:"security-clients",title:"Client Accounts",sidebar_label:"Client Accounts"},sidebar:"someSidebar",previous:{title:"Setting Up HA Clusters",permalink:"/mosquitto/3.0/clustering/setting-up-ha-clusters"},next:{title:"Groups",permalink:"/mosquitto/3.0/security/clients/security-groups"}},C={},x=[{value:"Clients Overview",id:"clients-overview",level:2},{value:"Create client",id:"create-client",level:2},{value:"Modifying or deleting a client.",id:"modifying-or-deleting-a-client",level:2},{value:"Configuring default access",id:"configuring-default-access",level:2},{value:"Enabling the Plugin",id:"enabling-the-plugin",level:2},{value:"Configuration Recommendations",id:"configuration-recommendations",level:2},{value:"Required ACLs for Dynamic Security Plugin Interaction",id:"required-acls-for-dynamic-security-plugin-interaction",level:2}],N={toc:x};function T(e){var t,d=e,{components:y}=d,v=((e,t)=>{var n={};for(var i in e)g.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&m)for(var i of m(e))t.indexOf(i)<0&&f.call(e,i)&&(n[i]=e[i]);return n})(d,["components"]);return(0,i.kt)("wrapper",(t=k(k({},N),v),p(t,h({components:y,mdxType:"MDXLayout"}))),(0,i.kt)(u.Z,{version:"2.0",mdxType:"SinceVersion"}),(0,i.kt)("p",null,"This section describes how to create client accounts in order to connect ",(0,i.kt)("a",k({parentName:"p"},{href:"/mosquitto/3.0/glossary#Client"}),"clients")," to the broker using the Platform UI.\nA client account defines the connection details of a client (name, password, client id) and sets the access rights of a\nclient, when connected to the broker, by defining role(s) of a client and groups, a client can belong to a client\naccount can be used for multiple clients as long as no fixed client id has been set."),(0,i.kt)("p",null,'First navigate to "Client Accounts" within the MQTT Platform navigation. Then the client overview page is opened.'),(0,i.kt)("h2",k({},{id:"clients-overview"}),"Clients Overview"),(0,i.kt)("p",null,"The client overview lists all clients showing their name, id, text name and description. In addition, you can view and\nassign the group(s) the client belongs to and view and assign the role(s) of the client."),(0,i.kt)("p",null,"Following a sample client table listing some sample clients:"),(0,i.kt)("img",{className:"docimagemb",src:n(70234).Z,width:"100%"}),(0,i.kt)("h2",k({},{id:"create-client"}),"Create client"),(0,i.kt)("p",null,'To create a client, click on the "Add Client" Button on the top right. After that a client is added to the client table in the top row. '),(0,i.kt)("p",null,"Now you can edit the following client properties: "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Name"),": The name of the client, i.e., the name that is used for login. This name has to be unique!"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Client ID"),": The client id. If set, the client account needs to use that exact id for the connection. Leave empty to allow\nany client id for the connection. Note: Client ids have to be unique. A client connecting using the same client id as\nan already connected client, will force the broker to disconnect the connected client."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Description"),": A description for the client."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Groups"),": Open the dropdown box and select one or more groups from the list that the client is assigned to."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Roles"),": Open the dropdown box and select one or more roles from the list.")),(0,i.kt)("p",null,"After filling out the rows fields, press the save button in the actions column to create the new client. Then a dialog appears to assign an initial password for the new client. Please\nenter that and confirm your choice."),(0,i.kt)("img",{className:"docimagemb",src:n(6785).Z,width:"25%"}),(0,i.kt)("admonition",k({},{type:"info"}),(0,i.kt)("p",{parentName:"admonition"},'A client will only be actually usable, if some kind of role is assigned to the client. This could be directly or\nindirectly over a group, which has assigned roles. The defined ACLs in a role determine the rights of a client. If no role is assigned, the "Default Access control" is used. ')),(0,i.kt)("h2",k({},{id:"modifying-or-deleting-a-client"}),"Modifying or deleting a client."),(0,i.kt)("p",null,"In the actions columns, you have the following options, when you are not in edit mode:"),(0,i.kt)(c.Z,{mdxType:"PlatformIcon"},(0,i.kt)(a.Z,{mdxType:"PasswordIcon"})," To change the password of the client."),(0,i.kt)(c.Z,{mdxType:"PlatformIcon"},(0,i.kt)(o.Z,{mdxType:"EditIcon"})," To edit the properties of the client."),(0,i.kt)(c.Z,{marginBottom:"20px",mdxType:"PlatformIcon"},(0,i.kt)(l.Z,{mdxType:"DeleteIcon"})," To delete the client."),(0,i.kt)("p",null,'Click on the "Edit" button in to change the properties, which are explained above. If you are in edit mode, you have the following options: '),(0,i.kt)(c.Z,{mdxType:"PlatformIcon"},(0,i.kt)(r.Z,{mdxType:"SaveIcon"})," To save your changes to the client properties."),(0,i.kt)(c.Z,{marginBottom:"20px",mdxType:"PlatformIcon"},(0,i.kt)(s.Z,{mdxType:"CancelIcon"})," To cancel your changes to the client properties."),(0,i.kt)("p",null,"It is not always needed to delete a client. If you want to temporarily disconnect a client, go to the client inspection\ntable to connect or disconnect a client."),(0,i.kt)("h2",k({},{id:"configuring-default-access"}),"Configuring default access"),(0,i.kt)("p",null,"The initial configuration sets the default ACL type behaviors to:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"publishClientSend"),": deny"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"publishClientReceive"),": allow"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"subscribe"),": deny"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"unsubscribe"),": allow")),(0,i.kt)("p",null,'You can edit the default settings by clicking on the "Edit Default ACL Access" icon on the ',(0,i.kt)("a",k({parentName:"p"},{href:"/mosquitto/3.0/security/clients/security-roles"}),"Roles")," page."),(0,i.kt)("h1",k({},{id:"on-premises-configuration"}),"On-Premises Configuration"),(0,i.kt)("p",null,"The role-based authentication system in Pro Mosquitto is managed through the Dynamic Security plugin. This setup includes the configuration of client accounts, roles, and groups. By default, the plugin is pre-configured and ready to use."),(0,i.kt)("p",null,"To utilize the Dynamic Security plugin, it must be properly enabled in the broker's configuration, and an initial plugin configuration file must be created."),(0,i.kt)("h2",k({},{id:"enabling-the-plugin"}),"Enabling the Plugin"),(0,i.kt)("p",null,"To configure the broker to use the Dynamic Security plugin, add the following lines to your Mosquitto configuration (",(0,i.kt)("inlineCode",{parentName:"p"},"mosquitto.conf"),") file:"),(0,i.kt)("p",null,"Linux/Docker:"),(0,i.kt)("pre",null,(0,i.kt)("code",k({parentName:"pre"},{}),"plugin path/to/mosquitto_dynamic_security.so\nplugin_opt_config_file path/to/dynamic-security.json\n")),(0,i.kt)("p",null,"Windows:"),(0,i.kt)("pre",null,(0,i.kt)("code",k({parentName:"pre"},{}),"plugin path\\to\\mosquitto_dynamic_security.dll\nplugin_opt_config_file path\\to\\dynamic-security.json\n")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"dynamic-security.json")," file is where the plugin configuration will be\nstored. "),(0,i.kt)("h2",k({},{id:"configuration-recommendations"}),"Configuration Recommendations"),(0,i.kt)("p",null,"It is recommended to set ",(0,i.kt)("inlineCode",{parentName:"p"},"per_listener_settings false")," when using this plugin so that all listeners share the same authentication and access control settings."),(0,i.kt)("p",null,"If you plan to use the Pro Mosquitto Platform UI, make sure to create a user with the appropriate ACLs to interact with all activated plugins. The default ",(0,i.kt)("inlineCode",{parentName:"p"},"dynamic-security.json")," file includes a comprehensive set of roles and an ",(0,i.kt)("inlineCode",{parentName:"p"},"admin")," client account, which is pre-configured with all necessary roles to get started."),(0,i.kt)("h2",k({},{id:"required-acls-for-dynamic-security-plugin-interaction"}),"Required ACLs for Dynamic Security Plugin Interaction"),(0,i.kt)("p",null,"To manage the Dynamic Security plugin effectively, you must ensure that the following ACLs are configured:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"publishClientSend"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"$CONTROL/dynamic-security/#")," \u2014 Allows the client to control the Dynamic Security plugin."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"publishClientReceive"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"$CONTROL/dynamic-security/#")," \u2014 Permits the client to receive information from the plugin. While this is not required in the default setup, it should be included if the default ",(0,i.kt)("inlineCode",{parentName:"li"},"publishClientReceive")," behavior is set to ",(0,i.kt)("inlineCode",{parentName:"li"},"deny"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"subscribePattern"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"$CONTROL/dynamic-security/#")," \u2014 Grants the client permission to subscribe to and receive information from the plugin.")))}T.isMDXComponent=!0},98437:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(87462),o=n(63366),l=n(67294),r=n(86010),a=n(82962),s=n(86523),c=n(59766),u=n(85578);const d=["sx"];function p(e){const{sx:t}=e,n=(0,o.Z)(e,d),{systemProps:l,otherProps:r}=(e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((n=>{u.Gc[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t})(n);let a;return a=Array.isArray(t)?[l,...t]:"function"==typeof t?(...e)=>{const n=t(...e);return(0,c.P)(n)?(0,i.Z)({},l,n):l}:(0,i.Z)({},l,t),(0,i.Z)({},r,{sx:a})}var h=n(11938),m=n(85893);const g=["className","component"];var f=n(37078);const y=function(e={}){const{defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:c,styleFunctionSx:u=s.Z}=e,d=(0,a.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(u);return l.forwardRef((function(e,l){const a=(0,h.Z)(t),s=p(e),{className:u,component:f="div"}=s,y=(0,o.Z)(s,g);return(0,m.jsx)(d,(0,i.Z)({as:f,ref:l,className:(0,r.Z)(u,c?c(n):n),theme:a},y))}))}({defaultTheme:(0,n(11196).Z)(),defaultClassName:"MuiBox-root",generateClassName:f.Z.generate}),k=y;function v({children:e,marginBottom:t="10px"}){return l.createElement(k,{sx:{margin:`10px 10px ${t} 10px`,gap:"10px",display:"flex",alignItems:"center"}},l.createElement(k,{sx:{display:"flex",border:"1px solid lightgrey",p:"3px"}},e[0]),e[1])}},78901:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(67294),o=n(39082),l=n(13328);function r({version:e}){return e?i.createElement(o.Z,{sx:{margin:"0px 5px 5px 10px"},color:"info",size:"small",icon:i.createElement(l.Z,{size:"small"}),label:`${e}`}):i.createElement(i.Fragment,null)}},6785:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/client-password-30a0626ebcbbea9e38f922f7810b8846.png"},70234:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/clients-d0d4784d62573aca2b4ea7fa2b70ebb7.png"}}]);