"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[63794],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=o,f=u["".concat(l,".").concat(m)]||u[m]||d[m]||i;return n?r.createElement(f,a(a({ref:t},p),{},{components:n})):r.createElement(f,a({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var c=2;c<i;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},18249:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>m,default:()=>g,frontMatter:()=>u,metadata:()=>f,toc:()=>y});var r=n(3905),o=Object.defineProperty,i=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&p(e,n,t[n]);if(s)for(var n of s(t))c.call(t,n)&&p(e,n,t[n]);return e};const u={id:"license",title:"Manage Licenses",sidebar_label:"Manage Licenses"},m=void 0,f={unversionedId:"deployment/on-premises/deployment/administrating/license",id:"version-3.0/deployment/on-premises/deployment/administrating/license",title:"Manage Licenses",description:"Download License",source:"@site/mosquitto_versioned_docs/version-3.0/deployment/on-premises/deployment/administrating/license.md",sourceDirName:"deployment/on-premises/deployment/administrating",slug:"/deployment/on-premises/deployment/administrating/license",permalink:"/mosquitto/3.0/deployment/on-premises/deployment/administrating/license",draft:!1,tags:[],version:"3.0",frontMatter:{id:"license",title:"Manage Licenses",sidebar_label:"Manage Licenses"},sidebar:"someSidebar",previous:{title:"Basic Configurations On-Premises Broker",permalink:"/mosquitto/3.0/deployment/on-premises/deployment/administrating/configuring-on-premises"},next:{title:"Logs",permalink:"/mosquitto/3.0/deployment/on-premises/deployment/administrating/logs"}},h={},y=[{value:"Download License",id:"download-license",level:2},{value:"Update License",id:"update-license",level:2},{value:"Cluster license",id:"cluster-license",level:3}],b={toc:y};function g(e){var t,n=e,{components:o}=n,p=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(n,["components"]);return(0,r.kt)("wrapper",(t=d(d({},b),p),i(t,a({components:o,mdxType:"MDXLayout"}))),(0,r.kt)("h2",d({},{id:"download-license"}),"Download License"),(0,r.kt)("p",null,"Licenses can be downloaded either directly within the subscription of an on-premises broker on the Cedalo platform or at the project level. The project level allows you to download all available licenses in a single bundle, which is especially useful if you have multiple broker licenses within the same project. The license file is utilized for both the broker and the Cedalo platform UI, and by default, the license path for both is the same."),(0,r.kt)("h2",d({},{id:"update-license"}),"Update License"),(0,r.kt)("p",null,"After successfully downloading the license, locate the path to your existing license file. You can either replace the contents of the existing license file or remove/rename the old license file and add the new one. Ensure that the new license file retains the same name as the previous license file so that it can be recognized."),(0,r.kt)("p",null,"The new license file will take effect after restarting the services. Depending on your deployment method, the restart process may vary. For Docker deployments, you can use the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-bash"}),"docker restart <container_id_or_name>\n")),(0,r.kt)("p",null,"This restart will occur within seconds.\nIf you prefer not to restart your broker due to a requirement to keep it running, you can use a SIG_HUB command to reload the broker license (and configuration) at runtime."),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-bash"}),"docker compose kill -s HUP <container_id_or_name>\n")),(0,r.kt)("h3",d({},{id:"cluster-license"}),"Cluster license"),(0,r.kt)("p",null,"For cluster setups, the same process as described above applies. It is recommended to update the license one node at a time, starting with the follower nodes. Once the license on a node is successfully updated, you can move on to the next one, finalizing the process on the leader node."),(0,r.kt)("p",null,"In a scenario where you choose to restart the broker instead of using the ",(0,r.kt)("strong",{parentName:"p"},"SIG_HUB")," command, an election process will be initiated within the cluster to determine the next leader. This may result in a change of leadership, which is intended behavior. Clients will reconnect to the new leader and continue to function as expected."))}g.isMDXComponent=!0}}]);