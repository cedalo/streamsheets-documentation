"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[31774],{57283:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>f,contentTitle:()=>p,default:()=>y,frontMatter:()=>v,metadata:()=>g,toc:()=>b});var a=i(3905),n=i(78901),l=i(49044),r=Object.defineProperty,o=Object.defineProperties,s=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,h=(e,t,i)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,m=(e,t)=>{for(var i in t||(t={}))u.call(t,i)&&h(e,i,t[i]);if(c)for(var i of c(t))d.call(t,i)&&h(e,i,t[i]);return e};const v={id:"mmc-high-availability",title:"High Availability",sidebar_label:"High Availability"},p=void 0,g={unversionedId:"mmc-high-availability",id:"version-2.5/mmc-high-availability",title:"High Availability",description:"Introduction",source:"@site/management-center_versioned_docs/version-2.5/high-availability.md",sourceDirName:".",slug:"/mmc-high-availability",permalink:"/management-center/mmc-high-availability",draft:!1,tags:[],version:"2.5",frontMatter:{id:"mmc-high-availability",title:"High Availability",sidebar_label:"High Availability"},sidebar:"someSidebar",previous:{title:"User Groups \u2b50",permalink:"/management-center/user-groups"},next:{title:"Client Certificates and Custom CAs \u2b50",permalink:"/management-center/mc-custom-client-certificates-and-ca"}},f={},b=[{value:"Introduction",id:"introduction",level:2},{value:"Create Cluster",id:"create-cluster",level:2},{value:"Cluster details",id:"cluster-details",level:2},{value:"Remove nodes from a cluster",id:"remove-nodes-from-a-cluster",level:2},{value:"Delete a Cluster",id:"delete-a-cluster",level:2}],k={toc:b};function y(e){var t,r=e,{components:h}=r,v=((e,t)=>{var i={};for(var a in e)u.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&c)for(var a of c(e))t.indexOf(a)<0&&d.call(e,a)&&(i[a]=e[a]);return i})(r,["components"]);return(0,a.kt)("wrapper",(t=m(m({},k),v),o(t,s({components:h,mdxType:"MDXLayout"}))),(0,a.kt)(n.Z,{version:"2.3",mdxType:"SinceVersion"}),(0,a.kt)(l.Z,{mdxType:"PremiumFeature"}),(0,a.kt)("h2",m({},{id:"introduction"}),"Introduction"),(0,a.kt)("p",null,"The Cedalo high availability feature provides the ability to run a cluster of Mosquitto nodes with a single leader and multiple followers, so that broker availability can be ensured even if a single node becomes unavailable through fault or for an upgrade. This document describes the recommended cluster architecture and how to configure the cluster for first use, and in the future."),(0,a.kt)("p",null,"To understand more about the underlying architecture and configuration visit the ",(0,a.kt)("a",m({parentName:"p"},{href:"/mosquitto/broker-dynamic-security"}),"Mosquitto documentation")),(0,a.kt)("h2",m({},{id:"create-cluster"}),"Create Cluster"),(0,a.kt)("admonition",m({},{type:"info"}),(0,a.kt)("p",{parentName:"admonition"},"Before creating a cluster, it is necessary to connect your future cluster nodes to the Management Center. Make sure to be connected via Port 1885, to allow direct communication to the individual nodes, using a client with ACLs to read and write on the ",(0,a.kt)("em",{parentName:"p"},"$CONTROL")," topic of the broker.")),(0,a.kt)("p",null,'To navigate to the High Availability Cluster overview, select the "Cluster Management" menu entry from the left main menu.'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(94633).Z,width:"1277",height:"810"})),(0,a.kt)("p",null,'To create a new high availability cluster, click on the button "New cluster".'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(59109).Z,width:"1282",height:"900"})),(0,a.kt)("p",null,"On the following page you can enter the detail information about the cluster that you want to create."),(0,a.kt)("p",null,"Select a unique Node ID, enter the IP address of the broker with in its private network and select the preconfigured connection. "),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(39713).Z,width:"1277",height:"955"})),(0,a.kt)("p",null,'When you have entered all the necessary information, click on "Save". The new cluster will now be set up and the configuration will appear in the overview list.'),(0,a.kt)("h2",m({},{id:"cluster-details"}),"Cluster details"),(0,a.kt)("p",null,"Select the cluster in the overview list. This will navigate you to the detail view of the cluster.\nThe leader and follower are indicated by different icons"),(0,a.kt)("p",null,'To add a new node, first switch into edit mode by clicking on the button "Edit".\nThen, click on "Add node", which will open a select dialog that lists all available Mosquitto connections.'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(49189).Z,width:"1167",height:"1050"})),(0,a.kt)("p",null,'See here a cluster with four nodes, with the leader being the one with "Node ID" 2.'),(0,a.kt)("h2",m({},{id:"remove-nodes-from-a-cluster"}),"Remove nodes from a cluster"),(0,a.kt)("p",null,'Navigate to the cluster detail page (e.g., by selecting it in the overview list) and click the "Edit" button. Then, in order to remove a node, click on the "Remove" button next to that node.'),(0,a.kt)("h2",m({},{id:"delete-a-cluster"}),"Delete a Cluster"),(0,a.kt)("p",null,'Delete the Cluster by clicking the "bin" icon in the overview menu.'))}y.isMDXComponent=!0},49044:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(67294),n=i(74889),l=i(62659),r=i(83166);function o({}){return a.createElement(n.Z,{sx:{margin:"5px",color:"#ffffff",backgroundColor:l.Z[500]},size:"small",icon:a.createElement(r.Z,{style:{color:"white"},size:"small"}),label:"Premium"})}},78901:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(67294),n=i(74889),l=i(13328);function r({version:e}){return e?a.createElement(n.Z,{sx:{margin:"5px"},color:"info",size:"small",icon:a.createElement(l.Z,{size:"small"}),label:`${e}`}):a.createElement(a.Fragment,null)}},94633:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/clusteroverview-92819e8851d67112801935972d5f3f18.png"},49189:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/clusterview-8d46702a3cea327d9809b987d735ed7b.png"},59109:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/createCluster-c9852b481002f4cfe80d86afb2194df3.png"},39713:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/createClusterex-b8498ed5da0dc16020b79e8bc085fa2f.png"}}]);