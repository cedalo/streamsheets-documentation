"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[10467],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>d});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),p=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=p(r),d=n,f=m["".concat(s,".").concat(d)]||m[d]||c[d]||l;return r?a.createElement(f,i(i({ref:t},u),{},{components:r})):a.createElement(f,i({ref:t},u))}));function d(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=r.length,i=new Array(l);i[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:n,i[1]=o;for(var p=2;p<l;p++)i[p]=r[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},33605:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>y,contentTitle:()=>d,default:()=>h,frontMatter:()=>m,metadata:()=>f,toc:()=>g});var a=r(3905),n=Object.defineProperty,l=Object.defineProperties,i=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(o)for(var r of o(t))p.call(t,r)&&u(e,r,t[r]);return e};const m={id:"timescaleupdate",title:"TIMESCALE.UPDATE",sidebar_label:"TIMESCALE.UPDATE"},d=void 0,f={unversionedId:"functions/streams/timescaleupdate",id:"version-2.5/functions/streams/timescaleupdate",title:"TIMESCALE.UPDATE",description:"star This is a premium feature.",source:"@site/streamsheets_versioned_docs/version-2.5/functions/streams/timescaleupdate.md",sourceDirName:"functions/streams",slug:"/functions/streams/timescaleupdate",permalink:"/streamsheets/2.5/functions/streams/timescaleupdate",draft:!1,tags:[],version:"2.5",frontMatter:{id:"timescaleupdate",title:"TIMESCALE.UPDATE",sidebar_label:"TIMESCALE.UPDATE"},sidebar:"version-2.5/someSidebar",previous:{title:"TIMESCALE.SHOW_TABLES",permalink:"/streamsheets/2.5/functions/streams/timescaleshow_tables"},next:{title:"WEBSOCKET.CONNECT",permalink:"/streamsheets/2.5/functions/streams/websocketconnect"}},y={},g=[],b={toc:g};function h(e){var t,n=e,{components:u}=n,m=((e,t)=>{var r={};for(var a in e)s.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&o)for(var a of o(e))t.indexOf(a)<0&&p.call(e,a)&&(r[a]=e[a]);return r})(n,["components"]);return(0,a.kt)("wrapper",(t=c(c({},b),m),l(t,i({components:u,mdxType:"MDXLayout"}))),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"star",src:r(95865).Z,width:"24",height:"24"})," This is a ",(0,a.kt)("a",c({parentName:"p"},{href:"https://cedalo.com/pricing/streamsheets/"}),"premium")," feature."),(0,a.kt)("p",null,"Performs an UPDATE query on your timescale database.  "),(0,a.kt)("admonition",c({},{type:"info"}),(0,a.kt)("p",{parentName:"admonition"}," As of right now, the timescale functions work with the internal timescaledb. Leave the Stream parameter empty and the connection is automatically set up. We are working on allowing further timescale connections. ")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Syntax")),(0,a.kt)("p",null,"=TIMESCALE.UPDATE(Stream, UpdateJSON)"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",c({parentName:"tr"},{align:null}),"Name"),(0,a.kt)("th",c({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",c({parentName:"tr"},{align:null}),"Stream"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"Stream to use for querying. The database name is configured in the affiliated Connector.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",c({parentName:"tr"},{align:null}),"UpdateJSON"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"Defines a query using a JSON cell range, which contains all clauses to build the UPDATE query.")))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Return")),(0,a.kt)("p",null,"TRUE, if successful."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Examples")),(0,a.kt)("p",null," ",(0,a.kt)("img",{alt:"WritePayload",src:r(47606).Z,width:"633",height:"123"})," "),(0,a.kt)("p",null,'These are two ways to enter the update syntax. Either use one long string for the "set" command or divide the command in multiple rows.  '),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",c({parentName:"tr"},{align:null}),"Formula"),(0,a.kt)("th",c({parentName:"tr"},{align:null}),"Result"),(0,a.kt)("th",c({parentName:"tr"},{align:null}),"Comment"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",c({parentName:"tr"},{align:null}),(0,a.kt)("pre",null,(0,a.kt)("code",null,"=TIMESCALE.UPDATE(, JSON(A1:B3))"))),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"TRUE"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"Assuming passed JSON looks like ",(0,a.kt)("inlineCode",{parentName:"td"},"{ update: 'tableName', set: '\"SensorA\"=42', where: '\"SensorB\">50' }")," this will update column SensorA at all rows in which column SensorB has a value greater 50")))),(0,a.kt)("p",null,"For more examples see our ",(0,a.kt)("a",c({parentName:"p"},{href:"../../tutorials/tut-streams#timescaledb"}),"timescale tutorial"),"."))}h.isMDXComponent=!0},47606:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/TSupdate-4885d3b385ae0a74a3131aac75841dfd.png"},95865:(e,t,r)=>{r.d(t,{Z:()=>a});const a="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTExLjk5IDJDNi40NyAyIDIgNi40OCAyIDEyczQuNDcgMTAgOS45OSAxMEMxNy41MiAyMiAyMiAxNy41MiAyMiAxMlMxNy41MiAyIDExLjk5IDJ6bTQuMjQgMTZMMTIgMTUuNDUgNy43NyAxOGwxLjEyLTQuODEtMy43My0zLjIzIDQuOTItLjQyTDEyIDVsMS45MiA0LjUzIDQuOTIuNDItMy43MyAzLjIzTDE2LjIzIDE4eiIvPjwvc3ZnPg=="}}]);